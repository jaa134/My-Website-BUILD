/*! For license information please see 925.88f820c7.chunk.js.LICENSE.txt */
(self.webpackChunkmy_website_v2=self.webpackChunkmy_website_v2||[]).push([[925],{1015:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var i=n(2791);function r(e){return"number"===typeof e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){return a(e)||function(e){return Array.isArray(e)}(e)}function s(e){return Math.abs(e)}function u(e){return e?e/s(e):0}function l(e,t){return s(e-t)}function h(e){return d(e).map(Number)}function c(e){return e[f(e)]}function f(e){return Math.max(0,e.length-1)}function d(e){return Object.keys(e)}function p(e,t){return[e,t].reduce((function(e,t){return d(t).forEach((function(n){var i=e[n],r=t[n],o=a(i)&&a(r);e[n]=o?p(i,r):r})),e}),{})}function v(e,t){var n=d(e),i=d(t);return n.length===i.length&&n.every((function(n){var i=e[n],r=t[n];return"function"===typeof i?"".concat(i)==="".concat(r):o(i)&&o(r)?v(i,r):i===r}))}function g(e,t){var n={start:function(){return 0},center:function(e){return i(e)/2},end:i};function i(e){return t-e}return{measure:function(i){return r(e)?t*Number(e):n[e](i)}}}function y(e,t){var n=s(e-t);function i(t){return t<e}function r(e){return e>t}function a(e){return i(e)||r(e)}return{length:n,max:t,min:e,constrain:function(n){return a(n)?i(n)?e:t:n},reachedAny:a,reachedMax:r,reachedMin:i,removeOffset:function(e){return n?e-n*Math.ceil((e-t)/n):e}}}function m(e,t,n){var i=y(0,e),r=i.min,a=i.constrain,o=e+1,u=l(t);function l(e){return n?s((o+e)%o):a(e)}function h(){return u}function c(e){return u=l(e),f}var f={add:function(e){return c(h()+e)},clone:function(){return m(e,h(),n)},get:h,set:c,min:r,max:e};return f}function _(){var e=[];var t={add:function(n,i,r,a){return void 0===a&&(a={passive:!0}),n.addEventListener(i,r,a),e.push((function(){return n.removeEventListener(i,r,a)})),t},removeAll:function(){return e=e.filter((function(e){return e()})),t}};return t}function x(e){var t=e;function n(e){return t/=e,a}function i(e){return r(e)?e:e.get()}var a={add:function(e){return t+=i(e),a},divide:n,get:function(){return t},multiply:function(e){return t*=e,a},normalize:function(){return 0!==t&&n(t),a},set:function(e){return t=i(e),a},subtract:function(e){return t-=i(e),a}};return a}function k(e,t,n,i,r,a,o,h,c,f,d,p,v,g,y,m){var k=e.cross,b=["INPUT","SELECT","TEXTAREA"],C={passive:!1},w=x(0),E=_(),S=_(),Z=v.measure(20),T={mouse:300,touch:400},R={mouse:500,touch:600},I=y?5:16,P=1,M=0,O=0,F=!1,L=!1,A=!1,D=!1;function z(e){if((!(D=!r.isTouchEvent(e))||0===e.button)&&!function(e){var t=e.nodeName||"";return b.indexOf(t)>-1}(e.target)){var t=l(i.get(),a.get())>=2,o=D||!t;F=!0,r.pointerDown(e),w.set(i),i.set(a),c.useBaseMass().useSpeed(80),function(){var e=D?document:n;S.add(e,"touchmove",N,C).add(e,"touchend",G).add(e,"mousemove",N,C).add(e,"mouseup",G)}(),M=r.readPoint(e),O=r.readPoint(e,k),p.emit("pointerDown"),o&&(A=!1)}}function N(e){if(!L&&!D){if(!e.cancelable)return G(e);var n=r.readPoint(e),a=r.readPoint(e,k),s=l(n,M),u=l(a,O);if(!(L=s>u)&&!A)return G(e)}var h=r.pointerMove(e);!A&&h&&(A=!0),o.start(),i.add(t.apply(h)),e.preventDefault()}function G(e){var n=f.byDistance(0,!1).index!==d.get(),a=r.pointerUp(e)*(y?R:T)[D?"mouse":"touch"],o=function(e,t){var n=d.clone().add(-1*u(e)),i=n.get()===d.min||n.get()===d.max,r=f.byDistance(e,!y).distance;return y||s(e)<Z?r:!g&&i?.4*r:m&&t?.5*r:f.byIndex(n.get(),0).distance}(t.apply(a),n),v=function(e,t){if(0===e||0===t)return 0;if(s(e)<=s(t))return 0;var n=l(s(e),s(t));return s(n/e)}(a,o),_=l(i.get(),w.get())>=.5,x=n&&v>.75,k=s(a)<Z,b=x?10:I,C=x?P+2.5*v:P;_&&!D&&(A=!0),L=!1,F=!1,S.removeAll(),c.useSpeed(k?9:b).useMass(C),h.distance(o,!y),D=!1,p.emit("pointerUp")}function j(e){A&&(e.stopPropagation(),e.preventDefault())}return{addActivationEvents:function(){var e=n;E.add(e,"dragstart",(function(e){return e.preventDefault()}),C).add(e,"touchmove",(function(){}),C).add(e,"touchend",(function(){})).add(e,"touchstart",z).add(e,"mousedown",z).add(e,"touchcancel",G).add(e,"contextmenu",G).add(e,"click",j,!0)},clickAllowed:function(){return!A},pointerDown:function(){return F},removeAllEvents:function(){E.removeAll(),S.removeAll()}}}function b(e,t,n){var i=function(e){var t=Math.pow(10,e);return function(e){return Math.round(e*t)/t}}(2),r=x(0),a=x(0),o=x(0),s=0,l=t,h=n;function c(e){return l=e,d}function f(e){return h=e,d}var d={direction:function(){return s},seek:function(t){o.set(t).subtract(e);var n,i,c,f,p=(n=o.get(),(c=0)+(n-(i=0))/(100-i)*(l-c));return s=u(o.get()),o.normalize().multiply(p).subtract(r),(f=o).divide(h),a.add(f),d},settle:function(t){var n=t.get()-e.get(),r=!i(n);return r&&e.set(t),r},update:function(){r.add(a),e.add(r),a.multiply(0)},useBaseMass:function(){return f(n)},useBaseSpeed:function(){return c(t)},useMass:f,useSpeed:c};return d}function C(e,t,n,i,r){var a=r.measure(10),o=r.measure(50),u=.85,l=!1;return{constrain:function(r){if(!l&&e.reachedAny(n.get())&&e.reachedAny(t.get())){var h=e.reachedMin(t.get())?"min":"max",c=s(e[h]-t.get()),f=n.get()-t.get(),d=Math.min(c/o,u);n.subtract(f*d),!r&&s(f)<a&&(n.set(e.constrain(n.get())),i.useSpeed(10).useMass(3))}},toggleActive:function(e){l=!e}}}function w(e,t,n,i){var r=y(-t+e,n[0]),a=n.map(r.constrain);return{snapsContained:function(){if(t<=e)return[r.max];if("keepSnaps"===i)return a;var n=function(){var e=a[0],t=c(a),n=a.lastIndexOf(e),i=a.indexOf(t)+1;return y(n,i)}(),o=n.min,s=n.max;return a.slice(o,s)}()}}function E(e,t,n,i){var r=y(t.min+.1,t.max+.1),a=r.reachedMin,o=r.reachedMax;return{loop:function(t){if(function(e){return 1===e?o(n.get()):-1===e&&a(n.get())}(t)){var r=e*(-1*t);i.forEach((function(e){return e.add(r)}))}}}}function S(e){var t=e.max,n=e.length;return{get:function(e){return(e-t)/-n}}}function Z(e,t,n,i,r){var a=i.reachedAny,o=i.removeOffset,l=i.constrain;function h(e){return e.concat().sort((function(e,t){return s(e)-s(t)}))[0]}function c(t,i){var r=[t,t+n,t-n];return e?h(i?r.filter((function(e){return u(e)===i})):r):r[0]}return{byDistance:function(n,i){var u=r.get()+n,h=function(n){var i=e?o(n):l(n);return{index:t.map((function(e){return e-i})).map((function(e){return c(e,0)})).map((function(e,t){return{diff:e,index:t}})).sort((function(e,t){return s(e.diff)-s(t.diff)}))[0].index,distance:i}}(u),f=h.index,d=h.distance,p=!e&&a(u);return!i||p?{index:f,distance:n}:{index:f,distance:n+c(t[f]-d,0)}},byIndex:function(e,n){return{index:e,distance:c(t[e]-r.get(),n)}},shortcut:c}}function T(e,t,n){var i="x"===e.scroll?function(e){return"translate3d(".concat(e,"px,0px,0px)")}:function(e){return"translate3d(0px,".concat(e,"px,0px)")},r=n.style,a=!1;return{clear:function(){a||(r.transform="",n.getAttribute("style")||n.removeAttribute("style"))},to:function(e){a||(r.transform=i(t.apply(e.get())))},toggleActive:function(e){a=!e}}}function R(e,t,n,i,r,a,o,s,u){var l=h(r),c=h(r).reverse(),f=function(){var e=a[0]-1;return v(p(c,e),"end")}().concat(function(){var e=n-a[0]-1;return v(p(l,e),"start")}());function d(e,t){return e.reduce((function(e,t){return e-r[t]}),t)}function p(e,t){return e.reduce((function(e,n){return d(e,t)>0?e.concat([n]):e}),[])}function v(n,r){var a="start"===r,l=a?-i:i,h=o.findSlideBounds([l]);return n.map((function(n){var r=a?0:-i,o=a?i:0,l=h.filter((function(e){return e.index===n}))[0][a?"end":"start"],c=x(-1),f=x(-1),d=T(e,t,u[n]);return{index:n,location:f,translate:d,target:function(){return c.set(s.get()>l?r:o)}}}))}return{canLoop:function(){return f.every((function(e){var t=e.index;return d(l.filter((function(e){return e!==t})),n)<=.1}))},clear:function(){f.forEach((function(e){return e.translate.clear()}))},loop:function(){f.forEach((function(e){var t=e.target,n=e.translate,i=e.location,r=t();r.get()!==i.get()&&(0===r.get()?n.clear():n.to(r),i.set(r))}))},loopPoints:f}}function I(e,t,n,i,r,a,o){var s=r.removeOffset,u=r.constrain,l=.5,h=a?[0,t,-t]:[0],c=f(h,o);function f(t,r){var a=t||h,o=function(e){var t=e||0;return n.map((function(e){return y(l,e-l).constrain(e*t)}))}(r);return a.reduce((function(t,r){var a=i.map((function(t,i){return{start:t-n[i]+o[i]+r,end:t+e-o[i]+r,index:i}}));return t.concat(a)}),[])}return{check:function(e,t){var n=a?s(e):u(e);return(t||c).reduce((function(e,t){var i=t.index,r=t.start,a=t.end;return!(-1!==e.indexOf(i))&&(r<n&&a>n)?e.concat([i]):e}),[])},findSlideBounds:f}}function P(e,t,n){var i=r(n);return{groupSlides:function(r){return i?function(e,t){return h(e).filter((function(e){return e%t===0})).map((function(n){return e.slice(n,n+t)}))}(r,n):function(n){return h(n).reduce((function(n,i){var r=t.slice(c(n),i+1).reduce((function(e,t){return e+t}),0);return!i||r>e?n.concat(i):n}),[]).map((function(e,t,i){return n.slice(e,i[t+1])}))}(r)}}}function M(e,t,n,i,r){var a=i.align,o=i.axis,u=i.direction,l=i.startIndex,d=i.inViewThreshold,p=i.loop,v=i.speed,M=i.dragFree,O=i.slidesToScroll,F=i.skipSnaps,L=i.containScroll,A=t.getBoundingClientRect(),D=n.map((function(e){return e.getBoundingClientRect()})),z=function(e){var t="rtl"===e?-1:1;return{apply:function(e){return e*t}}}(u),N=function(e,t){var n="y"===e?"y":"x";return{scroll:n,cross:"y"===e?"x":"y",startEdge:"y"===n?"top":"rtl"===t?"right":"left",endEdge:"y"===n?"bottom":"rtl"===t?"left":"right",measureSize:function(e){var t=e.width,i=e.height;return"x"===n?t:i}}}(o,u),G=N.measureSize(A),j=function(e){return{measure:function(t){return e*(t/100)}}}(G),q=g(a,G),W=!p&&""!==L,X=function(e,t,n,i,r){var a=e.measureSize,o=e.startEdge,u=e.endEdge,l=n[0]&&r,h=function(){if(!l)return 0;var e=n[0];return s(t[o]-e[o])}(),d=function(){if(!l)return 0;var e=window.getComputedStyle(c(i));return parseFloat(e.getPropertyValue("margin-".concat(u)))}(),p=n.map(a),v=n.map((function(e,t,n){var i=!t,r=t===f(n);return i?p[t]+h:r?p[t]+d:n[t+1][o]-e[o]})).map(s);return{slideSizes:p,slideSizesWithGaps:v}}(N,A,D,n,p||""!==L),V=X.slideSizes,Y=X.slideSizesWithGaps,U=P(G,Y,O),B=function(e,t,n,i,r,a,o){var u=e.startEdge,l=e.endEdge,h=a.groupSlides,d=h(i).map((function(e){return c(e)[l]-e[0][u]})).map(s).map(t.measure),p=i.map((function(e){return n[u]-e[u]})).map((function(e){return-s(e)})),v=function(){var e=c(p)-c(r);return h(p).map((function(e){return e[0]})).map((function(t,n,i){var r=!n,a=n===f(i);return o&&r?0:o&&a?e:t+d[n]}))}();return{snaps:p,snapsAligned:v}}(N,q,A,D,Y,U,W),K=B.snaps,H=B.snapsAligned,J=-c(K)+c(Y),$=w(G,J,H,L).snapsContained,Q=W?$:H,ee=function(e,t,n){return{limit:function(){var i=t[0],r=c(t);return y(n?i-e:r,i)}()}}(J,Q,p).limit,te=m(f(Q),l,p),ne=te.clone(),ie=h(n),re=function(e){var t=0;function n(e,n){return function(){e===!!t&&n()}}function i(){t=window.requestAnimationFrame(e)}return{proceed:n(!0,i),start:n(!1,i),stop:n(!0,(function(){window.cancelAnimationFrame(t),t=0}))}}((function(){p||de.scrollBounds.constrain(de.dragHandler.pointerDown()),de.scrollBody.seek(se).update();var e=de.scrollBody.settle(se);e&&!de.dragHandler.pointerDown()&&(de.animation.stop(),r.emit("settle")),e||r.emit("scroll"),p&&(de.scrollLooper.loop(de.scrollBody.direction()),de.slideLooper.loop()),de.translate.to(oe),de.animation.proceed()})),ae=Q[te.get()],oe=x(ae),se=x(ae),ue=b(oe,v,1),le=Z(p,Q,J,ee,se),he=function(e,t,n,i,r,a){function o(i){var o=i.distance,s=i.index!==t.get();o&&(e.start(),r.add(o)),s&&(n.set(t.get()),t.set(i.index),a.emit("select"))}return{distance:function(e,t){o(i.byDistance(e,t))},index:function(e,n){var r=t.clone().set(e);o(i.byIndex(r.get(),n))}}}(re,te,ne,le,se,r),ce=I(G,J,V,K,ee,p,d),fe=k(N,z,e,se,function(e){var t,n,i=170;function r(e){return"undefined"!==typeof TouchEvent&&e instanceof TouchEvent}function a(e){return e.timeStamp}function o(t,n){var i=n||e.scroll,a="client".concat("x"===i?"X":"Y");return(r(t)?t.touches[0]:t)[a]}return{isTouchEvent:r,pointerDown:function(e){return t=e,n=e,o(e)},pointerMove:function(e){var r=o(e)-o(n),s=a(e)-a(t)>i;return n=e,s&&(t=e),r},pointerUp:function(e){if(!t||!n)return 0;var r=o(n)-o(t),u=a(e)-a(t),l=a(e)-a(n)>i,h=r/u;return u&&!l&&s(h)>.1?h:0},readPoint:o}}(N),oe,re,he,ue,le,te,r,j,p,M,F),de={containerRect:A,slideRects:D,animation:re,axis:N,direction:z,dragHandler:fe,eventStore:_(),percentOfView:j,index:te,indexPrevious:ne,limit:ee,location:oe,options:i,scrollBody:ue,scrollBounds:C(ee,oe,se,ue,j),scrollLooper:E(J,ee,oe,[oe,se]),scrollProgress:S(ee),scrollSnaps:Q,scrollTarget:le,scrollTo:he,slideLooper:R(N,z,G,J,Y,Q,ce,oe,n),slidesToScroll:U,slidesInView:ce,slideIndexes:ie,target:se,translate:T(N,z,t)};return de}var O={align:"center",axis:"x",containScroll:"",direction:"ltr",slidesToScroll:1,breakpoints:{},dragFree:!1,draggable:!0,inViewThreshold:0,loop:!1,skipSnaps:!1,speed:10,startIndex:0,active:!0};function F(){function e(e,t){return p(e,t||{})}return{merge:e,areEqual:function(e,t){return JSON.stringify(d(e.breakpoints||{}))===JSON.stringify(d(t.breakpoints||{}))&&v(e,t)},atMedia:function(t){var n=t.breakpoints||{},i=d(n).filter((function(e){return window.matchMedia(e).matches})).map((function(e){return n[e]})).reduce((function(t,n){return e(t,n)}),{});return e(t,i)}}}function L(e,t,n){var i,r,a,o,s,u=_(),l=F(),h=function(){var e=F(),t=e.atMedia,n=e.areEqual,i=[],r=[];function a(e){var i=t(e.options);return function(){return!n(i,t(e.options))}}var o={init:function(e,n){return r=e.map(a),(i=e.filter((function(e){return t(e.options).active}))).forEach((function(e){return e.init(n)})),e.reduce((function(e,t){var n;return Object.assign(e,((n={})[t.name]=t,n))}),{})},destroy:function(){i=i.filter((function(e){return e.destroy()}))},haveChanged:function(){return r.some((function(e){return e()}))}};return o}(),c=function(){var e={};function t(t){return e[t]||[]}var n={emit:function(e){return t(e).forEach((function(t){return t(e)})),n},off:function(i,r){return e[i]=t(i).filter((function(e){return e!==r})),n},on:function(i,r){return e[i]=t(i).concat([r]),n}};return n}(),f=c.on,d=c.off,p=b,v=!1,g=l.merge(O,L.globalOptions),y=l.merge(g),m=[],x=0;function k(t,n){if(!v){if(function(){var t="container"in e&&e.container,n="slides"in e&&e.slides;a="root"in e?e.root:e,o=t||a.children[0],s=n||[].slice.call(o.children)}(),g=l.merge(g,t),y=l.atMedia(g),i=M(a,o,s,y,c),x=i.axis.measureSize(a.getBoundingClientRect()),!y.active)return C();if(i.translate.to(i.location),m=n||m,r=h.init(m,Z),y.loop){if(!i.slideLooper.canLoop())return C(),k({loop:!1},n),void(g=l.merge(g,{loop:!0}));i.slideLooper.loop()}y.draggable&&o.offsetParent&&s.length&&i.dragHandler.addActivationEvents()}}function b(e,t){var n=S();C(),k(l.merge({startIndex:n},e),t),c.emit("reInit")}function C(){i.dragHandler.removeAllEvents(),i.animation.stop(),i.eventStore.removeAll(),i.translate.clear(),i.slideLooper.clear(),h.destroy()}function w(e){var t=i[e?"target":"location"].get(),n=y.loop?"removeOffset":"constrain";return i.slidesInView.check(i.limit[n](t))}function E(e,t,n){y.active&&!v&&(i.scrollBody.useBaseMass().useSpeed(t?100:y.speed),i.scrollTo.index(e,n||0))}function S(){return i.index.get()}var Z={canScrollNext:function(){return i.index.clone().add(1).get()!==S()},canScrollPrev:function(){return i.index.clone().add(-1).get()!==S()},clickAllowed:function(){return i.dragHandler.clickAllowed()},containerNode:function(){return o},internalEngine:function(){return i},destroy:function(){v||(v=!0,u.removeAll(),C(),c.emit("destroy"))},off:d,on:f,plugins:function(){return r},previousScrollSnap:function(){return i.indexPrevious.get()},reInit:p,rootNode:function(){return a},scrollNext:function(e){E(i.index.clone().add(1).get(),!0===e,-1)},scrollPrev:function(e){E(i.index.clone().add(-1).get(),!0===e,1)},scrollProgress:function(){return i.scrollProgress.get(i.location.get())},scrollSnapList:function(){return i.scrollSnaps.map(i.scrollProgress.get)},scrollTo:E,selectedScrollSnap:S,slideNodes:function(){return s},slidesInView:w,slidesNotInView:function(e){var t=w(e);return i.slideIndexes.filter((function(e){return-1===t.indexOf(e)}))}};return k(t,n),u.add(window,"resize",(function(){var e=l.atMedia(g),t=!l.areEqual(e,y),n=i.axis.measureSize(a.getBoundingClientRect()),r=x!==n,o=h.haveChanged();(r||t||o)&&b(),c.emit("resize")})),setTimeout((function(){return c.emit("init")}),0),Z}function A(e){return e.concat().sort((function(e,t){return e.name>t.name?1:-1})).map((function(e){return e.options}))}function D(e,t){void 0===e&&(e={}),void 0===t&&(t=[]);var n=(0,i.useRef)(L.optionsHandler()),r=(0,i.useRef)(e),a=(0,i.useRef)(t),o=(0,i.useState)(),s=o[0],u=o[1],l=(0,i.useState)(),h=l[0],c=l[1],f=(0,i.useCallback)((function(){s&&s.reInit(r.current,a.current)}),[s]);return(0,i.useEffect)((function(){if("undefined"!==typeof window&&window.document&&window.document.createElement&&h){L.globalOptions=D.globalOptions;var e=L(h,r.current,a.current);return u(e),function(){return e.destroy()}}u(void 0)}),[h,u]),(0,i.useEffect)((function(){n.current.areEqual(r.current,e)||(r.current=e,f())}),[e,f]),(0,i.useEffect)((function(){(function(e,t){if(e.length!==t.length)return!1;var n=L.optionsHandler().areEqual,i=A(e),r=A(t);return i.every((function(e,t){var i=r[t];return n(e,i)}))})(a.current,t)||(a.current=t,f())}),[t,f]),[c,s]}L.globalOptions=void 0,L.optionsHandler=F,D.globalOptions=void 0},4038:function(e,t){t.read=function(e,t,n,i,r){var a,o,s=8*r-i-1,u=(1<<s)-1,l=u>>1,h=-7,c=n?r-1:0,f=n?-1:1,d=e[t+c];for(c+=f,a=d&(1<<-h)-1,d>>=-h,h+=s;h>0;a=256*a+e[t+c],c+=f,h-=8);for(o=a&(1<<-h)-1,a>>=-h,h+=i;h>0;o=256*o+e[t+c],c+=f,h-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),a-=l}return(d?-1:1)*o*Math.pow(2,a-i)},t.write=function(e,t,n,i,r,a){var o,s,u,l=8*a-r-1,h=(1<<l)-1,c=h>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:a-1,p=i?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+c>=1?f/u:f*Math.pow(2,1-c))*u>=2&&(o++,u/=2),o+c>=h?(s=0,o=h):o+c>=1?(s=(t*u-1)*Math.pow(2,r),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,r),o=0));r>=8;e[n+d]=255&s,d+=p,s/=256,r-=8);for(o=o<<r|s,l+=r;l>0;e[n+d]=255&o,d+=p,o/=256,l-=8);e[n+d-p]|=128*v}},7386:function(e,t,n){"use strict";e.exports=r;var i=n(4038);function r(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var a=4294967296,o=1/a,s="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");function u(e){return e.type===r.Bytes?e.readVarint()+e.pos:e.pos+1}function l(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function h(e,t,n){var i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=e;r--)n.buf[r+i]=n.buf[r]}function c(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function _(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function x(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function k(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function b(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,a=this.pos;this.type=7&i,e(r,t,this),this.pos===a&&this.skip(i)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=x(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=b(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=x(this.buf,this.pos)+x(this.buf,this.pos+4)*a;return this.pos+=8,e},readSFixed64:function(){var e=x(this.buf,this.pos)+b(this.buf,this.pos+4)*a;return this.pos+=8,e},readFloat:function(){var e=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,i=this.buf;return t=127&(n=i[this.pos++]),n<128?t:(t|=(127&(n=i[this.pos++]))<<7,n<128?t:(t|=(127&(n=i[this.pos++]))<<14,n<128?t:(t|=(127&(n=i[this.pos++]))<<21,n<128?t:function(e,t,n){var i,r,a=n.buf;if(r=a[n.pos++],i=(112&r)>>4,r<128)return l(e,i,t);if(r=a[n.pos++],i|=(127&r)<<3,r<128)return l(e,i,t);if(r=a[n.pos++],i|=(127&r)<<10,r<128)return l(e,i,t);if(r=a[n.pos++],i|=(127&r)<<17,r<128)return l(e,i,t);if(r=a[n.pos++],i|=(127&r)<<24,r<128)return l(e,i,t);if(r=a[n.pos++],i|=(1&r)<<31,r<128)return l(e,i,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=i[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&s?function(e,t,n){return s.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){var i="",r=t;for(;r<n;){var a,o,s,u=e[r],l=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h>n)break;1===h?u<128&&(l=u):2===h?128===(192&(a=e[r+1]))&&(l=(31&u)<<6|63&a)<=127&&(l=null):3===h?(a=e[r+1],o=e[r+2],128===(192&a)&&128===(192&o)&&((l=(15&u)<<12|(63&a)<<6|63&o)<=2047||l>=55296&&l<=57343)&&(l=null)):4===h&&(a=e[r+1],o=e[r+2],s=e[r+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&((l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,h=1):l>65535&&(l-=65536,i+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),i+=String.fromCharCode(l),r+=h}return i}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==r.Bytes)return e.push(this.readVarint(t));var n=u(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==r.Bytes)return e.push(this.readSVarint());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==r.Bytes)return e.push(this.readBoolean());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==r.Bytes)return e.push(this.readFloat());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==r.Bytes)return e.push(this.readDouble());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed32());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed32());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed64());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed64());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),k(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),k(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),k(this.buf,-1&e,this.pos),k(this.buf,Math.floor(e*o),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),k(this.buf,-1&e,this.pos),k(this.buf,Math.floor(e*o),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,i;e>=0?(n=e%4294967296|0,i=e/4294967296|0):(i=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,i=i+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;if(t.buf[t.pos++]|=n|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(i,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var i,r,a=0;a<t.length;a++){if((i=t.charCodeAt(a))>55295&&i<57344){if(!r){i>56319||a+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):r=i;continue}if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(e[n++]=239,e[n++]=191,e[n++]=189,r=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&h(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),i.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),i.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var i=this.pos-n;i>=128&&h(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,c,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,v,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,y,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,_,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},888:function(e,t,n){"use strict";var i=n(9047);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5950:function(e){e.exports=function(){"use strict";function e(e,i,r,a,o){!function e(n,i,r,a,o){for(;a>r;){if(a-r>600){var s=a-r+1,u=i-r+1,l=Math.log(s),h=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*h*(s-h)/s)*(u-s/2<0?-1:1);e(n,i,Math.max(r,Math.floor(i-u*h/s+c)),Math.min(a,Math.floor(i+(s-u)*h/s+c)),o)}var f=n[i],d=r,p=a;for(t(n,r,i),o(n[a],f)>0&&t(n,r,a);d<p;){for(t(n,d,p),d++,p--;o(n[d],f)<0;)d++;for(;o(n[p],f)>0;)p--}0===o(n[r],f)?t(n,r,p):t(n,++p,a),p<=i&&(r=p+1),i<=p&&(a=p-1)}}(e,i,r||0,a||e.length-1,o||n)}function t(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function n(e,t){return e<t?-1:e>t?1:0}var i=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(e,t,n){if(!n)return t.indexOf(e);for(var i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function a(e,t){o(e,0,e.children.length,t,e)}function o(e,t,n,i,r){r||(r=p(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var a=t;a<n;a++){var o=e.children[a];s(r,e.leaf?i(o):o)}return r}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function l(e,t){return e.minY-t.minY}function h(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function c(e){return e.maxX-e.minX+(e.maxY-e.minY)}function f(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function d(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,n,i,r,a){for(var o=[n,i];o.length;)if(!((i=o.pop())-(n=o.pop())<=r)){var s=n+Math.ceil((i-n)/r/2)*r;e(t,s,n,i,a),o.push(n,s,s,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(e){var t=this.data,n=[];if(!d(e,t))return n;for(var i=this.toBBox,r=[];t;){for(var a=0;a<t.children.length;a++){var o=t.children[a],s=t.leaf?i(o):o;d(e,s)&&(t.leaf?n.push(o):f(e,s)?this._all(o,n):r.push(o))}t=r.pop()}return n},i.prototype.collides=function(e){var t=this.data;if(!d(e,t))return!1;for(var n=[];t;){for(var i=0;i<t.children.length;i++){var r=t.children[i],a=t.leaf?this.toBBox(r):r;if(d(e,a)){if(t.leaf||f(e,a))return!0;n.push(r)}}t=n.pop()}return!1},i.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},i.prototype.clear=function(){return this.data=p([]),this},i.prototype.remove=function(e,t){if(!e)return this;for(var n,i,a,o=this.data,s=this.toBBox(e),u=[],l=[];o||u.length;){if(o||(o=u.pop(),i=u[u.length-1],n=l.pop(),a=!0),o.leaf){var h=r(e,o.children,t);if(-1!==h)return o.children.splice(h,1),u.push(o),this._condense(u),this}a||o.leaf||!f(o,s)?i?(n++,o=i.children[n],a=!1):o=null:(u.push(o),l.push(n),n=0,i=o,o=o.children[0])}return this},i.prototype.toBBox=function(e){return e},i.prototype.compareMinX=function(e,t){return e.minX-t.minX},i.prototype.compareMinY=function(e,t){return e.minY-t.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(e){return this.data=e,this},i.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},i.prototype._build=function(e,t,n,i){var r,o=n-t+1,s=this._maxEntries;if(o<=s)return a(r=p(e.slice(t,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(r=p([])).leaf=!1,r.height=i;var u=Math.ceil(o/s),l=u*Math.ceil(Math.sqrt(s));v(e,t,n,l,this.compareMinX);for(var h=t;h<=n;h+=l){var c=Math.min(h+l-1,n);v(e,h,c,u,this.compareMinY);for(var f=h;f<=c;f+=u){var d=Math.min(f+u-1,c);r.children.push(this._build(e,f,d,i-1))}}return a(r,this.toBBox),r},i.prototype._chooseSubtree=function(e,t,n,i){for(;i.push(t),!t.leaf&&i.length-1!==n;){for(var r=1/0,a=1/0,o=void 0,s=0;s<t.children.length;s++){var u=t.children[s],l=h(u),c=(f=e,d=u,(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-l);c<a?(a=c,r=l<r?l:r,o=u):c===a&&l<r&&(r=l,o=u)}t=o||t.children[0]}var f,d;return t},i.prototype._insert=function(e,t,n){var i=n?e:this.toBBox(e),r=[],a=this._chooseSubtree(i,this.data,t,r);for(a.children.push(e),s(a,i);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(i,r,t)},i.prototype._split=function(e,t){var n=e[t],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),s=p(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(e,t,n){for(var i,r,a,s,u,l,c,f=1/0,d=1/0,p=t;p<=n-t;p++){var v=o(e,0,p,this.toBBox),g=o(e,p,n,this.toBBox),y=(r=v,a=g,s=void 0,u=void 0,l=void 0,c=void 0,s=Math.max(r.minX,a.minX),u=Math.max(r.minY,a.minY),l=Math.min(r.maxX,a.maxX),c=Math.min(r.maxY,a.maxY),Math.max(0,l-s)*Math.max(0,c-u)),m=h(v)+h(g);y<f?(f=y,i=p,d=m<d?m:d):y===f&&m<d&&(d=m,i=p)}return i||n-t},i.prototype._chooseSplitAxis=function(e,t,n){var i=e.leaf?this.compareMinX:u,r=e.leaf?this.compareMinY:l;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,r)&&e.children.sort(i)},i.prototype._allDistMargin=function(e,t,n,i){e.children.sort(i);for(var r=this.toBBox,a=o(e,0,t,r),u=o(e,n-t,n,r),l=c(a)+c(u),h=t;h<n-t;h++){var f=e.children[h];s(a,e.leaf?r(f):f),l+=c(a)}for(var d=n-t-1;d>=t;d--){var p=e.children[d];s(u,e.leaf?r(p):p),l+=c(u)}return l},i.prototype._adjustParentBBoxes=function(e,t,n){for(var i=n;i>=0;i--)s(t[i],e)},i.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():a(e[t],this.toBBox)},i}()},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(9142);function r(e,t,n){return(t=(0,i.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(1120);function r(){return r="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,i.Z)(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},r.apply(this,arguments)}},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(4942);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},1515:function(e,t,n){"use strict";n.d(t,{nn:function(){return ss}});var i=n(5400),r=n(927),a=n(8920),o=n(5671),s=n(3144),u=n(6108),l=n(7130),h=n(7678),c=n(4777),f=n(5172),d=n(2357);function p(e,t,n,i,r,a,o){var s,u,l=(n-t)/i;if(1===l)s=t;else if(2===l)s=t,u=r;else if(0!==l){for(var c=e[t],f=e[t+1],p=0,v=[0],g=t+i;g<n;g+=i){var y=e[g],m=e[g+1];p+=Math.sqrt((y-c)*(y-c)+(m-f)*(m-f)),v.push(p),c=y,f=m}var _=r*p,x=(0,h.ry)(v,_);x<0?(u=(_-v[-x-2])/(v[-x-1]-v[-x-2]),s=t+(-x-2)*i):s=t+x*i}o=o>1?o:2,a=a||new Array(o);for(var k=0;k<o;++k)a[k]=void 0===s?NaN:void 0===u?e[s+k]:(0,d.t7)(e[s+k],e[s+i+k],u);return a}function v(e,t,n,i,r,a){if(n==t)return null;var o;if(r<e[t+i-1])return a?((o=e.slice(t,t+i))[i-1]=r,o):null;if(e[n-1]<r)return a?((o=e.slice(n-i,n))[i-1]=r,o):null;if(r==e[t+i-1])return e.slice(t,t+i);for(var s=t/i,u=n/i;s<u;){var l=s+u>>1;r<e[(l+1)*i-1]?u=l:s=l+1}var h=e[s*i-1];if(r==h)return e.slice((s-1)*i,(s-1)*i+i);var c=(r-h)/(e[(s+1)*i-1]-h);o=[];for(var f=0;f<i-1;++f)o.push((0,d.t7)(e[(s-1)*i+f],e[s*i+f],c));return o.push(r),o}function g(e,t,n,i){for(var r=[],a=(0,l.lJ)(),o=0,s=n.length;o<s;++o){var u=n[o];a=(0,l.GN)(e,t,u[0],i),r.push((a[0]+a[2])/2,(a[1]+a[3])/2),t=u[u.length-1]}return r}var y=n(9045),m=(0,u.Ue)(),_=function(){function e(t,n,i,r,a){(0,o.Z)(this,e),this.styleFunction,this.extent_,this.id_=a,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i,this.properties_=r}return(0,s.Z)(e,[{key:"get",value:function(e){return this.properties_[e]}},{key:"getExtent",value:function(){return this.extent_||(this.extent_="Point"===this.type_?(0,l.HK)(this.flatCoordinates_):(0,l.GN)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}},{key:"getFlatInteriorPoint",value:function(){if(!this.flatInteriorPoints_){var e=(0,l.qg)(this.getExtent());this.flatInteriorPoints_=(0,c.X)(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}},{key:"getFlatInteriorPoints",value:function(){if(!this.flatInteriorPoints_){var e=g(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,c.U)(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_}},{key:"getFlatMidpoint",value:function(){return this.flatMidpoints_||(this.flatMidpoints_=p(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}},{key:"getFlatMidpoints",value:function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var e=this.flatCoordinates_,t=0,n=this.ends_,i=0,r=n.length;i<r;++i){var a=n[i],o=p(e,t,a,2,.5);(0,h.l7)(this.flatMidpoints_,o),t=a}}return this.flatMidpoints_}},{key:"getId",value:function(){return this.id_}},{key:"getOrientedFlatCoordinates",value:function(){return this.flatCoordinates_}},{key:"getGeometry",value:function(){return this}},{key:"getSimplifiedGeometry",value:function(e){return this}},{key:"simplifyTransformed",value:function(e,t){return this}},{key:"getProperties",value:function(){return this.properties_}},{key:"getStride",value:function(){return 2}},{key:"getStyleFunction",value:function(){return this.styleFunction}},{key:"getType",value:function(){return this.type_}},{key:"transform",value:function(e){var t=(e=(0,f.U2)(e)).getExtent(),n=e.getWorldExtent();if(t&&n){var i=(0,l.Cr)(n)/(0,l.Cr)(t);(0,u.qC)(m,n[0],n[3],i,-i,0,0,0),(0,y.vT)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,m,this.flatCoordinates_)}}},{key:"getEnds",value:function(){return this.ends_}}]),e}();_.prototype.getEndss=_.prototype.getEnds,_.prototype.getFlatCoordinates=_.prototype.getOrientedFlatCoordinates;var x=_,k=n(6233),b=n(4665),C=n(9236),w=n(7907),E=n(6862),S=n(9439);function Z(e,t,n,i){return void 0!==i?(i[0]=e,i[1]=t,i[2]=n,i):[e,t,n]}function T(e,t,n){return e+"/"+t+"/"+n}function R(e){return T(e[0],e[1],e[2])}function I(e){return e.split("/").map(Number)}function P(e,t){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,a=/\{-y\}/g;return function(o,s,u){if(o)return e.replace(n,o[0].toString()).replace(i,o[1].toString()).replace(r,o[2].toString()).replace(a,(function(){var e=o[0],n=t.getFullTileRange(e);return(0,E.h)(n,55),(n.getHeight()-o[2]-1).toString()}))}}function M(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=P(e[r],t);return function(e){if(1===e.length)return e[0];return function(t,n,i){if(t){var r=function(e){return(e[1]<<e[0])+e[2]}(t),a=(0,d.$W)(r,e.length);return e[a](t,n,i)}}}(i)}function O(e){var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var i,r=n[1].charCodeAt(0),a=n[2].charCodeAt(0);for(i=r;i<=a;++i)t.push(e.replace(n[0],String.fromCharCode(i)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e)){for(var o=parseInt(n[2],10),s=parseInt(n[1],10);s<=o;s++)t.push(e.replace(n[0],s.toString()));return t}return t.push(e),t}var F=n(136),L=n(9388),A=n(2652),D=n(1752),z=n(1120),N=n(5947),G=n(3263),j=n(923);function q(e){for(var t=[],n=0,i=e.length;n<i;++n)t.push(e[n].clone());return t}var W=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this)).geometries_=e||null,i.changeEventsKeys_=[],i.listenGeometriesChange_(),i}return(0,s.Z)(n,[{key:"unlistenGeometriesChange_",value:function(){this.changeEventsKeys_.forEach(j.bN),this.changeEventsKeys_.length=0}},{key:"listenGeometriesChange_",value:function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push((0,j.oL)(this.geometries_[e],N.Z.CHANGE,this.changed,this))}},{key:"clone",value:function(){var e=new n(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){if(i<(0,l.qf)(this.getExtent(),e,t))return i;for(var r=this.geometries_,a=0,o=r.length;a<o;++a)i=r[a].closestPointXY(e,t,n,i);return i}},{key:"containsXY",value:function(e,t){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)if(n[i].containsXY(e,t))return!0;return!1}},{key:"computeExtent",value:function(e){(0,l.YN)(e);for(var t=this.geometries_,n=0,i=t.length;n<i;++n)(0,l.l7)(e,t[n].getExtent());return e}},{key:"getGeometries",value:function(){return q(this.geometries_)}},{key:"getGeometriesArray",value:function(){return this.geometries_}},{key:"getGeometriesArrayRecursive",value:function(){for(var e=[],t=this.geometries_,n=0,i=t.length;n<i;++n)t[n].getType()===this.getType()?e=e.concat(t[n].getGeometriesArrayRecursive()):e.push(t[n]);return e}},{key:"getSimplifiedGeometry",value:function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var t=[],i=this.geometries_,r=!1,a=0,o=i.length;a<o;++a){var s=i[a],u=s.getSimplifiedGeometry(e);t.push(u),u!==s&&(r=!0)}if(r){var l=new n(null);return l.setGeometriesArray(t),l}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}},{key:"getType",value:function(){return"GeometryCollection"}},{key:"intersectsExtent",value:function(e){for(var t=this.geometries_,n=0,i=t.length;n<i;++n)if(t[n].intersectsExtent(e))return!0;return!1}},{key:"isEmpty",value:function(){return 0===this.geometries_.length}},{key:"rotate",value:function(e,t){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].rotate(e,t);this.changed()}},{key:"scale",value:function(e,t,n){n||(n=(0,l.qg)(this.getExtent()));for(var i=this.geometries_,r=0,a=i.length;r<a;++r)i[r].scale(e,t,n);this.changed()}},{key:"setGeometries",value:function(e){this.setGeometriesArray(q(e))}},{key:"setGeometriesArray",value:function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}},{key:"applyTransform",value:function(e){for(var t=this.geometries_,n=0,i=t.length;n<i;++n)t[n].applyTransform(e);this.changed()}},{key:"translate",value:function(e,t){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].translate(e,t);this.changed()}},{key:"disposeInternal",value:function(){this.unlistenGeometriesChange_(),(0,D.Z)((0,z.Z)(n.prototype),"disposeInternal",this).call(this)}}]),n}(G.Z),X=n(6006),V=function(){function e(){(0,o.Z)(this,e),this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return(0,s.Z)(e,[{key:"getReadOptions",value:function(e,t){if(t){var n=t.dataProjection?(0,f.U2)(t.dataProjection):this.readProjection(e);t.extent&&n&&"tile-pixels"===n.getUnits()&&(n=(0,f.U2)(n)).setWorldExtent(t.extent),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}},{key:"adaptOptions",value:function(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}},{key:"getType",value:function(){return(0,X.O3)()}},{key:"readFeature",value:function(e,t){return(0,X.O3)()}},{key:"readFeatures",value:function(e,t){return(0,X.O3)()}},{key:"readGeometry",value:function(e,t){return(0,X.O3)()}},{key:"readProjection",value:function(e){return(0,X.O3)()}},{key:"writeFeature",value:function(e,t){return(0,X.O3)()}},{key:"writeFeatures",value:function(e,t){return(0,X.O3)()}},{key:"writeGeometry",value:function(e,t){return(0,X.O3)()}}]),e}();function Y(e,t,n){var i,r=n?(0,f.U2)(n.featureProjection):null,a=n?(0,f.U2)(n.dataProjection):null;if(i=r&&a&&!(0,f.OP)(r,a)?(t?e.clone():e).transform(t?r:a,t?a:r):e,t&&n&&void 0!==n.decimals){var o=Math.pow(10,n.decimals);i===e&&(i=e.clone()),i.applyTransform((function(e){for(var t=0,n=e.length;t<n;++t)e[t]=Math.round(e[t]*o)/o;return e}))}return i}function U(e){if("string"===typeof e){var t=JSON.parse(e);return t||null}return null!==e?e:null}var B=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this)}return(0,s.Z)(n,[{key:"getType",value:function(){return"json"}},{key:"readFeature",value:function(e,t){return this.readFeatureFromObject(U(e),this.getReadOptions(e,t))}},{key:"readFeatures",value:function(e,t){return this.readFeaturesFromObject(U(e),this.getReadOptions(e,t))}},{key:"readFeatureFromObject",value:function(e,t){return(0,X.O3)()}},{key:"readFeaturesFromObject",value:function(e,t){return(0,X.O3)()}},{key:"readGeometry",value:function(e,t){return this.readGeometryFromObject(U(e),this.getReadOptions(e,t))}},{key:"readGeometryFromObject",value:function(e,t){return(0,X.O3)()}},{key:"readProjection",value:function(e){return this.readProjectionFromObject(U(e))}},{key:"readProjectionFromObject",value:function(e){return(0,X.O3)()}},{key:"writeFeature",value:function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}},{key:"writeFeatureObject",value:function(e,t){return(0,X.O3)()}},{key:"writeFeatures",value:function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}},{key:"writeFeaturesObject",value:function(e,t){return(0,X.O3)()}},{key:"writeGeometry",value:function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}},{key:"writeGeometryObject",value:function(e,t){return(0,X.O3)()}}]),n}(V),K=n(2952),H=n(845),J=n(538),$=n(8026),Q=n(6393),ee=n(6861),te=n(3090),ne=n(7322),ie=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i){var r;return(0,o.Z)(this,n),(r=t.call(this)).flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?r.setCoordinates(e,i):r.setFlatCoordinates(i,e),r}return(0,s.Z)(n,[{key:"appendCoordinate",value:function(e){this.flatCoordinates?(0,h.l7)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}},{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){return i<(0,l.qf)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,H.Bv)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,H.H$)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,i))}},{key:"forEachSegment",value:function(e){return(0,Q.E)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}},{key:"getCoordinateAtM",value:function(e,t){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(t=void 0!==t&&t,v(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}},{key:"getCoordinates",value:function(){return(0,ee.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinateAt",value:function(e,t){return p(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}},{key:"getLength",value:function(){return(0,ne.W)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getFlatMidpoint",value:function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[];return t.length=(0,$.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,"XY")}},{key:"getType",value:function(){return"LineString"}},{key:"intersectsExtent",value:function(e){return(0,te.Kz)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,J.Sg)(this.flatCoordinates,0,e,this.stride),this.changed()}}]),n}(K.ZP),re=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i,r){var a;if((0,o.Z)(this,n),(a=t.call(this)).ends_=[],a.maxDelta_=-1,a.maxDeltaRevision_=-1,Array.isArray(e[0]))a.setCoordinates(e,i);else if(void 0!==i&&r)a.setFlatCoordinates(i,e),a.ends_=r;else{for(var s=a.getLayout(),u=e,l=[],c=[],f=0,d=u.length;f<d;++f){var p=u[f];0===f&&(s=p.getLayout()),(0,h.l7)(l,p.getFlatCoordinates()),c.push(l.length)}a.setFlatCoordinates(s,l),a.ends_=c}return a}return(0,s.Z)(n,[{key:"appendLineString",value:function(e){this.flatCoordinates?(0,h.l7)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){return i<(0,l.qf)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,H.Af)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,H.Xl)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,i))}},{key:"getCoordinateAtM",value:function(e,t,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(t=void 0!==t&&t,n=void 0!==n&&n,function(e,t,n,i,r,a,o){if(o)return v(e,t,n[n.length-1],i,r,a);var s;if(r<e[i-1])return a?((s=e.slice(0,i))[i-1]=r,s):null;if(e[e.length-1]<r)return a?((s=e.slice(e.length-i))[i-1]=r,s):null;for(var u=0,l=n.length;u<l;++u){var h=n[u];if(t!=h){if(r<e[t+i-1])return null;if(r<=e[h-1])return v(e,t,h,i,r,!1);t=h}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,t,n))}},{key:"getCoordinates",value:function(){return(0,ee.o1)(this.flatCoordinates,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getLineString",value:function(e){return e<0||this.ends_.length<=e?null:new ie(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}},{key:"getLineStrings",value:function(){for(var e=this.flatCoordinates,t=this.ends_,n=this.layout,i=[],r=0,a=0,o=t.length;a<o;++a){var s=t[a],u=new ie(e.slice(r,s),n);i.push(u),r=s}return i}},{key:"getFlatMidpoints",value:function(){for(var e=[],t=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,a=0,o=i.length;a<o;++a){var s=i[a],u=p(t,n,s,r,.5);(0,h.l7)(e,u),n=s}return e}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[],i=[];return t.length=(0,$.UJ)(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new n(t,"XY",i)}},{key:"getType",value:function(){return"MultiLineString"}},{key:"intersectsExtent",value:function(e){return(0,te.AW)(this.flatCoordinates,0,this.ends_,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,J._5)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}]),n}(K.ZP),ae=re,oe=n(9409),se=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i){var r;return(0,o.Z)(this,n),r=t.call(this),i&&!Array.isArray(e[0])?r.setFlatCoordinates(i,e):r.setCoordinates(e,i),r}return(0,s.Z)(n,[{key:"appendPoint",value:function(e){this.flatCoordinates?(0,h.l7)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}},{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){if(i<(0,l.qf)(this.getExtent(),e,t))return i;for(var r=this.flatCoordinates,a=this.stride,o=0,s=r.length;o<s;o+=a){var u=(0,d.bI)(e,t,r[o],r[o+1]);if(u<i){i=u;for(var h=0;h<a;++h)n[h]=r[o+h];n.length=a}}return i}},{key:"getCoordinates",value:function(){return(0,ee.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getPoint",value:function(e){var t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new oe.Z(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}},{key:"getPoints",value:function(){for(var e=this.flatCoordinates,t=this.layout,n=this.stride,i=[],r=0,a=e.length;r<a;r+=n){var o=new oe.Z(e.slice(r,r+n),t);i.push(o)}return i}},{key:"getType",value:function(){return"MultiPoint"}},{key:"intersectsExtent",value:function(e){for(var t=this.flatCoordinates,n=this.stride,i=0,r=t.length;i<r;i+=n){var a=t[i],o=t[i+1];if((0,l.jE)(e,a,o))return!0}return!1}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,J.Sg)(this.flatCoordinates,0,e,this.stride),this.changed()}}]),n}(K.ZP),ue=n(4057),le=n(4517),he=n(2863),ce=n(7756),fe=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i,r){var a;if((0,o.Z)(this,n),(a=t.call(this)).endss_=[],a.flatInteriorPointsRevision_=-1,a.flatInteriorPoints_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var s=a.getLayout(),u=e,l=[],c=[],f=0,d=u.length;f<d;++f){var p=u[f];0===f&&(s=p.getLayout());for(var v=l.length,g=p.getEnds(),y=0,m=g.length;y<m;++y)g[y]+=v;(0,h.l7)(l,p.getFlatCoordinates()),c.push(g)}i=s,e=l,r=c}return void 0!==i&&r?(a.setFlatCoordinates(i,e),a.endss_=r):a.setCoordinates(e,i),a}return(0,s.Z)(n,[{key:"appendPolygon",value:function(e){var t;if(this.flatCoordinates){var n=this.flatCoordinates.length;(0,h.l7)(this.flatCoordinates,e.getFlatCoordinates());for(var i=0,r=(t=e.getEnds().slice()).length;i<r;++i)t[i]+=n}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}},{key:"clone",value:function(){for(var e=this.endss_.length,t=new Array(e),i=0;i<e;++i)t[i]=this.endss_[i].slice();var r=new n(this.flatCoordinates.slice(),this.layout,t);return r.applyProperties(this),r}},{key:"closestPointXY",value:function(e,t,n,i){return i<(0,l.qf)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,H.sD)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,H.gI)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,i))}},{key:"containsXY",value:function(e,t){return(0,ce.Zl)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}},{key:"getArea",value:function(){return(0,he.Eu)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}},{key:"getCoordinates",value:function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),(0,le.dL)(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,(0,ee.ug)(t,0,this.endss_,this.stride)}},{key:"getEndss",value:function(){return this.endss_}},{key:"getFlatInteriorPoints",value:function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=g(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,c.U)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}},{key:"getInteriorPoints",value:function(){return new se(this.getFlatInteriorPoints().slice(),"XYM")}},{key:"getOrientedFlatCoordinates",value:function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;(0,le.Oj)(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=(0,le.dL)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[],i=[];return t.length=(0,$.Pp)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new n(t,"XY",i)}},{key:"getPolygon",value:function(e){if(e<0||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var n=this.endss_[e-1];t=n[n.length-1]}var i=this.endss_[e].slice(),r=i[i.length-1];if(0!==t)for(var a=0,o=i.length;a<o;++a)i[a]-=t;return new ue.ZP(this.flatCoordinates.slice(t,r),this.layout,i)}},{key:"getPolygons",value:function(){for(var e=this.layout,t=this.flatCoordinates,n=this.endss_,i=[],r=0,a=0,o=n.length;a<o;++a){var s=n[a].slice(),u=s[s.length-1];if(0!==r)for(var l=0,h=s.length;l<h;++l)s[l]-=r;var c=new ue.ZP(t.slice(r,u),e,s);i.push(c),r=u}return i}},{key:"getType",value:function(){return"MultiPolygon"}},{key:"intersectsExtent",value:function(e){return(0,te.oW)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,J.QT)(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()}}]),n}(K.ZP),de=n(6841);function pe(e,t){if(!e)return null;var n;switch(e.type){case"Point":n=function(e){return new oe.Z(e.coordinates)}(e);break;case"LineString":n=function(e){return new ie(e.coordinates)}(e);break;case"Polygon":n=function(e){return new ue.ZP(e.coordinates)}(e);break;case"MultiPoint":n=function(e){return new se(e.coordinates)}(e);break;case"MultiLineString":n=function(e){return new ae(e.coordinates)}(e);break;case"MultiPolygon":n=function(e){return new fe(e.coordinates)}(e);break;case"GeometryCollection":n=function(e,t){var n=e.geometries.map((function(e){return pe(e,t)}));return new W(n)}(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return Y(n,!1,t)}function ve(e,t){var n,i=(e=Y(e,!0,t)).getType();switch(i){case"Point":n=function(e,t){return{type:"Point",coordinates:e.getCoordinates()}}(e);break;case"LineString":n=function(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}(e);break;case"Polygon":n=function(e,t){var n;t&&(n=t.rightHanded);return{type:"Polygon",coordinates:e.getCoordinates(n)}}(e,t);break;case"MultiPoint":n=function(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}(e);break;case"MultiLineString":n=function(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}(e);break;case"MultiPolygon":n=function(e,t){var n;t&&(n=t.rightHanded);return{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}(e,t);break;case"GeometryCollection":n=function(e,t){t=Object.assign({},t),delete t.featureProjection;var n=e.getGeometriesArray().map((function(e){return ve(e,t)}));return{type:"GeometryCollection",geometries:n}}(e,t);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return n}var ge=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;return(0,o.Z)(this,n),e=e||{},(i=t.call(this)).dataProjection=(0,f.U2)(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(i.defaultFeatureProjection=(0,f.U2)(e.featureProjection)),i.geometryName_=e.geometryName,i.extractGeometryName_=e.extractGeometryName,i.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],i}return(0,s.Z)(n,[{key:"readFeatureFromObject",value:function(e,t){var n=null,i=pe((n="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null}).geometry,t),r=new A.Z;return this.geometryName_?r.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&r.setGeometryName(n.geometry_name),r.setGeometry(i),"id"in n&&r.setId(n.id),n.properties&&r.setProperties(n.properties,!0),r}},{key:"readFeaturesFromObject",value:function(e,t){var n=null;if("FeatureCollection"===e.type){n=[];for(var i=e.features,r=0,a=i.length;r<a;++r)n.push(this.readFeatureFromObject(i[r],t))}else n=[this.readFeatureFromObject(e,t)];return n}},{key:"readGeometryFromObject",value:function(e,t){return pe(e,t)}},{key:"readProjectionFromObject",value:function(e){var t,n=e.crs;return n?"name"==n.type?t=(0,f.U2)(n.properties.name):"EPSG"===n.type?t=(0,f.U2)("EPSG:"+n.properties.code):(0,E.h)(!1,36):t=this.dataProjection,t}},{key:"writeFeatureObject",value:function(e,t){t=this.adaptOptions(t);var n={type:"Feature",geometry:null,properties:null},i=e.getId();if(void 0!==i&&(n.id=i),!e.hasProperties())return n;var r=e.getProperties(),a=e.getGeometry();return a&&(n.geometry=ve(a,t),delete r[e.getGeometryName()]),(0,de.x)(r)||(n.properties=r),n}},{key:"writeFeaturesObject",value:function(e,t){t=this.adaptOptions(t);for(var n=[],i=0,r=e.length;i<r;++i)n.push(this.writeFeatureObject(e[i],t));return{type:"FeatureCollection",features:n}}},{key:"writeGeometryObject",value:function(e,t){return ve(e,this.adaptOptions(t))}}]),n}(B),ye=n(4101),me=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){return(0,o.Z)(this,n),e=e||{},t.call(this,e)}return(0,s.Z)(n)}(ye.Z),_e=n(8831),xe=n(688),ke=n(4265),be=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,e)).image_=null,i}return(0,s.Z)(n,[{key:"getImage",value:function(){return this.image_?this.image_.getImage():null}},{key:"prepareFrame",value:function(e){var t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,i=e.viewState,r=i.resolution,a=this.getLayer().getSource(),o=e.viewHints,s=e.extent;if(void 0!==t.extent&&(s=(0,l.Ed)(s,(0,f.dY)(t.extent,i.projection))),!o[ke.Z.ANIMATING]&&!o[ke.Z.INTERACTING]&&!(0,l.xb)(s))if(a){var u=i.projection,h=a.getImage(s,r,n,u);h&&(this.loadImage(h)?this.image_=h:h.getState()===xe.Z.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}},{key:"getData",value:function(e){var t=this.frameState;if(!t)return null;var n=this.getLayer(),i=(0,u.nn)(t.pixelToCoordinateTransform,e.slice()),r=n.getExtent();if(r&&!(0,l.b8)(r,i))return null;var a=this.image_.getExtent(),o=this.image_.getImage(),s=(0,l.dz)(a),h=Math.floor(o.width*((i[0]-a[0])/s));if(h<0||h>=o.width)return null;var c=(0,l.Cr)(a),f=Math.floor(o.height*((a[3]-i[1])/c));return f<0||f>=o.height?null:this.getImageData(o,h,f)}},{key:"renderFrame",value:function(e,t){var n=this.image_,i=n.getExtent(),r=n.getResolution(),a=n.getPixelRatio(),o=e.layerStatesArray[e.layerIndex],s=e.pixelRatio,h=e.viewState,c=h.center,d=s*r/(h.resolution*a),p=e.extent,v=h.resolution,g=h.rotation,y=Math.round((0,l.dz)(p)/v*s),m=Math.round((0,l.Cr)(p)/v*s);(0,u.qC)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/s,1/s,g,-y/2,-m/2),(0,u.nb)(this.inversePixelTransform,this.pixelTransform);var _=(0,u.BB)(this.pixelTransform);this.useContainer(t,_,this.getBackground(e));var x=this.context,k=x.canvas;k.width!=y||k.height!=m?(k.width=y,k.height=m):this.containerReused||x.clearRect(0,0,y,m);var b=!1,C=!0;if(o.extent){var w=(0,f.dY)(o.extent,h.projection);(b=(C=(0,l.kK)(w,e.extent))&&!(0,l.r4)(w,e.extent))&&this.clipUnrotated(x,e,w)}var E=n.getImage(),S=(0,u.qC)(this.tempTransform,y/2,m/2,d,d,0,a*(i[0]-c[0])/r,a*(c[1]-i[3])/r);this.renderedResolution=r*s/a;var Z=E.width*S[0],T=E.height*S[3];if(this.getLayer().getSource().getInterpolate()||(x.imageSmoothingEnabled=!1),this.preRender(x,e),C&&Z>=.5&&T>=.5){var R,I=S[4],P=S[5],M=o.opacity;1!==M&&(R=x.globalAlpha,x.globalAlpha=M),x.drawImage(E,0,0,+E.width,+E.height,I,P,Z,T),1!==M&&(x.globalAlpha=R)}return this.postRender(x,e),b&&x.restore(),x.imageSmoothingEnabled=!0,_!==k.style.transform&&(k.style.transform=_),this.container}}]),n}(_e.Z),Ce=be,we=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){return(0,o.Z)(this,n),t.call(this,e)}return(0,s.Z)(n,[{key:"createRenderer",value:function(){return new Ce(this)}},{key:"getData",value:function(e){return(0,D.Z)((0,z.Z)(n.prototype),"getData",this).call(this,e)}}]),n}(me),Ee=n(7386),Se=n(4958);function Ze(e,t,n){if(3===e){var i={keys:[],values:[],features:[]},r=n.readVarint()+n.pos;n.readFields(Te,i,r),i.length=i.features.length,i.length&&(t[i.name]=i)}}function Te(e,t,n){if(15===e)t.version=n.readVarint();else if(1===e)t.name=n.readString();else if(5===e)t.extent=n.readVarint();else if(2===e)t.features.push(n.pos);else if(3===e)t.keys.push(n.readString());else if(4===e){for(var i=null,r=n.readVarint()+n.pos;n.pos<r;)i=1===(e=n.readVarint()>>3)?n.readString():2===e?n.readFloat():3===e?n.readDouble():4===e?n.readVarint64():5===e?n.readVarint():6===e?n.readSVarint():7===e?n.readBoolean():null;t.values.push(i)}}function Re(e,t,n){if(1==e)t.id=n.readVarint();else if(2==e)for(var i=n.readVarint()+n.pos;n.pos<i;){var r=t.layer.keys[n.readVarint()],a=t.layer.values[n.readVarint()];t.properties[r]=a}else 3==e?t.type=n.readVarint():4==e&&(t.geometry=n.pos)}function Ie(e,t,n){e.pos=t.features[n];var i=e.readVarint()+e.pos,r={layer:t,type:0,properties:{}};return e.readFields(Re,r,i),r}var Pe,Me=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;return(0,o.Z)(this,n),e=e||{},(i=t.call(this)).dataProjection=new Se.Z({code:"",units:"tile-pixels"}),i.featureClass_=e.featureClass?e.featureClass:x,i.geometryName_=e.geometryName,i.layerName_=e.layerName?e.layerName:"layer",i.layers_=e.layers?e.layers:null,i.idProperty_=e.idProperty,i.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],i}return(0,s.Z)(n,[{key:"readRawGeometry_",value:function(e,t,n,i){e.pos=t.geometry;for(var r=e.readVarint()+e.pos,a=1,o=0,s=0,u=0,l=0,h=0;e.pos<r;){if(!o){var c=e.readVarint();a=7&c,o=c>>3}o--,1===a||2===a?(s+=e.readSVarint(),u+=e.readSVarint(),1===a&&l>h&&(i.push(l),h=l),n.push(s,u),l+=2):7===a?l>h&&(n.push(n[h],n[h+1]),l+=2):(0,E.h)(!1,59)}l>h&&(i.push(l),h=l)}},{key:"createFeature_",value:function(e,t,n){var i,r=t.type;if(0===r)return null;var a,o=t.properties;this.idProperty_?(a=o[this.idProperty_],delete o[this.idProperty_]):a=t.id,o[this.layerName_]=t.layer.name;var s=[],u=[];this.readRawGeometry_(e,t,s,u);var l=function(e,t){var n;1===e?n=1===t?"Point":"MultiPoint":2===e?n=1===t?"LineString":"MultiLineString":3===e&&(n="Polygon");return n}(r,u.length);if(this.featureClass_===x)(i=new this.featureClass_(l,s,u,o,a)).transform(n.dataProjection);else{var h;if("Polygon"==l){var c=(0,le.Q3)(s,u);h=c.length>1?new fe(s,"XY",c):new ue.ZP(s,"XY",u)}else h="Point"===l?new oe.Z(s,"XY"):"LineString"===l?new ie(s,"XY"):"MultiPoint"===l?new se(s,"XY"):"MultiLineString"===l?new ae(s,"XY",u):null;i=new(0,this.featureClass_),this.geometryName_&&i.setGeometryName(this.geometryName_);var f=Y(h,!1,n);i.setGeometry(f),void 0!==a&&i.setId(a),i.setProperties(o,!0)}return i}},{key:"getType",value:function(){return"arraybuffer"}},{key:"readFeatures",value:function(e,t){var n=this.layers_;t=this.adaptOptions(t);var i=(0,f.U2)(t.dataProjection);i.setWorldExtent(t.extent),t.dataProjection=i;var r=new Ee(e),a=r.readFields(Ze,{}),o=[];for(var s in a)if(!n||n.includes(s)){var u=a[s],l=u?[0,0,u.extent,u.extent]:null;i.setExtent(l);for(var h=0,c=u.length;h<c;++h){var d=Ie(r,u,h),p=this.createFeature_(r,d,t);null!==p&&o.push(p)}}return o}},{key:"readProjection",value:function(e){return this.dataProjection}},{key:"setLayers",value:function(e){this.layers_=e}}]),n}(V),Oe=n(5859),Fe=n(7326),Le=n(5414),Ae=n(5326),De=n(7105),ze=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i,r,a,s){var u;(0,o.Z)(this,n);var l=void 0!==s?xe.Z.IDLE:xe.Z.LOADED;return(u=t.call(this,e,i,r,l)).loader_=void 0!==s?s:null,u.canvas_=a,u.error_=null,u}return(0,s.Z)(n,[{key:"getError",value:function(){return this.error_}},{key:"handleLoad_",value:function(e){e?(this.error_=e,this.state=xe.Z.ERROR):this.state=xe.Z.LOADED,this.changed()}},{key:"load",value:function(){this.state==xe.Z.IDLE&&(this.state=xe.Z.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}},{key:"getImage",value:function(){return this.canvas_}}]),n}(De.Z),Ne=ze,Ge=.5,je=10,qe=function(){function e(t,n,i,r,a,s){var u=this;(0,o.Z)(this,e),this.sourceProj_=t,this.targetProj_=n;var h={},c=(0,f.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return h[t]||(h[t]=c(e)),h[t]},this.maxSourceExtent_=r,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&(0,l.dz)(r)==(0,l.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,l.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,l.dz)(this.targetProj_.getExtent()):null;var d=(0,l.rL)(i),p=(0,l.Xv)(i),v=(0,l.w$)(i),g=(0,l.hC)(i),y=this.transformInv_(d),m=this.transformInv_(p),_=this.transformInv_(v),x=this.transformInv_(g),k=je+(s?Math.max(0,Math.ceil(Math.log2((0,l.bg)(i)/(s*s*256*256)))):0);if(this.addQuad_(d,p,v,g,y,m,_,x,k),this.wrapsXInSource_){var b=1/0;this.triangles_.forEach((function(e,t,n){b=Math.min(b,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-b>u.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-b>u.sourceWorldWidth_/2&&(t[0][0]-=u.sourceWorldWidth_),t[1][0]-b>u.sourceWorldWidth_/2&&(t[1][0]-=u.sourceWorldWidth_),t[2][0]-b>u.sourceWorldWidth_/2&&(t[2][0]-=u.sourceWorldWidth_);var n=Math.min(t[0][0],t[1][0],t[2][0]);Math.max(t[0][0],t[1][0],t[2][0])-n<u.sourceWorldWidth_/2&&(e.source=t)}}))}h={}}return(0,s.Z)(e,[{key:"addTriangle_",value:function(e,t,n,i,r,a){this.triangles_.push({source:[i,r,a],target:[e,t,n]})}},{key:"addQuad_",value:function(e,t,n,i,r,a,o,s,u){var h=(0,l.hI)([r,a,o,s]),c=this.sourceWorldWidth_?(0,l.dz)(h)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&c>.5&&c<1,v=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var g=(0,l.hI)([e,t,n,i]);v=(0,l.dz)(g)/this.targetWorldWidth_>.25||v}!p&&this.sourceProj_.isGlobal()&&c&&(v=c>.25||v)}if(!(!v&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3]))||(0,l.kK)(h,this.maxSourceExtent_)){var y=0;if(!v&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])))if(u>0)v=!0;else if(1!=(y=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(a[0])&&isFinite(a[1])?0:4)+(isFinite(o[0])&&isFinite(o[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=y&&4!=y&&8!=y)return;if(u>0){if(!v){var m,_=[(e[0]+n[0])/2,(e[1]+n[1])/2],x=this.transformInv_(_);if(p)m=((0,d.$W)(r[0],f)+(0,d.$W)(o[0],f))/2-(0,d.$W)(x[0],f);else m=(r[0]+o[0])/2-x[0];var k=(r[1]+o[1])/2-x[1];v=m*m+k*k>this.errorThresholdSquared_}if(v){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){var b=[(t[0]+n[0])/2,(t[1]+n[1])/2],C=this.transformInv_(b),w=[(i[0]+e[0])/2,(i[1]+e[1])/2],E=this.transformInv_(w);this.addQuad_(e,t,b,w,r,a,C,E,u-1),this.addQuad_(w,b,n,i,E,C,o,s,u-1)}else{var S=[(e[0]+t[0])/2,(e[1]+t[1])/2],Z=this.transformInv_(S),T=[(n[0]+i[0])/2,(n[1]+i[1])/2],R=this.transformInv_(T);this.addQuad_(e,S,T,i,r,Z,R,s,u-1),this.addQuad_(S,t,n,T,Z,a,o,R,u-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&y)&&this.addTriangle_(e,n,i,r,o,s),0==(14&y)&&this.addTriangle_(e,n,t,r,o,a),y&&(0==(13&y)&&this.addTriangle_(t,i,e,a,s,r),0==(7&y)&&this.addTriangle_(t,i,n,a,s,o))}}},{key:"calculateSourceExtent",value:function(){var e=(0,l.lJ)();return this.triangles_.forEach((function(t,n,i){var r=t.source;(0,l.Wj)(e,r[0]),(0,l.Wj)(e,r[1]),(0,l.Wj)(e,r[2])})),e}},{key:"getTriangles",value:function(){return this.triangles_}}]),e}(),We=n(1408),Xe=[];function Ve(e,t,n,i,r){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(i,r),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(n,r)),e.restore()}function Ye(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function Ue(e,t,n,i){var r=(0,f.vs)(n,t,e),a=(0,f._Q)(t,i,n),o=t.getMetersPerUnit();void 0!==o&&(a*=o);var s=e.getMetersPerUnit();void 0!==s&&(a/=s);var u=e.getExtent();if(!u||(0,l.b8)(u,r)){var h=(0,f._Q)(e,a,r)/a;isFinite(h)&&h>0&&(a/=h)}return a}function Be(e,t,n,i,r,a,o,s,u,h,c,f){var p=(0,We.E4)(Math.round(n*e),Math.round(n*t),Xe);if(f||(p.imageSmoothingEnabled=!1),0===u.length)return p.canvas;function v(e){return Math.round(e*n)/n}p.scale(n,n),p.globalCompositeOperation="lighter";var g=(0,l.lJ)();u.forEach((function(e,t,n){(0,l.l7)(g,e.extent)}));var y=(0,l.dz)(g),m=(0,l.Cr)(g),_=(0,We.E4)(Math.round(n*y/i),Math.round(n*m/i),Xe);f||(_.imageSmoothingEnabled=!1);var x=n/i;u.forEach((function(e,t,n){var i=e.extent[0]-g[0],r=-(e.extent[3]-g[3]),a=(0,l.dz)(e.extent),o=(0,l.Cr)(e.extent);e.image.width>0&&e.image.height>0&&_.drawImage(e.image,h,h,e.image.width-2*h,e.image.height-2*h,i*x,r*x,a*x,o*x)}));var k=(0,l.rL)(o);return s.getTriangles().forEach((function(e,t,r){var o=e.source,s=e.target,u=o[0][0],l=o[0][1],h=o[1][0],c=o[1][1],y=o[2][0],m=o[2][1],x=v((s[0][0]-k[0])/a),b=v(-(s[0][1]-k[1])/a),C=v((s[1][0]-k[0])/a),w=v(-(s[1][1]-k[1])/a),E=v((s[2][0]-k[0])/a),S=v(-(s[2][1]-k[1])/a),Z=u,T=l;u=0,l=0;var R=[[h-=Z,c-=T,0,0,C-x],[y-=Z,m-=T,0,0,E-x],[0,0,h,c,w-b],[0,0,y,m,S-b]],I=(0,d.SV)(R);if(I){if(p.save(),p.beginPath(),function(){if(void 0===Pe){var e=(0,We.E4)(6,6,Xe);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",Ve(e,4,5,4,0),Ve(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;Pe=Ye(t,0)||Ye(t,4)||Ye(t,8),(0,We.jy)(e),Xe.push(e.canvas)}return Pe}()||!f){p.moveTo(C,w);for(var P=x-C,M=b-w,O=0;O<4;O++)p.lineTo(C+v((O+1)*P/4),w+v(O*M/3)),3!=O&&p.lineTo(C+v((O+1)*P/4),w+v((O+1)*M/3));p.lineTo(E,S)}else p.moveTo(C,w),p.lineTo(x,b),p.lineTo(E,S);p.clip(),p.transform(I[0],I[2],I[1],I[3],x,b),p.translate(g[0]-Z,g[3]-T),p.scale(i/n,-i/n),p.drawImage(_.canvas,0,0),p.restore()}})),(0,We.jy)(_),Xe.push(_.canvas),c&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,s.getTriangles().forEach((function(e,t,n){var i=e.target,r=(i[0][0]-k[0])/a,o=-(i[0][1]-k[1])/a,s=(i[1][0]-k[0])/a,u=-(i[1][1]-k[1])/a,l=(i[2][0]-k[0])/a,h=-(i[2][1]-k[1])/a;p.beginPath(),p.moveTo(s,u),p.lineTo(r,o),p.lineTo(l,h),p.closePath(),p.stroke()})),p.restore()),p.canvas}var Ke=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i,r,a,s,u,h){var c;(0,o.Z)(this,n);var f=e.getExtent(),d=i.getExtent(),p=d?(0,l.Ed)(r,d):r,v=Ue(e,i,(0,l.qg)(p),a),g=new qe(e,i,p,f,v*Ge,a),y=u(g.calculateSourceExtent(),v,s),m=y?xe.Z.IDLE:xe.Z.EMPTY,_=y?y.getPixelRatio():1;return(c=t.call(this,r,a,_,m)).targetProj_=i,c.maxSourceExtent_=f,c.triangulation_=g,c.targetResolution_=a,c.targetExtent_=r,c.sourceImage_=y,c.sourcePixelRatio_=_,c.interpolate_=h,c.canvas_=null,c.sourceListenerKey_=null,c}return(0,s.Z)(n,[{key:"disposeInternal",value:function(){this.state==xe.Z.LOADING&&this.unlistenSource_(),(0,D.Z)((0,z.Z)(n.prototype),"disposeInternal",this).call(this)}},{key:"getImage",value:function(){return this.canvas_}},{key:"getProjection",value:function(){return this.targetProj_}},{key:"reproject_",value:function(){var e=this.sourceImage_.getState();if(e==xe.Z.LOADED){var t=(0,l.dz)(this.targetExtent_)/this.targetResolution_,n=(0,l.Cr)(this.targetExtent_)/this.targetResolution_;this.canvas_=Be(t,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=e,this.changed()}},{key:"load",value:function(){if(this.state==xe.Z.IDLE){this.state=xe.Z.LOADING,this.changed();var e=this.sourceImage_.getState();e==xe.Z.LOADED||e==xe.Z.ERROR?this.reproject_():(this.sourceListenerKey_=(0,j.oL)(this.sourceImage_,N.Z.CHANGE,(function(e){var t=this.sourceImage_.getState();t!=xe.Z.LOADED&&t!=xe.Z.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}}},{key:"unlistenSource_",value:function(){(0,j.bN)(this.sourceListenerKey_),this.sourceListenerKey_=null}}]),n}(De.Z),He=Ke,Je=n(8716),$e="imageloadstart",Qe="imageloadend",et="imageloaderror",tt=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).image=i,r}return(0,s.Z)(n)}(Ae.ZP);var nt=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state,interpolate:void 0===e.interpolate||e.interpolate})).on,i.once,i.un,i.resolutions_=void 0!==e.resolutions?e.resolutions:null,i.reprojectedImage_=null,i.reprojectedRevision_=0,i}return(0,s.Z)(n,[{key:"getResolutions",value:function(){return this.resolutions_}},{key:"setResolutions",value:function(e){this.resolutions_=e}},{key:"findNearestResolution",value:function(e){var t=this.getResolutions();t&&(e=t[(0,h.h7)(t,e,0)]);return e}},{key:"getImage",value:function(e,t,n,i){var r=this,a=this.getProjection();if(!a||!i||(0,f.OP)(a,i))return a&&(i=a),this.getImageInternal(e,t,n,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,f.OP)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==t&&(0,l.fS)(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new He(a,i,e,t,n,(function(e,t,n){return r.getImageInternal(e,t,n,a)}),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}},{key:"getImageInternal",value:function(e,t,n,i){return(0,X.O3)()}},{key:"handleImageChange",value:function(e){var t,n=e.target;switch(n.getState()){case xe.Z.LOADING:this.loading=!0,t=$e;break;case xe.Z.LOADED:this.loading=!1,t=Qe;break;case xe.Z.ERROR:this.loading=!1,t=et;break;default:return}this.hasListener(t)&&this.dispatchEvent(new tt(t,n))}}]),n}(Je.Z),it="preload",rt="useInterimTilesOnError",at=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;(0,o.Z)(this,n),e=e||{};var r=Object.assign({},e);return delete r.preload,delete r.useInterimTilesOnError,(i=t.call(this,r)).on,i.once,i.un,i.setPreload(void 0!==e.preload?e.preload:0),i.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),i}return(0,s.Z)(n,[{key:"getPreload",value:function(){return this.get(it)}},{key:"setPreload",value:function(e){this.set(it,e)}},{key:"getUseInterimTilesOnError",value:function(){return this.get(rt)}},{key:"setUseInterimTilesOnError",value:function(e){this.set(rt,e)}},{key:"getData",value:function(e){return(0,D.Z)((0,z.Z)(n.prototype),"getData",this).call(this,e)}}]),n}(ye.Z),ot=n(2064),st=n(5128),ut=n(9868),lt=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i,r){var a;return(0,o.Z)(this,n),r=r||{},(a=t.call(this)).tileCoord=e,a.state=i,a.interimTile=null,a.key="",a.transition_=void 0===r.transition?250:r.transition,a.transitionStarts_={},a.interpolate=!!r.interpolate,a}return(0,s.Z)(n,[{key:"changed",value:function(){this.dispatchEvent(N.Z.CHANGE)}},{key:"release",value:function(){this.state===st.Z.ERROR&&this.setState(st.Z.EMPTY)}},{key:"getKey",value:function(){return this.key+"/"+this.tileCoord}},{key:"getInterimTile",value:function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==st.Z.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}},{key:"refreshInterimChain",value:function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==st.Z.LOADED){e.interimTile=null;break}e.getState()==st.Z.LOADING?t=e:e.getState()==st.Z.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}}},{key:"getTileCoord",value:function(){return this.tileCoord}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){if(this.state!==st.Z.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}},{key:"load",value:function(){(0,X.O3)()}},{key:"getAlpha",value:function(e,t){if(!this.transition_)return 1;var n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else n=t,this.transitionStarts_[e]=n;var i=t-n+1e3/60;return i>=this.transition_?1:(0,ut.YQ)(i/this.transition_)}},{key:"inTransition",value:function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}},{key:"endTransition",value:function(e){this.transition_&&(this.transitionStarts_[e]=-1)}}]),n}(ot.Z),ht=n(7356);var ct=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i,r,a,s,u){var l;return(0,o.Z)(this,n),(l=t.call(this,e,i,u)).crossOrigin_=a,l.src_=r,l.key=r,l.image_=new Image,null!==a&&(l.image_.crossOrigin=a),l.unlisten_=null,l.tileLoadFunction_=s,l}return(0,s.Z)(n,[{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(e){this.image_=e,this.state=st.Z.LOADED,this.unlistenImage_(),this.changed()}},{key:"handleImageError_",value:function(){this.state=st.Z.ERROR,this.unlistenImage_(),this.image_=function(){var e=(0,We.E4)(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}(),this.changed()}},{key:"handleImageLoad_",value:function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=st.Z.LOADED:this.state=st.Z.EMPTY,this.unlistenImage_(),this.changed()}},{key:"load",value:function(){this.state==st.Z.ERROR&&(this.state=st.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==st.Z.IDLE&&(this.state=st.Z.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,ht.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}]),n}(lt),ft=n(2963),dt=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i,r,a,s,u,h,c,f,p,v,g){var y;(0,o.Z)(this,n),(y=t.call(this,s,st.Z.IDLE,{interpolate:!!g})).renderEdges_=void 0!==v&&v,y.pixelRatio_=h,y.gutter_=c,y.canvas_=null,y.sourceTileGrid_=i,y.targetTileGrid_=a,y.wrappedTileCoord_=u||s,y.sourceTiles_=[],y.sourcesListenerKeys_=null,y.sourceZ_=0;var m=a.getTileCoordExtent(y.wrappedTileCoord_),_=y.targetTileGrid_.getExtent(),x=y.sourceTileGrid_.getExtent(),k=_?(0,l.Ed)(m,_):m;if(0===(0,l.bg)(k))return y.state=st.Z.EMPTY,(0,ft.Z)(y);var b=e.getExtent();b&&(x=x?(0,l.Ed)(x,b):b);var C=a.getResolution(y.wrappedTileCoord_[0]),w=function(e,t,n,i){var r=(0,l.qg)(n),a=Ue(e,t,r,i);return(!isFinite(a)||a<=0)&&(0,l.H6)(n,(function(n){return a=Ue(e,t,n,i),isFinite(a)&&a>0})),a}(e,r,k,C);if(!isFinite(w)||w<=0)return y.state=st.Z.EMPTY,(0,ft.Z)(y);var E=void 0!==p?p:Ge;if(y.triangulation_=new qe(e,r,k,x,w*E,C),0===y.triangulation_.getTriangles().length)return y.state=st.Z.EMPTY,(0,ft.Z)(y);y.sourceZ_=i.getZForResolution(w);var S=y.triangulation_.calculateSourceExtent();if(x&&(e.canWrapX()?(S[1]=(0,d.uZ)(S[1],x[1],x[3]),S[3]=(0,d.uZ)(S[3],x[1],x[3])):S=(0,l.Ed)(S,x)),(0,l.bg)(S)){for(var Z=i.getTileRangeForExtentAndZ(S,y.sourceZ_),T=Z.minX;T<=Z.maxX;T++)for(var R=Z.minY;R<=Z.maxY;R++){var I=f(y.sourceZ_,T,R,h);I&&y.sourceTiles_.push(I)}0===y.sourceTiles_.length&&(y.state=st.Z.EMPTY)}else y.state=st.Z.EMPTY;return y}return(0,s.Z)(n,[{key:"getImage",value:function(){return this.canvas_}},{key:"reproject_",value:function(){var e=this,t=[];if(this.sourceTiles_.forEach((function(n){n&&n.getState()==st.Z.LOADED&&t.push({extent:e.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})})),this.sourceTiles_.length=0,0===t.length)this.state=st.Z.ERROR;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r="number"===typeof i?i:i[0],a="number"===typeof i?i:i[1],o=this.targetTileGrid_.getResolution(n),s=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Be(r,a,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,u,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=st.Z.LOADED}this.changed()}},{key:"load",value:function(){var e=this;if(this.state==st.Z.IDLE){this.state=st.Z.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(n){var i=n.getState();if(i==st.Z.IDLE||i==st.Z.LOADING){t++;var r=(0,j.oL)(n,N.Z.CHANGE,(function(e){var i=n.getState();i!=st.Z.LOADED&&i!=st.Z.ERROR&&i!=st.Z.EMPTY||((0,j.bN)(r),0===--t&&(this.unlistenSources_(),this.reproject_()))}),e);e.sourcesListenerKeys_.push(r)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(e,t,n){e.getState()==st.Z.IDLE&&e.load()}))}}},{key:"unlistenSources_",value:function(){this.sourcesListenerKeys_.forEach(j.bN),this.sourcesListenerKeys_=null}},{key:"release",value:function(){this.canvas_&&((0,We.jy)(this.canvas_.getContext("2d")),Xe.push(this.canvas_),this.canvas_=null),(0,D.Z)((0,z.Z)(n.prototype),"release",this).call(this)}}]),n}(lt),pt=dt,vt=function(){function e(t,n,i,r){(0,o.Z)(this,e),this.minX=t,this.maxX=n,this.minY=i,this.maxY=r}return(0,s.Z)(e,[{key:"contains",value:function(e){return this.containsXY(e[1],e[2])}},{key:"containsTileRange",value:function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}},{key:"containsXY",value:function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}},{key:"equals",value:function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}},{key:"extend",value:function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}},{key:"getHeight",value:function(){return this.maxY-this.minY+1}},{key:"getSize",value:function(){return[this.getWidth(),this.getHeight()]}},{key:"getWidth",value:function(){return this.maxX-this.minX+1}},{key:"intersects",value:function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}]),e}();function gt(e,t,n,i,r){return void 0!==r?(r.minX=e,r.maxX=t,r.minY=n,r.maxY=i,r):new vt(e,t,n,i)}var yt=vt,mt=n(4046),_t=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,e)).extentChanged=!0,i.renderedExtent_=null,i.renderedPixelRatio,i.renderedProjection=null,i.renderedRevision,i.renderedTiles=[],i.newTiles_=!1,i.tmpExtent=(0,l.lJ)(),i.tmpTileRange_=new yt(0,0,0,0),i}return(0,s.Z)(n,[{key:"isDrawableTile",value:function(e){var t=this.getLayer(),n=e.getState(),i=t.getUseInterimTilesOnError();return n==st.Z.LOADED||n==st.Z.EMPTY||n==st.Z.ERROR&&!i}},{key:"getTile",value:function(e,t,n,i){var r=i.pixelRatio,a=i.viewState.projection,o=this.getLayer(),s=o.getSource().getTile(e,t,n,r,a);return s.getState()==st.Z.ERROR&&o.getUseInterimTilesOnError()&&o.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(s)||(s=s.getInterimTile()),s}},{key:"getData",value:function(e){var t=this.frameState;if(!t)return null;var n=this.getLayer(),i=(0,u.nn)(t.pixelToCoordinateTransform,e.slice()),r=n.getExtent();if(r&&!(0,l.b8)(r,i))return null;for(var a=t.pixelRatio,o=t.viewState.projection,s=t.viewState,h=n.getRenderSource(),c=h.getTileGridForProjection(s.projection),f=h.getTilePixelRatio(t.pixelRatio),d=c.getZForResolution(s.resolution);d>=c.getMinZoom();--d){var p=c.getTileCoordForCoordAndZ(i,d),v=h.getTile(d,p[1],p[2],a,o);if(!(v instanceof ct||v instanceof pt)||v instanceof pt&&v.getState()===st.Z.EMPTY)return null;if(v.getState()===st.Z.LOADED){var g=c.getOrigin(d),y=(0,mt.Pq)(c.getTileSize(d)),m=c.getResolution(d),_=Math.floor(f*((i[0]-g[0])/m-p[1]*y[0])),x=Math.floor(f*((g[1]-i[1])/m-p[2]*y[1])),k=Math.round(f*h.getGutterForProjection(s.projection));return this.getImageData(v.getImage(),_+k,x+k)}}return null}},{key:"loadedTileCallback",value:function(e,t,i){return!!this.isDrawableTile(i)&&(0,D.Z)((0,z.Z)(n.prototype),"loadedTileCallback",this).call(this,e,t,i)}},{key:"prepareFrame",value:function(e){return!!this.getLayer().getSource()}},{key:"renderFrame",value:function(e,t){var n=e.layerStatesArray[e.layerIndex],i=e.viewState,r=i.projection,a=i.resolution,o=i.center,s=i.rotation,c=e.pixelRatio,d=this.getLayer(),p=d.getSource(),v=p.getRevision(),g=p.getTileGridForProjection(r),y=g.getZForResolution(a,p.zDirection),m=g.getResolution(y),_=e.extent,x=e.viewState.resolution,k=p.getTilePixelRatio(c),b=Math.round((0,l.dz)(_)/x*c),C=Math.round((0,l.Cr)(_)/x*c),w=n.extent&&(0,f.dY)(n.extent,r);w&&(_=(0,l.Ed)(_,(0,f.dY)(n.extent,r)));var E=m*b/2/k,S=m*C/2/k,Z=[o[0]-E,o[1]-S,o[0]+E,o[1]+S],T=g.getTileRangeForExtentAndZ(_,y),R={};R[y]={};var I=this.createLoadedTileFinder(p,r,R),P=this.tmpExtent,M=this.tmpTileRange_;this.newTiles_=!1;for(var O=s?(0,l.dY)(i.center,x,s,e.size):void 0,F=T.minX;F<=T.maxX;++F)for(var L=T.minY;L<=T.maxY;++L)if(!s||g.tileCoordIntersectsViewport([y,F,L],O)){var A=this.getTile(y,F,L,e);if(this.isDrawableTile(A)){var D=(0,X.sq)(this);if(A.getState()==st.Z.LOADED){R[y][A.tileCoord.toString()]=A;var z=A.inTransition(D);z&&1!==n.opacity&&(A.endTransition(D),z=!1),this.newTiles_||!z&&this.renderedTiles.includes(A)||(this.newTiles_=!0)}if(1===A.getAlpha(D,e.time))continue}var N=g.getTileCoordChildTileRange(A.tileCoord,M,P),G=!1;N&&(G=I(y+1,N)),G||g.forEachTileCoordParentTileRange(A.tileCoord,I,M,P)}var j=m/a*c/k;(0,u.qC)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/c,1/c,s,-b/2,-C/2);var q=(0,u.BB)(this.pixelTransform);this.useContainer(t,q,this.getBackground(e));var W=this.context,V=W.canvas;(0,u.nb)(this.inversePixelTransform,this.pixelTransform),(0,u.qC)(this.tempTransform,b/2,C/2,j,j,0,-b/2,-C/2),V.width!=b||V.height!=C?(V.width=b,V.height=C):this.containerReused||W.clearRect(0,0,b,C),w&&this.clipUnrotated(W,e,w),p.getInterpolate()||(W.imageSmoothingEnabled=!1),this.preRender(W,e),this.renderedTiles.length=0;var Y,U,B,K=Object.keys(R).map(Number);K.sort(h.j2),1!==n.opacity||this.containerReused&&!p.getOpaque(e.viewState.projection)?(Y=[],U=[]):K=K.reverse();for(var H=K.length-1;H>=0;--H){var J=K[H],$=p.getTilePixelSize(J,c,r),Q=g.getResolution(J)/m,ee=$[0]*Q*j,te=$[1]*Q*j,ne=g.getTileCoordForCoordAndZ((0,l.rL)(Z),J),ie=g.getTileCoordExtent(ne),re=(0,u.nn)(this.tempTransform,[k*(ie[0]-Z[0])/m,k*(Z[3]-ie[3])/m]),ae=k*p.getGutterForProjection(r),oe=R[J];for(var se in oe){var ue=oe[se],le=ue.tileCoord,he=ne[1]-le[1],ce=Math.round(re[0]-(he-1)*ee),fe=ne[2]-le[2],de=Math.round(re[1]-(fe-1)*te),pe=Math.round(re[0]-he*ee),ve=Math.round(re[1]-fe*te),ge=ce-pe,ye=de-ve,me=y===J,_e=me&&1!==ue.getAlpha((0,X.sq)(this),e.time),xe=!1;if(!_e)if(Y){B=[pe,ve,pe+ge,ve,pe+ge,ve+ye,pe,ve+ye];for(var ke=0,be=Y.length;ke<be;++ke)if(y!==J&&J<U[ke]){var Ce=Y[ke];(0,l.kK)([pe,ve,pe+ge,ve+ye],[Ce[0],Ce[3],Ce[4],Ce[7]])&&(xe||(W.save(),xe=!0),W.beginPath(),W.moveTo(B[0],B[1]),W.lineTo(B[2],B[3]),W.lineTo(B[4],B[5]),W.lineTo(B[6],B[7]),W.moveTo(Ce[6],Ce[7]),W.lineTo(Ce[4],Ce[5]),W.lineTo(Ce[2],Ce[3]),W.lineTo(Ce[0],Ce[1]),W.clip())}Y.push(B),U.push(J)}else W.clearRect(pe,ve,ge,ye);this.drawTileImage(ue,e,pe,ve,ge,ye,ae,me),Y&&!_e?(xe&&W.restore(),this.renderedTiles.unshift(ue)):this.renderedTiles.push(ue),this.updateUsedTiles(e.usedTiles,p,ue)}}return this.renderedRevision=v,this.renderedResolution=m,this.extentChanged=!this.renderedExtent_||!(0,l.fS)(this.renderedExtent_,Z),this.renderedExtent_=Z,this.renderedPixelRatio=c,this.renderedProjection=r,this.manageTilePyramid(e,p,g,c,r,_,y,d.getPreload()),this.scheduleExpireCache(e,p),this.postRender(W,e),n.extent&&W.restore(),W.imageSmoothingEnabled=!0,q!==V.style.transform&&(V.style.transform=q),this.container}},{key:"drawTileImage",value:function(e,t,n,i,r,a,o,s){var u=this.getTileImage(e);if(u){var l=(0,X.sq)(this),h=t.layerStatesArray[t.layerIndex],c=h.opacity*(s?e.getAlpha(l,t.time):1),f=c!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(u,o,o,u.width-2*o,u.height-2*o,n,i,r,a),f&&this.context.restore(),c!==h.opacity?t.animate=!0:s&&e.endTransition(l)}}},{key:"getImage",value:function(){var e=this.context;return e?e.canvas:null}},{key:"getTileImage",value:function(e){return e.getImage()}},{key:"scheduleExpireCache",value:function(e,t){if(t.canExpireCache()){var n=function(e,t,n){var i=(0,X.sq)(e);i in n.usedTiles&&e.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,t);e.postRenderFunctions.push(n)}}},{key:"updateUsedTiles",value:function(e,t,n){var i=(0,X.sq)(t);i in e||(e[i]={}),e[i][n.getKey()]=!0}},{key:"manageTilePyramid",value:function(e,t,n,i,r,a,o,s,u){var h=(0,X.sq)(t);h in e.wantedTiles||(e.wantedTiles[h]={});var c,f,d,p,v,g,y=e.wantedTiles[h],m=e.tileQueue,_=n.getMinZoom(),x=e.viewState.rotation,k=x?(0,l.dY)(e.viewState.center,e.viewState.resolution,x,e.size):void 0,b=0;for(g=_;g<=o;++g)for(f=n.getTileRangeForExtentAndZ(a,g,f),d=n.getResolution(g),p=f.minX;p<=f.maxX;++p)for(v=f.minY;v<=f.maxY;++v)x&&!n.tileCoordIntersectsViewport([g,p,v],k)||(o-g<=s?(++b,(c=t.getTile(g,p,v,i,r)).getState()==st.Z.IDLE&&(y[c.getKey()]=!0,m.isKeyQueued(c.getKey())||m.enqueue([c,h,n.getTileCoordCenter(c.tileCoord),d])),void 0!==u&&u(c)):t.useTile(g,p,v,r));t.updateCacheSize(b,r)}}]),n}(_e.Z),xt=_t,kt=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){return(0,o.Z)(this,n),t.call(this,e)}return(0,s.Z)(n,[{key:"createRenderer",value:function(){return new xt(this)}}]),n}(at),bt=n(3143),Ct=function(){function e(t){(0,o.Z)(this,e),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return(0,s.Z)(e,[{key:"canExpireCache",value:function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}},{key:"expireCache",value:function(e){for(;this.canExpireCache();)this.pop()}},{key:"clear",value:function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}},{key:"containsKey",value:function(e){return this.entries_.hasOwnProperty(e)}},{key:"forEach",value:function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer}},{key:"get",value:function(e,t){var n=this.entries_[e];return(0,E.h)(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}},{key:"remove",value:function(e){var t=this.entries_[e];return(0,E.h)(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}},{key:"getCount",value:function(){return this.count_}},{key:"getKeys",value:function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}},{key:"getValues",value:function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}},{key:"peekLast",value:function(){return this.oldest_.value_}},{key:"peekLastKey",value:function(){return this.oldest_.key_}},{key:"peekFirstKey",value:function(){return this.newest_.key_}},{key:"peek",value:function(e){if(this.containsKey(e))return this.entries_[e].value_}},{key:"pop",value:function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}},{key:"replace",value:function(e,t){this.get(e),this.entries_[e].value_=t}},{key:"set",value:function(e,t){(0,E.h)(!(e in this.entries_),16);var n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_}},{key:"setSize",value:function(e){this.highWaterMark=e}}]),e}(),wt=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"clear",value:function(){for(;this.getCount()>0;)this.pop().release();(0,D.Z)((0,z.Z)(n.prototype),"clear",this).call(this)}},{key:"expireCache",value:function(e){for(;this.canExpireCache();){if(this.peekLast().getKey()in e)break;this.pop().release()}}},{key:"pruneExceptNewestZ",value:function(){var e=this;if(0!==this.getCount()){var t=I(this.peekFirstKey())[0];this.forEach((function(n){n.tileCoord[0]!==t&&(e.remove(R(n.tileCoord)),n.release())}))}}}]),n}(Ct),Et=wt,St=n(794),Zt=[0,0,0],Tt=function(){function e(t){var n;if((0,o.Z)(this,e),this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,E.h)((0,h.pT)(this.resolutions_,(function(e,t){return t-e}),!0),17),!t.origins)for(var i=0,r=this.resolutions_.length-1;i<r;++i)if(n){if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}else n=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,E.h)(this.origins_.length==this.resolutions_.length,20));var a=t.extent;void 0===a||this.origin_||this.origins_||(this.origin_=(0,l.rL)(a)),(0,E.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,E.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:St.S,(0,E.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(e,t){var n=new yt(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(a){var i=this.getTileRangeForExtentAndZ(a,t);n.minX=Math.max(i.minX,n.minX),n.maxX=Math.min(i.maxX,n.maxX),n.minY=Math.max(i.minY,n.minY),n.maxY=Math.min(i.maxY,n.maxY)}return n}),this):a&&this.calculateTileRanges_(a)}return(0,s.Z)(e,[{key:"forEachTileCoord",value:function(e,t,n){for(var i=this.getTileRangeForExtentAndZ(e,t),r=i.minX,a=i.maxX;r<=a;++r)for(var o=i.minY,s=i.maxY;o<=s;++o)n([t,r,o])}},{key:"forEachTileCoordParentTileRange",value:function(e,t,n,i){var r,a,o=null,s=e[0]-1;for(2===this.zoomFactor_?(r=e[1],a=e[2]):o=this.getTileCoordExtent(e,i);s>=this.minZoom;){if(t(s,2===this.zoomFactor_?gt(r=Math.floor(r/2),r,a=Math.floor(a/2),a,n):this.getTileRangeForExtentAndZ(o,s,n)))return!0;--s}return!1}},{key:"getExtent",value:function(){return this.extent_}},{key:"getMaxZoom",value:function(){return this.maxZoom}},{key:"getMinZoom",value:function(){return this.minZoom}},{key:"getOrigin",value:function(e){return this.origin_?this.origin_:this.origins_[e]}},{key:"getResolution",value:function(e){return this.resolutions_[e]}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getTileCoordChildTileRange",value:function(e,t,n){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*e[1],r=2*e[2];return gt(i,i+1,r,r+1,t)}var a=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,e[0]+1,t)}return null}},{key:"getTileRangeForTileCoordAndZ",value:function(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;var i=e[0],r=e[1],a=e[2];if(t===i)return gt(r,a,r,a,n);if(this.zoomFactor_){var o=Math.pow(this.zoomFactor_,t-i),s=Math.floor(r*o),u=Math.floor(a*o);return t<i?gt(s,s,u,u,n):gt(s,Math.floor(o*(r+1))-1,u,Math.floor(o*(a+1))-1,n)}var l=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,t,n)}},{key:"getTileRangeExtent",value:function(e,t,n){var i=this.getOrigin(e),r=this.getResolution(e),a=(0,mt.Pq)(this.getTileSize(e),this.tmpSize_),o=i[0]+t.minX*a[0]*r,s=i[0]+(t.maxX+1)*a[0]*r,u=i[1]+t.minY*a[1]*r,h=i[1]+(t.maxY+1)*a[1]*r;return(0,l.T9)(o,u,s,h,n)}},{key:"getTileRangeForExtentAndZ",value:function(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,Zt);var i=Zt[1],r=Zt[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,Zt),gt(i,Zt[1],r,Zt[2],n)}},{key:"getTileCoordCenter",value:function(e){var t=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=(0,mt.Pq)(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*n,t[1]-(e[2]+.5)*i[1]*n]}},{key:"getTileCoordExtent",value:function(e,t){var n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=(0,mt.Pq)(this.getTileSize(e[0]),this.tmpSize_),a=n[0]+e[1]*r[0]*i,o=n[1]-(e[2]+1)*r[1]*i,s=a+r[0]*i,u=o+r[1]*i;return(0,l.T9)(a,o,s,u,t)}},{key:"getTileCoordForCoordAndResolution",value:function(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}},{key:"getTileCoordForXYAndResolution_",value:function(e,t,n,i,r){var a=this.getZForResolution(n),o=n/this.getResolution(a),s=this.getOrigin(a),u=(0,mt.Pq)(this.getTileSize(a),this.tmpSize_),l=o*(e-s[0])/n/u[0],h=o*(s[1]-t)/n/u[1];return i?(l=(0,d.mD)(l,5)-1,h=(0,d.mD)(h,5)-1):(l=(0,d.GW)(l,5),h=(0,d.GW)(h,5)),Z(a,l,h,r)}},{key:"getTileCoordForXYAndZ_",value:function(e,t,n,i,r){var a=this.getOrigin(n),o=this.getResolution(n),s=(0,mt.Pq)(this.getTileSize(n),this.tmpSize_),u=(e-a[0])/o/s[0],l=(a[1]-t)/o/s[1];return i?(u=(0,d.mD)(u,5)-1,l=(0,d.mD)(l,5)-1):(u=(0,d.GW)(u,5),l=(0,d.GW)(l,5)),Z(n,u,l,r)}},{key:"getTileCoordForCoordAndZ",value:function(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}},{key:"getTileCoordResolution",value:function(e){return this.resolutions_[e[0]]}},{key:"getTileSize",value:function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}},{key:"getFullTileRange",value:function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}},{key:"getZForResolution",value:function(e,t){var n=(0,h.h7)(this.resolutions_,e,t||0);return(0,d.uZ)(n,this.minZoom,this.maxZoom)}},{key:"tileCoordIntersectsViewport",value:function(e,t){return(0,te.mV)(t,0,t.length,2,this.getTileCoordExtent(e))}},{key:"calculateTileRanges_",value:function(e){for(var t=this.resolutions_.length,n=new Array(t),i=this.minZoom;i<t;++i)n[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=n}}]),e}();function Rt(e){var t=e.getDefaultTileGrid();return t||(t=function(e,t,n,i){var r=Mt(e);return function(e,t,n,i){i=void 0!==i?i:"top-left";var r=Pt(e,t,n);return new Tt({extent:e,origin:(0,l.g0)(e,i),resolutions:r,tileSize:n})}(r,t,n,i)}(e),e.setDefaultTileGrid(t)),t}function It(e){var t=e||{},n=t.extent||(0,f.U2)("EPSG:3857").getExtent(),i={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:Pt(n,t.maxZoom,t.tileSize,t.maxResolution)};return new Tt(i)}function Pt(e,t,n,i){t=void 0!==t?t:St.e,n=(0,mt.Pq)(void 0!==n?n:St.S);var r=(0,l.Cr)(e),a=(0,l.dz)(e);i=i>0?i:Math.max(a/n[0],r/n[1]);for(var o=t+1,s=new Array(o),u=0;u<o;++u)s[u]=i/Math.pow(2,u);return s}function Mt(e){var t=(e=(0,f.U2)(e)).getExtent();if(!t){var n=180*f.Wm.degrees/e.getMetersPerUnit();t=(0,l.T9)(-n,-n,n,n)}return t}var Ot,Ft=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;(0,o.Z)(this,n),(i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})).on,i.once,i.un,i.opaque_=void 0!==e.opaque&&e.opaque,i.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,i.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;return i.tileGrid&&(0,mt.Pq)(i.tileGrid.getTileSize(i.tileGrid.getMinZoom()),[256,256]),i.tileCache=new Et(e.cacheSize||0),i.tmpSize=[0,0],i.key_=e.key||"",i.tileOptions={transition:e.transition,interpolate:e.interpolate},i.zDirection=e.zDirection?e.zDirection:0,i}return(0,s.Z)(n,[{key:"canExpireCache",value:function(){return this.tileCache.canExpireCache()}},{key:"expireCache",value:function(e,t){var n=this.getTileCacheForProjection(e);n&&n.expireCache(t)}},{key:"forEachLoadedTile",value:function(e,t,n,i){var r=this.getTileCacheForProjection(e);if(!r)return!1;for(var a,o,s,u=!0,l=n.minX;l<=n.maxX;++l)for(var h=n.minY;h<=n.maxY;++h)o=T(t,l,h),s=!1,r.containsKey(o)&&(s=(a=r.get(o)).getState()===st.Z.LOADED)&&(s=!1!==i(a)),s||(u=!1);return u}},{key:"getGutterForProjection",value:function(e){return 0}},{key:"getKey",value:function(){return this.key_}},{key:"setKey",value:function(e){this.key_!==e&&(this.key_=e,this.changed())}},{key:"getOpaque",value:function(e){return this.opaque_}},{key:"getResolutions",value:function(e){var t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}},{key:"getTile",value:function(e,t,n,i,r){return(0,X.O3)()}},{key:"getTileGrid",value:function(){return this.tileGrid}},{key:"getTileGridForProjection",value:function(e){return this.tileGrid?this.tileGrid:Rt(e)}},{key:"getTileCacheForProjection",value:function(e){var t=this.getProjection();return(0,E.h)(null===t||(0,f.OP)(t,e),68),this.tileCache}},{key:"getTilePixelRatio",value:function(e){return this.tilePixelRatio_}},{key:"getTilePixelSize",value:function(e,t,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(t),a=(0,mt.Pq)(i.getTileSize(e),this.tmpSize);return 1==r?a:(0,mt.bA)(a,r,this.tmpSize)}},{key:"getTileCoordForTileUrlFunction",value:function(e,t){t=void 0!==t?t:this.getProjection();var n=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=function(e,t,n){var i=t[0],r=e.getTileCoordCenter(t),a=Mt(n);if(!(0,l.b8)(a,r)){var o=(0,l.dz)(a),s=Math.ceil((a[0]-r[0])/o);return r[0]+=o*s,e.getTileCoordForCoordAndZ(r,i)}return t}(n,e,t)),function(e,t){var n=e[0],i=e[1],r=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;var a=t.getFullTileRange(n);return!a||a.containsXY(i,r)}(e,n)?e:null}},{key:"clear",value:function(){this.tileCache.clear()}},{key:"refresh",value:function(){this.clear(),(0,D.Z)((0,z.Z)(n.prototype),"refresh",this).call(this)}},{key:"updateCacheSize",value:function(e,t){var n=this.getTileCacheForProjection(t);e>n.highWaterMark&&(n.highWaterMark=e)}},{key:"useTile",value:function(e,t,n,i){}}]),n}(Je.Z),Lt=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).tile=i,r}return(0,s.Z)(n)}(Ae.ZP),At=Ft,Dt=!0;try{new ImageData(10,10)}catch(ls){Dt=!1}function zt(e){var t=!0;try{new ImageData(10,10)}catch(ls){t=!1}function n(e,n,i){return t?new ImageData(e,n,i):{data:e,width:n,height:i}}return function(t){var i=t.buffers,r=t.meta,a=t.imageOps,o=t.width,s=t.height,u=i.length,l=i[0].byteLength;if(a){for(var h=new Array(u),c=0;c<u;++c)h[c]=n(new Uint8ClampedArray(i[c]),o,s);return e(h,r).data.buffer}for(var f=new Uint8ClampedArray(l),d=new Array(u),p=new Array(u),v=0;v<u;++v)d[v]=new Uint8ClampedArray(i[v]),p[v]=[0,0,0,0];for(var g=0;g<l;g+=4){for(var y=0;y<u;++y){var m=d[y];p[y][0]=m[g],p[y][1]=m[g+1],p[y][2]=m[g+2],p[y][3]=m[g+3]}var _=e(p,r);f[g]=_[0],f[g+1]=_[1],f[g+2]=_[2],f[g+3]=_[3]}return f.buffer}}function Nt(e,t){var n=Object.keys(e.lib||{}).map((function(t){return"const "+t+" = "+e.lib[t].toString()+";"})).concat(["const __minion__ = ("+zt.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),i=new Worker("undefined"===typeof Blob?"data:text/javascript;base64,"+Buffer.from(n.join("\n"),"binary").toString("base64"):URL.createObjectURL(new Blob(n,{type:"text/javascript"})));return i.addEventListener("message",t),i}var Gt=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i,r;(0,o.Z)(this,n),(i=t.call(this))._imageOps=!!e.imageOps,r=0===e.threads?0:i._imageOps?1:e.threads||1;var a=new Array(r);if(r)for(var s=0;s<r;++s)a[s]=Nt(e,i._onWorkerMessage.bind((0,Fe.Z)(i),s));else a[0]=function(e,t){var n=zt(e.operation),i=!1;return{postMessage:function(e){setTimeout((function(){i||t({data:{buffer:n(e),meta:e.meta}})}),0)},terminate:function(){i=!0}}}(e,i._onWorkerMessage.bind((0,Fe.Z)(i),0));return i._workers=a,i._queue=[],i._maxQueueLength=e.queue||1/0,i._running=0,i._dataLookup={},i._job=null,i}return(0,s.Z)(n,[{key:"process",value:function(e,t,n){this._enqueue({inputs:e,meta:t,callback:n}),this._dispatch()}},{key:"_enqueue",value:function(e){for(this._queue.push(e);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)}},{key:"_dispatch",value:function(){if(!this._running&&0!==this._queue.length){var e=this._queue.shift();this._job=e;var t=e.inputs[0].width,n=e.inputs[0].height,i=e.inputs.map((function(e){return e.data.buffer})),r=this._workers.length;if(this._running=r,1!==r)for(var a=e.inputs[0].data.length,o=4*Math.ceil(a/4/r),s=0;s<r;++s){for(var u=s*o,l=[],h=0,c=i.length;h<c;++h)l.push(i[h].slice(u,u+o));this._workers[s].postMessage({buffers:l,meta:e.meta,imageOps:this._imageOps,width:t,height:n},l)}else this._workers[0].postMessage({buffers:i,meta:e.meta,imageOps:this._imageOps,width:t,height:n},i)}}},{key:"_onWorkerMessage",value:function(e,t){this.disposed||(this._dataLookup[e]=t.data,--this._running,0===this._running&&this._resolveJob())}},{key:"_resolveJob",value:function(){var e,t,n=this._job,i=this._workers.length;if(1===i)e=new Uint8ClampedArray(this._dataLookup[0].buffer),t=this._dataLookup[0].meta;else{var r=n.inputs[0].data.length;e=new Uint8ClampedArray(r),t=new Array(i);for(var a=4*Math.ceil(r/4/i),o=0;o<i;++o){var s=this._dataLookup[o].buffer,u=o*a;e.set(new Uint8ClampedArray(s),u),t[o]=this._dataLookup[o].meta}}this._job=null,this._dataLookup={},n.callback(null,function(e,t,n){if(Dt)return new ImageData(e,t,n);Ot||(Ot=document.createElement("canvas").getContext("2d"));var i=Ot.createImageData(t,n);return i.data.set(e),i}(e,n.inputs[0].width,n.inputs[0].height),t),this._dispatch()}},{key:"disposeInternal",value:function(){for(var e=0;e<this._workers.length;++e)this._workers[e].terminate();this._workers.length=0}}]),n}(Le.Z),jt="beforeoperations",qt="afteroperations",Wt=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i,r){var a;return(0,o.Z)(this,n),(a=t.call(this,e)).extent=i.extent,a.resolution=i.viewState.resolution/i.pixelRatio,a.data=r,a}return(0,s.Z)(n)}(Ae.ZP),Xt=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;(0,o.Z)(this,n),(i=t.call(this,{projection:null})).on,i.once,i.un,i.processor_=null,i.operationType_=void 0!==e.operationType?e.operationType:"pixel",i.threads_=void 0!==e.threads?e.threads:1,i.layers_=function(e){for(var t=e.length,n=new Array(t),i=0;i<t;++i)n[i]=Ut(e[i]);return n}(e.sources);for(var r,a=i.changed.bind((0,Fe.Z)(i)),s=0,l=i.layers_.length;s<l;++s)i.layers_[s].addEventListener(N.Z.CHANGE,a);return i.useResolutions_=null!==e.resolutions,i.tileQueue_=new bt.Z((function(){return 1}),i.changed.bind((0,Fe.Z)(i))),i.requestedFrameState_,i.renderedImageCanvas_=null,i.renderedRevision_,i.frameState_={animate:!1,coordinateToPixelTransform:(0,u.Ue)(),declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:(r=i.layers_,r.map((function(e){return e.getLayerState()}))),pixelRatio:1,pixelToCoordinateTransform:(0,u.Ue)(),postRenderFunctions:[],size:[0,0],tileQueue:i.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:(0,X.sq)((0,Fe.Z)(i)),renderTargets:{}},i.setAttributions((function(t){for(var n=[],i=0,r=e.sources.length;i<r;++i){var a=e.sources[i],o=a instanceof Je.Z?a:a.getSource();if(o){var s=o.getAttributions();if("function"===typeof s){var u=s(t);n.push.apply(n,u)}}}return 0!==n.length?n:null})),void 0!==e.operation&&i.setOperation(e.operation,e.lib),i}return(0,s.Z)(n,[{key:"setOperation",value:function(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new Gt({operation:e,imageOps:"image"===this.operationType_,queue:1,lib:t,threads:this.threads_}),this.changed()}},{key:"updateFrameState_",value:function(e,t,n){var i=Object.assign({},this.frameState_);i.viewState=Object.assign({},i.viewState);var r=(0,l.qg)(e);i.size[0]=Math.ceil((0,l.dz)(e)/t),i.size[1]=Math.ceil((0,l.Cr)(e)/t),i.extent=[r[0]-i.size[0]*t/2,r[1]-i.size[1]*t/2,r[0]+i.size[0]*t/2,r[1]+i.size[1]*t/2],i.time=Date.now();var a=i.viewState;return a.center=r,a.projection=n,a.resolution=t,i}},{key:"allSourcesReady_",value:function(){for(var e,t=!0,n=0,i=this.layers_.length;n<i;++n)if(!(e=this.layers_[n].getSource())||"ready"!==e.getState()){t=!1;break}return t}},{key:"getImage",value:function(e,t,n,i){if(!this.allSourcesReady_())return null;t=this.findNearestResolution(t);var r=this.updateFrameState_(e,t,i);if(this.requestedFrameState_=r,this.renderedImageCanvas_){var a=this.renderedImageCanvas_.getResolution(),o=this.renderedImageCanvas_.getExtent();t===a&&(0,l.fS)(r.extent,o)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),r.tileQueue.loadMoreTiles(16,16),r.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_}},{key:"processSources_",value:function(){for(var e=this.requestedFrameState_,t=this.layers_.length,n=new Array(t),i=0;i<t;++i){e.layerIndex=i;var r=Yt(this.layers_[i],e);if(!r)return;n[i]=r}var a={};this.dispatchEvent(new Wt(jt,e,a)),this.processor_.process(n,a,this.onWorkerComplete_.bind(this,e))}},{key:"onWorkerComplete_",value:function(e,t,n,i){if(!t&&n){var r=e.extent,a=e.viewState.resolution;if(a===this.requestedFrameState_.viewState.resolution&&(0,l.fS)(r,this.requestedFrameState_.extent)){var o;if(this.renderedImageCanvas_)o=this.renderedImageCanvas_.getImage().getContext("2d");else{var s=Math.round((0,l.dz)(r)/a),u=Math.round((0,l.Cr)(r)/a);o=(0,We.E4)(s,u),this.renderedImageCanvas_=new Ne(r,a,1,o.canvas)}o.putImageData(n,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new Wt(qt,e,i)),e.animate&&requestAnimationFrame(this.changed.bind(this))}}}},{key:"getResolutions",value:function(e){if(!this.useResolutions_)return null;var t=(0,D.Z)((0,z.Z)(n.prototype),"getResolutions",this).call(this);if(!t)for(var i=0,r=this.layers_.length;i<r;++i){if(t=this.layers_[i].getSource().getResolutions(e))break}return t}},{key:"disposeInternal",value:function(){this.processor_&&this.processor_.dispose(),(0,D.Z)((0,z.Z)(n.prototype),"disposeInternal",this).call(this)}}]),n}(nt);Xt.prototype.dispose;var Vt=null;function Yt(e,t){var n=e.getRenderer();if(!n)throw new Error("Unsupported layer type: "+e);if(!n.prepareFrame(t))return null;var i=t.size[0],r=t.size[1];if(0===i||0===r)return null;var a,o=n.renderFrame(t,null);if(o instanceof HTMLCanvasElement)a=o;else{if(o&&(a=o.firstElementChild),!(a instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+a);if(a.width===i&&a.height===r)return a.getContext("2d").getImageData(0,0,i,r)}if(Vt){var s=Vt.canvas;s.width!==i||s.height!==r?Vt=(0,We.E4)(i,r,void 0,{willReadFrequently:!0}):Vt.clearRect(0,0,i,r)}else Vt=(0,We.E4)(i,r,void 0,{willReadFrequently:!0});return Vt.drawImage(a,0,0,i,r),Vt.getImageData(0,0,i,r)}function Ut(e){var t;return e instanceof Je.Z?e instanceof At?t=new kt({source:e}):e instanceof nt&&(t=new we({source:e})):t=e,t}var Bt=Xt,Kt="tileloadstart",Ht="tileloadend",Jt="tileloaderror",$t=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).generateTileUrlFunction_=i.tileUrlFunction===n.prototype.tileUrlFunction,i.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(i.tileUrlFunction=e.tileUrlFunction),i.urls=null,e.urls?i.setUrls(e.urls):e.url&&i.setUrl(e.url),i.tileLoadingKeys_={},i}return(0,s.Z)(n,[{key:"getTileLoadFunction",value:function(){return this.tileLoadFunction}},{key:"getTileUrlFunction",value:function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}},{key:"getUrls",value:function(){return this.urls}},{key:"handleTileChange",value:function(e){var t,n=e.target,i=(0,X.sq)(n),r=n.getState();r==st.Z.LOADING?(this.tileLoadingKeys_[i]=!0,t=Kt):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],t=r==st.Z.ERROR?Jt:r==st.Z.LOADED?Ht:void 0),void 0!=t&&this.dispatchEvent(new Lt(t,n))}},{key:"setTileLoadFunction",value:function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}},{key:"setTileUrlFunction",value:function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof t?this.setKey(t):this.changed()}},{key:"setUrl",value:function(e){var t=O(e);this.urls=t,this.setUrls(t)}},{key:"setUrls",value:function(e){this.urls=e;var t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(M(e,this.tileGrid),t):this.setKey(t)}},{key:"tileUrlFunction",value:function(e,t,n){}},{key:"useTile",value:function(e,t,n){var i=T(e,t,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}]),n}(At),Qt=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:en,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,i.tileClass=void 0!==e.tileClass?e.tileClass:ct,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,i.renderReprojectionEdges_=!1,i}return(0,s.Z)(n,[{key:"canExpireCache",value:function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}},{key:"expireCache",value:function(e,t){var n=this.getTileCacheForProjection(e);for(var i in this.tileCache.expireCache(this.tileCache==n?t:{}),this.tileCacheForProjection){var r=this.tileCacheForProjection[i];r.expireCache(r==n?t:{})}}},{key:"getGutterForProjection",value:function(e){return this.getProjection()&&e&&!(0,f.OP)(this.getProjection(),e)?0:this.getGutter()}},{key:"getGutter",value:function(){return 0}},{key:"getKey",value:function(){var e=(0,D.Z)((0,z.Z)(n.prototype),"getKey",this).call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e}},{key:"getOpaque",value:function(e){return!(this.getProjection()&&e&&!(0,f.OP)(this.getProjection(),e))&&(0,D.Z)((0,z.Z)(n.prototype),"getOpaque",this).call(this,e)}},{key:"getTileGridForProjection",value:function(e){var t=this.getProjection();if(this.tileGrid&&(!t||(0,f.OP)(t,e)))return this.tileGrid;var n=(0,X.sq)(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Rt(e)),this.tileGridForProjection[n]}},{key:"getTileCacheForProjection",value:function(e){var t=this.getProjection();if(!t||(0,f.OP)(t,e))return this.tileCache;var n=(0,X.sq)(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new Et(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]}},{key:"createTile_",value:function(e,t,n,i,r,a){var o=[e,t,n],s=this.getTileCoordForTileUrlFunction(o,r),u=s?this.tileUrlFunction(s,i,r):void 0,l=new this.tileClass(o,void 0!==u?st.Z.IDLE:st.Z.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return l.key=a,l.addEventListener(N.Z.CHANGE,this.handleTileChange.bind(this)),l}},{key:"getTile",value:function(e,t,n,i,r){var a=this,o=this.getProjection();if(!o||!r||(0,f.OP)(o,r))return this.getTileInternal(e,t,n,i,o||r);var s,u=this.getTileCacheForProjection(r),l=[e,t,n],h=R(l);u.containsKey(h)&&(s=u.get(h));var c=this.getKey();if(s&&s.key==c)return s;var d=this.getTileGridForProjection(o),p=this.getTileGridForProjection(r),v=this.getTileCoordForTileUrlFunction(l,r),g=new pt(o,d,r,p,l,v,this.getTilePixelRatio(i),this.getGutter(),(function(e,t,n,i){return a.getTileInternal(e,t,n,i,o)}),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return g.key=c,s?(g.interimTile=s,g.refreshInterimChain(),u.replace(h,g)):u.set(h,g),g}},{key:"getTileInternal",value:function(e,t,n,i,r){var a=null,o=T(e,t,n),s=this.getKey();if(this.tileCache.containsKey(o)){if((a=this.tileCache.get(o)).key!=s){var u=a;a=this.createTile_(e,t,n,i,r,s),u.getState()==st.Z.IDLE?a.interimTile=u.interimTile:a.interimTile=u,a.refreshInterimChain(),this.tileCache.replace(o,a)}}else a=this.createTile_(e,t,n,i,r,s),this.tileCache.set(o,a);return a}},{key:"setRenderReprojectionEdges",value:function(e){if(this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}},{key:"setTileGridForProjection",value:function(e,t){var n=(0,f.U2)(e);if(n){var i=(0,X.sq)(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=t)}}},{key:"clear",value:function(){for(var e in(0,D.Z)((0,z.Z)(n.prototype),"clear",this).call(this),this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}]),n}($t);function en(e,t){e.getImage().src=t}var tn=Qt,nn=n(8737);Error,Error;var rn=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;if((0,o.Z)(this,n),(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:(0,f.U2)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection})).tileJSON_=null,i.tileSize_=e.tileSize,e.url)if(e.jsonp)!function(e,t,n,i){var r=document.createElement("script"),a="olc_"+(0,X.sq)(t);function o(){delete window[a],r.parentNode.removeChild(r)}r.async=!0,r.src=e+(e.includes("?")?"&":"?")+(i||"callback")+"="+a;var s=setTimeout((function(){o(),n&&n()}),1e4);window[a]=function(e){clearTimeout(s),o(),t(e)},document.head.appendChild(r)}(e.url,i.handleTileJSONResponse.bind((0,Fe.Z)(i)),i.handleTileJSONError.bind((0,Fe.Z)(i)));else{var r=new XMLHttpRequest;r.addEventListener("load",i.onXHRLoad_.bind((0,Fe.Z)(i))),r.addEventListener("error",i.onXHRError_.bind((0,Fe.Z)(i))),r.open("GET",e.url),r.send()}else e.tileJSON?i.handleTileJSONResponse(e.tileJSON):(0,E.h)(!1,51);return i}return(0,s.Z)(n,[{key:"onXHRLoad_",value:function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var n;try{n=JSON.parse(t.responseText)}catch(i){return void this.handleTileJSONError()}this.handleTileJSONResponse(n)}else this.handleTileJSONError()}},{key:"onXHRError_",value:function(e){this.handleTileJSONError()}},{key:"getTileJSON",value:function(){return this.tileJSON_}},{key:"handleTileJSONResponse",value:function(e){var t,n=(0,f.U2)("EPSG:4326"),i=this.getProjection();if(void 0!==e.bounds){var r=(0,f.WO)(n,i);t=(0,l.Ne)(e.bounds,r)}var a=Mt(i),o=e.minzoom||0,s=It({extent:a,maxZoom:e.maxzoom||22,minZoom:o,tileSize:this.tileSize_});if(this.tileGrid=s,this.tileUrlFunction=M(e.tiles,s),e.attribution&&!this.getAttributions()){var u=void 0!==t?t:a;this.setAttributions((function(t){return(0,l.kK)(u,t.extent)?[e.attribution]:null}))}this.tileJSON_=e,this.setState("ready")}},{key:"handleTileJSONError",value:function(){this.setState("error")}}]),n}(tn),an=n(3822),on=n(2901),sn=n(3442),un=n(8933),ln=n(9988),hn=n(8418),cn=n(1787),fn=n(2024),dn={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},pn={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},vn=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,e)).boundHandleStyleImageChange_=i.handleStyleImageChange_.bind((0,Fe.Z)(i)),i.renderedLayerRevision_,i.renderedPixelToCoordinateTransform_=null,i.renderedRotation_,i.tmpTransform_=(0,u.Ue)(),i}return(0,s.Z)(n,[{key:"prepareTile",value:function(e,t,n){var i,r=e.getState();return r!==st.Z.LOADED&&r!==st.Z.ERROR||(this.updateExecutorGroup_(e,t,n),this.tileImageNeedsRender_(e)&&(i=!0)),i}},{key:"getTile",value:function(e,t,i,r){var a=r.pixelRatio,o=r.viewState,s=o.resolution,u=o.projection,l=this.getLayer(),h=l.getSource().getTile(e,t,i,a,u),c=r.viewHints,f=!(c[ke.Z.ANIMATING]||c[ke.Z.INTERACTING]);return!f&&h.wantedResolution||(h.wantedResolution=s),this.prepareTile(h,a,u)&&(f||Date.now()-r.time<8)&&"vector"!==l.getRenderMode()&&this.renderTileImage_(h,r),(0,D.Z)((0,z.Z)(n.prototype),"getTile",this).call(this,e,t,i,r)}},{key:"isDrawableTile",value:function(e){var t=this.getLayer();return(0,D.Z)((0,z.Z)(n.prototype),"isDrawableTile",this).call(this,e)&&("vector"===t.getRenderMode()?(0,X.sq)(t)in e.executorGroups:e.hasContext(t))}},{key:"getTileImage",value:function(e){return e.getImage(this.getLayer())}},{key:"prepareFrame",value:function(e){var t=this.getLayer().getRevision();return this.renderedLayerRevision_!==t&&(this.renderedLayerRevision_=t,this.renderedTiles.length=0),(0,D.Z)((0,z.Z)(n.prototype),"prepareFrame",this).call(this,e)}},{key:"updateExecutorGroup_",value:function(e,t,n){var i=this,r=this.getLayer(),a=r.getRevision(),o=r.getRenderOrder()||null,s=e.wantedResolution,u=e.getReplayState(r);if(u.dirty||u.renderedResolution!==s||u.renderedRevision!=a||u.renderedRenderOrder!=o){var h=r.getSource(),c=r.getDeclutter(),f=h.getTileGrid(),d=h.getTileGridForProjection(n).getTileCoordExtent(e.wrappedTileCoord),p=h.getSourceTiles(t,n,e),v=(0,X.sq)(r);delete e.hitDetectionImageData[v],e.executorGroups[v]=[],c&&(e.declutterExecutorGroups[v]=[]),u.dirty=!1;for(var g=function(){var n=p[y];if(n.getState()!=st.Z.LOADED)return"continue";var a=n.tileCoord,g=f.getTileCoordExtent(a),m=(0,l.Ed)(d,g),_=(0,l.f3)(m,r.getRenderBuffer()*s,i.tmpExtent),x=(0,l.fS)(g,m)?null:_,k=new un.Z(0,_,s,t),b=c?new un.Z(0,m,s,t):void 0,C=(0,cn.se)(s,t),w=function(e){var t,n=e.getStyleFunction()||r.getStyleFunction();if(n&&(t=n(e,s)),t){var i=this.renderFeature(e,C,t,k,b);u.dirty=u.dirty||i}},E=n.getFeatures();o&&o!==u.renderedRenderOrder&&E.sort(o);for(var S=0,Z=E.length;S<Z;++S){var T=E[S];x&&!(0,l.kK)(x,T.getGeometry().getExtent())||w.call(i,T)}var R=k.finish(),I="vector"!==r.getRenderMode()&&c&&1===p.length?null:m,P=new ln.Z(I,s,t,h.getOverlaps(),R,r.getRenderBuffer());if(e.executorGroups[v].push(P),b){var M=new ln.Z(null,s,t,h.getOverlaps(),b.finish(),r.getRenderBuffer());e.declutterExecutorGroups[v].push(M)}},y=0,m=p.length;y<m;++y)g();u.renderedRevision=a,u.renderedRenderOrder=o,u.renderedResolution=s}}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r){var a=t.viewState.resolution,o=t.viewState.rotation;n=void 0==n?0:n;var s=this.getLayer(),u=s.getSource().getTileGridForProjection(t.viewState.projection),h=(0,l.hI)([e]);(0,l.f3)(h,a*n,h);for(var c,f={},d=function(e,t,n){var a=e.getId();void 0===a&&(a=(0,X.sq)(e));var o=f[a];if(o){if(!0!==o&&n<o.distanceSq){if(0===n)return f[a]=!0,r.splice(r.lastIndexOf(o),1),i(e,s,t);o.geometry=t,o.distanceSq=n}}else{if(0===n)return f[a]=!0,i(e,s,t);r.push(f[a]={feature:e,layer:s,geometry:t,distanceSq:n,callback:i})}},p=this.renderedTiles,v=function(){var i=p[g],r=u.getTileCoordExtent(i.wrappedTileCoord);if(!(0,l.kK)(r,h))return"continue";var f=(0,X.sq)(s),v=[i.executorGroups[f]],y=i.declutterExecutorGroups[f];y&&v.push(y),v.some((function(i){for(var r=i===y?t.declutterTree.all().map((function(e){return e.value})):null,s=0,u=i.length;s<u;++s){var l=i[s];if(c=l.forEachFeatureAtCoordinate(e,a,o,n,d,r))return!0}}))},g=0,y=p.length;!c&&g<y;++g)v();return c}},{key:"getFeatures",value:function(e){var t=this;return new Promise((function(n,i){for(var r,a=t.getLayer(),o=(0,X.sq)(a),s=a.getSource(),h=t.renderedProjection,c=h.getExtent(),f=t.renderedResolution,d=s.getTileGridForProjection(h),p=(0,u.nn)(t.renderedPixelToCoordinateTransform_,e.slice()),v=d.getTileCoordForCoordAndResolution(p,f),g=0,y=t.renderedTiles.length;g<y;++g)if(v.toString()===t.renderedTiles[g].tileCoord.toString()){if((r=t.renderedTiles[g]).getState()===st.Z.LOADED){var m=d.getTileCoordExtent(r.tileCoord);s.getWrapX()&&h.canWrapX()&&!(0,l.r4)(c,m)&&(0,fn.Cf)(p,h);break}r=void 0}if(!r||r.loadingSourceTiles>0)n([]);else{var _=d.getTileCoordExtent(r.wrappedTileCoord),x=(0,l.rL)(_),k=[(p[0]-x[0])/f,(x[1]-p[1])/f],b=r.getSourceTiles().reduce((function(e,t){return e.concat(t.getFeatures())}),[]),C=r.hitDetectionImageData[o];if(!C){var w=(0,mt.Pq)(d.getTileSize(d.getZForResolution(f,s.zDirection))),E=t.renderedRotation_,S=[t.getRenderTransform(d.getTileCoordCenter(r.wrappedTileCoord),f,0,hn.UN,w[0]*hn.UN,w[1]*hn.UN,0)];C=(0,hn.TU)(w,S,b,a.getStyleFunction(),d.getTileCoordExtent(r.wrappedTileCoord),r.getReplayState(a).renderedResolution,E),r.hitDetectionImageData[o]=C}n((0,hn.ix)(k,b,C))}}))}},{key:"handleFontsChanged",value:function(){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()}},{key:"handleStyleImageChange_",value:function(e){this.renderIfReadyAndVisible()}},{key:"renderDeclutter",value:function(e){var t=this.context,n=t.globalAlpha;t.globalAlpha=this.getLayer().getOpacity();for(var i=e.viewHints,r=!(i[ke.Z.ANIMATING]||i[ke.Z.INTERACTING]),a=this.renderedTiles,o=0,s=a.length;o<s;++o){var u=a[o],l=u.declutterExecutorGroups[(0,X.sq)(this.getLayer())];if(l)for(var h=l.length-1;h>=0;--h)l[h].execute(this.context,1,this.getTileRenderTransform(u,e),e.viewState.rotation,r,void 0,e.declutterTree)}t.globalAlpha=n}},{key:"getTileRenderTransform",value:function(e,t){var n=t.pixelRatio,i=t.viewState,r=i.center,a=i.resolution,o=i.rotation,s=t.size,l=Math.round(s[0]*n),h=Math.round(s[1]*n),c=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),f=e.tileCoord,d=c.getTileCoordExtent(e.wrappedTileCoord),p=c.getTileCoordExtent(f,this.tmpExtent)[0]-d[0];return(0,u.Jp)((0,u.bA)(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(r,a,o,n,l,h,p))}},{key:"postRender",value:function(e,t){var i=t.viewHints,r=!(i[ke.Z.ANIMATING]||i[ke.Z.INTERACTING]);this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var a=this.getLayer(),o=a.getRenderMode(),s=e.globalAlpha;e.globalAlpha=a.getOpacity();for(var u=pn[o],h=t.viewState,c=h.rotation,f=a.getSource(),d=f.getTileGridForProjection(h.projection).getZForResolution(h.resolution,f.zDirection),p=this.renderedTiles,v=[],g=[],y=!0,m=p.length-1;m>=0;--m){var _=p[m];y=y&&!_.getReplayState(a).dirty;var x=_.executorGroups[(0,X.sq)(a)].filter((function(e){return e.hasExecutors(u)}));if(0!==x.length){var k=this.getTileRenderTransform(_,t),b=_.tileCoord[0],C=!1,w=x[0].getClipCoords(k);if(w){for(var E=0,S=v.length;E<S;++E)if(d!==b&&b<g[E]){var Z=v[E];(0,l.kK)([w[0],w[3],w[4],w[7]],[Z[0],Z[3],Z[4],Z[7]])&&(C||(e.save(),C=!0),e.beginPath(),e.moveTo(w[0],w[1]),e.lineTo(w[2],w[3]),e.lineTo(w[4],w[5]),e.lineTo(w[6],w[7]),e.moveTo(Z[6],Z[7]),e.lineTo(Z[4],Z[5]),e.lineTo(Z[2],Z[3]),e.lineTo(Z[0],Z[1]),e.clip())}v.push(w),g.push(b)}for(var T=0,R=x.length;T<R;++T){x[T].execute(e,1,k,c,r,u)}C&&e.restore()}}e.globalAlpha=s,this.ready=y,(0,D.Z)((0,z.Z)(n.prototype),"postRender",this).call(this,e,t)}},{key:"renderFeature",value:function(e,t,n,i,r){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var o=0,s=n.length;o<s;++o)a=(0,cn.Pn)(i,e,n[o],t,this.boundHandleStyleImageChange_,void 0,r)||a;else a=(0,cn.Pn)(i,e,n,t,this.boundHandleStyleImageChange_,void 0,r);return a}},{key:"tileImageNeedsRender_",value:function(e){var t=this.getLayer();if("vector"===t.getRenderMode())return!1;var n=e.getReplayState(t),i=t.getRevision(),r=e.wantedResolution;return n.renderedTileResolution!==r||n.renderedTileRevision!==i}},{key:"renderTileImage_",value:function(e,t){var n=this.getLayer(),i=e.getReplayState(n),r=n.getRevision(),a=e.executorGroups[(0,X.sq)(n)];i.renderedTileRevision=r;var o=e.wrappedTileCoord,s=o[0],l=n.getSource(),h=t.pixelRatio,c=t.viewState.projection,f=l.getTileGridForProjection(c),d=f.getResolution(e.tileCoord[0]),p=t.pixelRatio/e.wantedResolution*d,v=f.getResolution(s),g=e.getContext(n);h=Math.round(Math.max(h,p/h));var y=l.getTilePixelSize(s,h,c);g.canvas.width=y[0],g.canvas.height=y[1];var m=h/p;if(1!==m){var _=(0,u.mc)(this.tmpTransform_);(0,u.bA)(_,m,m),g.setTransform.apply(g,_)}var x=f.getTileCoordExtent(o,this.tmpExtent),k=p/v,b=(0,u.mc)(this.tmpTransform_);(0,u.bA)(b,k,-k),(0,u.Iu)(b,-x[0],-x[3]);for(var C=0,w=a.length;C<w;++C){a[C].execute(g,m,b,0,!0,dn[n.getRenderMode()])}i.renderedTileResolution=e.wantedResolution}}]),n}(xt),gn=vn,yn=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;(0,o.Z)(this,n),e=e||{};var r=Object.assign({},e);delete r.preload,delete r.useInterimTilesOnError,(i=t.call(this,r)).on,i.once,i.un;var a=e.renderMode||"hybrid";return(0,E.h)("hybrid"==a||"vector"==a,28),i.renderMode_=a,i.setPreload(e.preload?e.preload:0),i.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),i.getBackground,i.setBackground,i}return(0,s.Z)(n,[{key:"createRenderer",value:function(){return new gn(this)}},{key:"getFeatures",value:function(e){return(0,D.Z)((0,z.Z)(n.prototype),"getFeatures",this).call(this,e)}},{key:"getRenderMode",value:function(){return this.renderMode_}},{key:"getPreload",value:function(){return this.get(it)}},{key:"getUseInterimTilesOnError",value:function(){return this.get(rt)}},{key:"setPreload",value:function(e){this.set(it,e)}},{key:"setUseInterimTilesOnError",value:function(e){this.set(rt,e)}}]),n}(sn.Z),mn=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i,r,a,s,u){var l;return(0,o.Z)(this,n),(l=t.call(this,e,i,u)).extent=null,l.format_=a,l.features_=null,l.loader_,l.projection=null,l.resolution,l.tileLoadFunction_=s,l.url_=r,l.key=r,l}return(0,s.Z)(n,[{key:"getFormat",value:function(){return this.format_}},{key:"getFeatures",value:function(){return this.features_}},{key:"load",value:function(){this.state==st.Z.IDLE&&(this.setState(st.Z.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}},{key:"onLoad",value:function(e,t){this.setFeatures(e)}},{key:"onError",value:function(){this.setState(st.Z.ERROR)}},{key:"setFeatures",value:function(e){this.features_=e,this.setState(st.Z.LOADED)}},{key:"setLoader",value:function(e){this.loader_=e}}]),n}(lt),_n=mn,xn=[],kn=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e,i,r,a){var s;return(0,o.Z)(this,n),(s=t.call(this,e,i,{transition:0})).context_={},s.executorGroups={},s.declutterExecutorGroups={},s.loadingSourceTiles=0,s.hitDetectionImageData={},s.replayState_={},s.sourceTiles=[],s.errorTileKeys={},s.wantedResolution,s.getSourceTiles=a.bind(void 0,(0,Fe.Z)(s)),s.wrappedTileCoord=r,s}return(0,s.Z)(n,[{key:"getContext",value:function(e){var t=(0,X.sq)(e);return t in this.context_||(this.context_[t]=(0,We.E4)(1,1,xn)),this.context_[t]}},{key:"hasContext",value:function(e){return(0,X.sq)(e)in this.context_}},{key:"getImage",value:function(e){return this.hasContext(e)?this.getContext(e).canvas:null}},{key:"getReplayState",value:function(e){var t=(0,X.sq)(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}},{key:"load",value:function(){this.getSourceTiles()}},{key:"release",value:function(){for(var e in this.context_){var t=this.context_[e];(0,We.jy)(t),xn.push(t.canvas),delete this.context_[e]}(0,D.Z)((0,z.Z)(n.prototype),"release",this).call(this)}}]),n}(lt),bn=kn,Cn=n(3281),wn=function(e){(0,F.Z)(n,e);var t=(0,L.Z)(n);function n(e){var i;(0,o.Z)(this,n);var r=e.projection||"EPSG:3857",a=e.extent||Mt(r),s=e.tileGrid||It({extent:a,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return(i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,opaque:!1,projection:r,state:e.state,tileGrid:s,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Sn,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection})).format_=e.format?e.format:null,i.sourceTileCache=new Et(i.tileCache.highWaterMark),i.overlaps_=void 0==e.overlaps||e.overlaps,i.tileClass=e.tileClass?e.tileClass:_n,i.tileGrids_={},i}return(0,s.Z)(n,[{key:"getFeaturesInExtent",value:function(e){var t=[],n=this.tileCache;if(0===n.getCount())return t;var i=I(n.peekFirstKey())[0],r=this.tileGrid;return n.forEach((function(n){if(n.tileCoord[0]===i&&n.getState()===st.Z.LOADED)for(var a=n.getSourceTiles(),o=0,s=a.length;o<s;++o){var u=a[o],h=u.tileCoord;if((0,l.kK)(e,r.getTileCoordExtent(h))){var c=u.getFeatures();if(c)for(var f=0,d=c.length;f<d;++f){var p=c[f],v=p.getGeometry();(0,l.kK)(e,v.getExtent())&&t.push(p)}}}})),t}},{key:"getOverlaps",value:function(){return this.overlaps_}},{key:"clear",value:function(){this.tileCache.clear(),this.sourceTileCache.clear()}},{key:"expireCache",value:function(e,t){var i=this.getTileCacheForProjection(e),r=Object.keys(t).reduce((function(e,t){var n=function(e){var t=e.substring(e.lastIndexOf("/")+1,e.length).split(",").map(Number),n=(0,S.Z)(t,3);return T(n[0],n[1],n[2])}(t),r=i.peek(n);if(r)for(var a=r.sourceTiles,o=0,s=a.length;o<s;++o)e[a[o].getKey()]=!0;return e}),{});(0,D.Z)((0,z.Z)(n.prototype),"expireCache",this).call(this,e,t),this.sourceTileCache.expireCache(r)}},{key:"getSourceTiles",value:function(e,t,n){var i=this;if(n.getState()===st.Z.IDLE){n.setState(st.Z.LOADING);var r=n.wrappedTileCoord,a=this.getTileGridForProjection(t),o=a.getTileCoordExtent(r),s=r[0],u=a.getResolution(s);(0,l.f3)(o,-u,o);var h=this.tileGrid,c=h.getExtent();c&&(0,l.Ed)(o,c,o);var f=h.getZForResolution(u,this.zDirection);h.forEachTileCoord(o,f,(function(r){var a=i.tileUrlFunction(r,e,t),o=i.sourceTileCache.containsKey(a)?i.sourceTileCache.get(a):new i.tileClass(r,a?st.Z.IDLE:st.Z.EMPTY,a,i.format_,i.tileLoadFunction);n.sourceTiles.push(o);var s=o.getState();if(s<st.Z.LOADED){o.addEventListener(N.Z.CHANGE,(function e(t){i.handleTileChange(t);var r=o.getState();if(r===st.Z.LOADED||r===st.Z.ERROR){var a=o.getKey();a in n.errorTileKeys?o.getState()===st.Z.LOADED&&delete n.errorTileKeys[a]:n.loadingSourceTiles--,r===st.Z.ERROR?n.errorTileKeys[a]=!0:o.removeEventListener(N.Z.CHANGE,e),0===n.loadingSourceTiles&&n.setState((0,de.x)(n.errorTileKeys)?st.Z.LOADED:st.Z.ERROR)}})),n.loadingSourceTiles++}s===st.Z.IDLE&&(o.extent=h.getTileCoordExtent(r),o.projection=t,o.resolution=h.getResolution(r[0]),i.sourceTileCache.set(a,o),o.load())})),n.loadingSourceTiles||n.setState(n.sourceTiles.some((function(e){return e.getState()===st.Z.ERROR}))?st.Z.ERROR:st.Z.LOADED)}return n.sourceTiles}},{key:"getTile",value:function(e,t,n,i,r){var a,o=this,s=T(e,t,n),u=this.getKey();if(this.tileCache.containsKey(s)&&(a=this.tileCache.get(s)).key===u)return a;var h=[e,t,n],c=this.getTileCoordForTileUrlFunction(h,r),f=this.getTileGrid().getExtent(),d=this.getTileGridForProjection(r);if(c&&f){var p=d.getTileCoordExtent(c);(0,l.f3)(p,-d.getResolution(e),p),(0,l.kK)(f,p)||(c=null)}var v=!0;if(null!==c){var g=this.tileGrid,y=d.getResolution(e),m=g.getZForResolution(y,1),_=d.getTileCoordExtent(c);(0,l.f3)(_,-y,_),g.forEachTileCoord(_,m,(function(e){v=v&&!o.tileUrlFunction(e,i,r)}))}var x=new bn(h,v?st.Z.EMPTY:st.Z.IDLE,c,this.getSourceTiles.bind(this,i,r));return x.key=u,a?(x.interimTile=a,x.refreshInterimChain(),this.tileCache.replace(s,x)):this.tileCache.set(s,x),x}},{key:"getTileGridForProjection",value:function(e){var t=e.getCode(),n=this.tileGrids_[t];if(!n){for(var i=this.tileGrid,r=i.getResolutions().slice(),a=r.map((function(e,t){return i.getOrigin(t)})),o=r.map((function(e,t){return i.getTileSize(t)})),s=St.e+1,u=r.length;u<s;++u)r.push(r[u-1]/2),a.push(a[u-1]),o.push(o[u-1]);n=new Tt({extent:i.getExtent(),origins:a,resolutions:r,tileSizes:o}),this.tileGrids_[t]=n}return n}},{key:"getTilePixelRatio",value:function(e){return e}},{key:"getTilePixelSize",value:function(e,t,n){var i=this.getTileGridForProjection(n),r=(0,mt.Pq)(i.getTileSize(e),this.tmpSize);return[Math.round(r[0]*t),Math.round(r[1]*t)]}},{key:"updateCacheSize",value:function(e,t){(0,D.Z)((0,z.Z)(n.prototype),"updateCacheSize",this).call(this,2*e,t),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(t).highWaterMark}}]),n}($t),En=wn;function Sn(e,t){e.setLoader((function(n,i,r){(0,Cn.ov)(t,e.getFormat(),n,i,r,e.onLoad.bind(e),e.onError.bind(e))}))}var Zn,Tn=n(430),Rn=n(8562),In={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Pn(e){return(e=Math.round(e))<0?0:e>255?255:e}function Mn(e){return e<0?0:e>1?1:e}function On(e){return"%"===e[e.length-1]?Pn(parseFloat(e)/100*255):Pn(parseInt(e))}function Fn(e){return"%"===e[e.length-1]?Mn(parseFloat(e)/100):Mn(parseFloat(e))}function Ln(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{Zn={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in In)return In[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var i=n.indexOf("("),r=n.indexOf(")");if(-1!==i&&r+1===n.length){var a=n.substr(0,i),o=n.substr(i+1,r-(i+1)).split(","),s=1;switch(a){case"rgba":if(4!==o.length)return null;s=Fn(o.pop());case"rgb":return 3!==o.length?null:[On(o[0]),On(o[1]),On(o[2]),s];case"hsla":if(4!==o.length)return null;s=Fn(o.pop());case"hsl":if(3!==o.length)return null;var u=(parseFloat(o[0])%360+360)%360/360,l=Fn(o[1]),h=Fn(o[2]),c=h<=.5?h*(l+1):h+l-h*l,f=2*h-c;return[Pn(255*Ln(f,c,u+1/3)),Pn(255*Ln(f,c,u)),Pn(255*Ln(f,c,u-1/3)),s];default:return null}}return null}}catch(hs){}var An=function(e,t,n,i){void 0===i&&(i=1),this.r=e,this.g=t,this.b=n,this.a=i};An.parse=function(e){if(e){if(e instanceof An)return e;if("string"===typeof e){var t=Zn(e);if(t)return new An(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},An.prototype.toString=function(){var e=this.toArray(),t=e[0],n=e[1],i=e[2],r=e[3];return"rgba("+Math.round(t)+","+Math.round(n)+","+Math.round(i)+","+r+")"},An.prototype.toArray=function(){var e=this,t=e.r,n=e.g,i=e.b,r=e.a;return 0===r?[0,0,0,0]:[255*t/r,255*n/r,255*i/r,r]},An.prototype.toArray01=function(){var e=this,t=e.r,n=e.g,i=e.b,r=e.a;return 0===r?[0,0,0,0]:[t/r,n/r,i/r,r]},An.prototype.toArray01PremultipliedAlpha=function(){var e=this;return[e.r,e.g,e.b,e.a]},An.black=new An(0,0,0,1),An.white=new An(1,1,1,1),An.transparent=new An(0,0,0,0),An.red=new An(1,0,0,1),An.blue=new An(0,0,1,1);var Dn=An;function zn(e){return"object"===typeof e?["literal",e]:e}function Nn(e,t){var n=e.stops;if(!n)return function(e,t){var n=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",n]:n;if("enum"===t.type)return["match",n,Object.keys(t.values),n,e.default];var i=["color"===t.type?"to-color":t.type,n,zn(e.default)];return"array"===t.type&&i.splice(1,0,t.value,t.length||null),i}(e,t);var i=n&&"object"===typeof n[0][0],r=i||void 0!==e.property,a=i||!r;return n=n.map((function(e){return!r&&t.tokens&&"string"===typeof e[1]?[e[0],Yn(e[1])]:[e[0],zn(e[1])]})),i?function(e,t,n){for(var i={},r={},a=[],o=0;o<n.length;o++){var s=n[o],u=s[0].zoom;void 0===i[u]&&(i[u]={zoom:u,type:e.type,property:e.property,default:e.default},r[u]=[],a.push(u)),r[u].push([s[0].value,s[1]])}var l=Vn({},t);if("exponential"===l){for(var h=[Gn(e),["linear"],["zoom"]],c=0,f=a;c<f.length;c+=1){var d=f[c];Xn(h,d,qn(i[d],t,r[d]),!1)}return h}for(var p=["step",["zoom"]],v=0,g=a;v<g.length;v+=1){var y=g[v];Xn(p,y,qn(i[y],t,r[y]),!0)}return Wn(p),p}(e,t,n):a?function(e,t,n,i){void 0===i&&(i=["zoom"]);var r,a=Vn(e,t),o=!1;if("interval"===a)r=["step",i],o=!0;else{if("exponential"!==a)throw new Error('Unknown zoom function type "'+a+'"');var s=void 0!==e.base?e.base:1;r=[Gn(e),1===s?["linear"]:["exponential",s],i]}for(var u=0,l=n;u<l.length;u+=1){var h=l[u];Xn(r,h[0],h[1],o)}return Wn(r),r}(e,t,n):qn(e,t,n)}function Gn(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function jn(e,t){var n,i,r=zn((n=e.default,i=t.default,void 0!==n?n:void 0!==i?i:void 0));return void 0===r&&"resolvedImage"===t.type?"":r}function qn(e,t,n){var i=Vn(e,t),r=["get",e.property];if("categorical"===i&&"boolean"===typeof n[0][0]){for(var a=["case"],o=0,s=n;o<s.length;o+=1){var u=s[o];a.push(["==",r,u[0]],u[1])}return a.push(jn(e,t)),a}if("categorical"===i){for(var l=["match",r],h=0,c=n;h<c.length;h+=1){var f=c[h];Xn(l,f[0],f[1],!1)}return l.push(jn(e,t)),l}if("interval"===i){for(var d=["step",["number",r]],p=0,v=n;p<v.length;p+=1){var g=v[p];Xn(d,g[0],g[1],!0)}return Wn(d),void 0===e.default?d:["case",["==",["typeof",r],"number"],d,zn(e.default)]}if("exponential"===i){for(var y=void 0!==e.base?e.base:1,m=[Gn(e),1===y?["linear"]:["exponential",y],["number",r]],_=0,x=n;_<x.length;_+=1){var k=x[_];Xn(m,k[0],k[1],!1)}return void 0===e.default?m:["case",["==",["typeof",r],"number"],m,zn(e.default)]}throw new Error("Unknown property function type "+i)}function Wn(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function Xn(e,t,n,i){e.length>3&&t===e[e.length-2]||(i&&2===e.length||e.push(t),e.push(n))}function Vn(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function Yn(e){for(var t=["concat"],n=/{([^{}]+)}/g,i=0,r=n.exec(e);null!==r;r=n.exec(e)){var a=e.slice(i,n.lastIndex-r[0].length);i=n.lastIndex,a.length>0&&t.push(a),t.push(["get",r[1]])}if(1===t.length)return e;if(i<e.length)t.push(e.slice(i));else if(2===t.length)return["to-string",t[1]];return t}var Un=function(e){function t(t,n){e.call(this,n),this.message=n,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),Bn=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var n=0,i=t;n<i.length;n+=1){var r=i[n],a=r[0],o=r[1];this.bindings[a]=o}};Bn.prototype.concat=function(e){return new Bn(this,e)},Bn.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},Bn.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Kn=Bn,Hn={kind:"null"},Jn={kind:"number"},$n={kind:"string"},Qn={kind:"boolean"},ei={kind:"color"},ti={kind:"object"},ni={kind:"value"},ii={kind:"collator"},ri={kind:"formatted"},ai={kind:"resolvedImage"};function oi(e,t){return{kind:"array",itemType:e,N:t}}function si(e){if("array"===e.kind){var t=si(e.itemType);return"number"===typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var ui=[Hn,Jn,$n,Qn,ei,ri,ti,oi(ni),ai];function li(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!li(e.itemType,t.itemType))&&("number"!==typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var n=0,i=ui;n<i.length;n+=1){if(!li(i[n],t))return null}}return"Expected "+si(e)+" but found "+si(t)+" instead."}function hi(e,t){return t.some((function(t){return t.kind===e.kind}))}function ci(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"===typeof e:t===typeof e}))}var fi=function(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};fi.prototype.compare=function(e,t){return this.collator.compare(e,t)},fi.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var di=fi,pi=function(e,t,n,i,r){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=n,this.fontStack=i,this.textColor=r},vi=function(e){this.sections=e};vi.fromString=function(e){return new vi([new pi(e,null,null,null,null)])},vi.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},vi.factory=function(e){return e instanceof vi?e:vi.fromString(e)},vi.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},vi.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var i=n[t];if(i.image)e.push(["image",i.image.name]);else{e.push(i.text);var r={};i.fontStack&&(r["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(r["font-scale"]=i.scale),i.textColor&&(r["text-color"]=["rgba"].concat(i.textColor.toArray())),e.push(r)}}return e};var gi=vi,yi=function(e){this.name=e.name,this.available=e.available};yi.prototype.toString=function(){return this.name},yi.fromString=function(e){return e?new yi({name:e,available:!1}):null},yi.prototype.serialize=function(){return["image",this.name]};var mi=yi;function _i(e,t,n,i){return"number"===typeof e&&e>=0&&e<=255&&"number"===typeof t&&t>=0&&t<=255&&"number"===typeof n&&n>=0&&n<=255?"undefined"===typeof i||"number"===typeof i&&i>=0&&i<=1?null:"Invalid rgba value ["+[e,t,n,i].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"===typeof i?[e,t,n,i]:[e,t,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function xi(e){if(null===e)return!0;if("string"===typeof e)return!0;if("boolean"===typeof e)return!0;if("number"===typeof e)return!0;if(e instanceof Dn)return!0;if(e instanceof di)return!0;if(e instanceof gi)return!0;if(e instanceof mi)return!0;if(Array.isArray(e)){for(var t=0,n=e;t<n.length;t+=1){if(!xi(n[t]))return!1}return!0}if("object"===typeof e){for(var i in e)if(!xi(e[i]))return!1;return!0}return!1}function ki(e){if(null===e)return Hn;if("string"===typeof e)return $n;if("boolean"===typeof e)return Qn;if("number"===typeof e)return Jn;if(e instanceof Dn)return ei;if(e instanceof di)return ii;if(e instanceof gi)return ri;if(e instanceof mi)return ai;if(Array.isArray(e)){for(var t,n=e.length,i=0,r=e;i<r.length;i+=1){var a=ki(r[i]);if(t){if(t===a)continue;t=ni;break}t=a}return oi(t||ni,n)}return ti}function bi(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Dn||e instanceof gi||e instanceof mi?e.toString():JSON.stringify(e)}var Ci=function(e,t){this.type=e,this.value=t};Ci.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!xi(e[1]))return t.error("invalid value");var n=e[1],i=ki(n),r=t.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"===typeof r.N&&0!==r.N||(i=r),new Ci(i,n)},Ci.prototype.evaluate=function(){return this.value},Ci.prototype.eachChild=function(){},Ci.prototype.outputDefined=function(){return!0},Ci.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Dn?["rgba"].concat(this.value.toArray()):this.value instanceof gi?this.value.serialize():this.value};var wi=Ci,Ei=function(e){this.name="ExpressionEvaluationError",this.message=e};Ei.prototype.toJSON=function(){return this.message};var Si=Ei,Zi={string:$n,number:Jn,boolean:Qn,object:ti},Ti=function(e,t){this.type=e,this.args=t};Ti.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n,i=1,r=e[0];if("array"===r){var a,o;if(e.length>2){var s=e[1];if("string"!==typeof s||!(s in Zi)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=Zi[s],i++}else a=ni;if(e.length>3){if(null!==e[2]&&("number"!==typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],i++}n=oi(a,o)}else n=Zi[r];for(var u=[];i<e.length;i++){var l=t.parse(e[i],i,ni);if(!l)return null;u.push(l)}return new Ti(n,u)},Ti.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!li(this.type,ki(n)))return n;if(t===this.args.length-1)throw new Si("Expected value to be of type "+si(this.type)+", but found "+si(ki(n))+" instead.")}return null},Ti.prototype.eachChild=function(e){this.args.forEach(e)},Ti.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},Ti.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var i=e.N;("number"===typeof i||this.args.length>1)&&t.push(i)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var Ri=Ti,Ii=function(e){this.type=ri,this.sections=e};Ii.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[1];if(!Array.isArray(n)&&"object"===typeof n)return t.error("First argument must be an image or text section.");for(var i=[],r=!1,a=1;a<=e.length-1;++a){var o=e[a];if(r&&"object"===typeof o&&!Array.isArray(o)){r=!1;var s=null;if(o["font-scale"]&&!(s=t.parse(o["font-scale"],1,Jn)))return null;var u=null;if(o["text-font"]&&!(u=t.parse(o["text-font"],1,oi($n))))return null;var l=null;if(o["text-color"]&&!(l=t.parse(o["text-color"],1,ei)))return null;var h=i[i.length-1];h.scale=s,h.font=u,h.textColor=l}else{var c=t.parse(e[a],1,ni);if(!c)return null;var f=c.type.kind;if("string"!==f&&"value"!==f&&"null"!==f&&"resolvedImage"!==f)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:c,scale:null,font:null,textColor:null})}}return new Ii(i)},Ii.prototype.evaluate=function(e){return new gi(this.sections.map((function(t){var n=t.content.evaluate(e);return ki(n)===ai?new pi("",n,null,null,null):new pi(bi(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},Ii.prototype.eachChild=function(e){for(var t=0,n=this.sections;t<n.length;t+=1){var i=n[t];e(i.content),i.scale&&e(i.scale),i.font&&e(i.font),i.textColor&&e(i.textColor)}},Ii.prototype.outputDefined=function(){return!1},Ii.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var i=n[t];e.push(i.content.serialize());var r={};i.scale&&(r["font-scale"]=i.scale.serialize()),i.font&&(r["text-font"]=i.font.serialize()),i.textColor&&(r["text-color"]=i.textColor.serialize()),e.push(r)}return e};var Pi=Ii,Mi=function(e){this.type=ai,this.input=e};Mi.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,$n);return n?new Mi(n):t.error("No image name provided.")},Mi.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=mi.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n},Mi.prototype.eachChild=function(e){e(this.input)},Mi.prototype.outputDefined=function(){return!1},Mi.prototype.serialize=function(){return["image",this.input.serialize()]};var Oi=Mi,Fi={"to-boolean":Qn,"to-color":ei,"to-number":Jn,"to-string":$n},Li=function(e,t){this.type=e,this.args=t};Li.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");for(var i=Fi[n],r=[],a=1;a<e.length;a++){var o=t.parse(e[a],a,ni);if(!o)return null;r.push(o)}return new Li(i,r)},Li.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,n,i=0,r=this.args;i<r.length;i+=1){if(n=null,(t=r[i].evaluate(e))instanceof Dn)return t;if("string"===typeof t){var a=e.parseColor(t);if(a)return a}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":_i(t[0],t[1],t[2],t[3])))return new Dn(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Si(n||"Could not parse color from value '"+("string"===typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var o=null,s=0,u=this.args;s<u.length;s+=1){if(null===(o=u[s].evaluate(e)))return 0;var l=Number(o);if(!isNaN(l))return l}throw new Si("Could not convert "+JSON.stringify(o)+" to number.")}return"formatted"===this.type.kind?gi.fromString(bi(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?mi.fromString(bi(this.args[0].evaluate(e))):bi(this.args[0].evaluate(e))},Li.prototype.eachChild=function(e){this.args.forEach(e)},Li.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},Li.prototype.serialize=function(){if("formatted"===this.type.kind)return new Pi([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Oi(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var Ai=Li,Di=["Unknown","Point","LineString","Polygon"],zi=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null};zi.prototype.id=function(){return this.feature&&void 0!==this.feature.id?this.feature.id:null},zi.prototype.geometryType=function(){return this.feature?"number"===typeof this.feature.type?Di[this.feature.type]:this.feature.type:null},zi.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},zi.prototype.canonicalID=function(){return this.canonical},zi.prototype.properties=function(){return this.feature&&this.feature.properties||{}},zi.prototype.distanceFromCenter=function(){if(this.featureTileCoord&&this.featureDistanceData){var e=this.featureDistanceData.center,t=this.featureDistanceData.scale,n=this.featureTileCoord,i=n.x,r=n.y,a=i*t-e[0],o=r*t-e[1];return this.featureDistanceData.bearing[0]*a+this.featureDistanceData.bearing[1]*o}return 0},zi.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Dn.parse(e)),t};var Ni=zi,Gi=function(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i};Gi.prototype.evaluate=function(e){return this._evaluate(e,this.args)},Gi.prototype.eachChild=function(e){this.args.forEach(e)},Gi.prototype.outputDefined=function(){return!1},Gi.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},Gi.parse=function(e,t){var n,i=e[0],r=Gi.definitions[i];if(!r)return t.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0);for(var a=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,s=o.filter((function(t){var n=t[0];return!Array.isArray(n)||n.length===e.length-1})),u=null,l=0,h=s;l<h.length;l+=1){var c=h[l],f=c[0],d=c[1];u=new vr(t.registry,t.path,null,t.scope);for(var p=[],v=!1,g=1;g<e.length;g++){var y=e[g],m=Array.isArray(f)?f[g-1]:f.type,_=u.parse(y,1+p.length,m);if(!_){v=!0;break}p.push(_)}if(!v)if(Array.isArray(f)&&f.length!==p.length)u.error("Expected "+f.length+" arguments, but found "+p.length+" instead.");else{for(var x=0;x<p.length;x++){var k=Array.isArray(f)?f[x]:f.type,b=p[x];u.concat(x+1).checkSubtype(k,b.type)}if(0===u.errors.length)return new Gi(i,a,d,p)}}if(1===s.length)(n=t.errors).push.apply(n,u.errors);else{for(var C=(s.length?s:o).map((function(e){var t,n=e[0];return t=n,Array.isArray(t)?"("+t.map(si).join(", ")+")":"("+si(t.type)+"...)"})).join(" | "),w=[],E=1;E<e.length;E++){var S=t.parse(e[E],1+w.length);if(!S)return null;w.push(si(S.type))}t.error("Expected arguments of type "+C+", but found ("+w.join(", ")+") instead.")}return null},Gi.register=function(e,t){for(var n in Gi.definitions=t,t)e[n]=Gi};var ji=Gi,qi=function(e,t,n){this.type=ii,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t};qi.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var n=e[1];if("object"!==typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");var i=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Qn);if(!i)return null;var r=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Qn);if(!r)return null;var a=null;return n.locale&&!(a=t.parse(n.locale,1,$n))?null:new qi(i,r,a)},qi.prototype.evaluate=function(e){return new di(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},qi.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},qi.prototype.outputDefined=function(){return!1},qi.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var Wi=qi,Xi=8192;function Vi(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Yi(e,t){return!(e[0]<=t[0])&&(!(e[2]>=t[2])&&(!(e[1]<=t[1])&&!(e[3]>=t[3])))}function Ui(e,t){var n,i=(180+e[0])/360,r=(n=e[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360),a=Math.pow(2,t.z);return[Math.round(i*a*Xi),Math.round(r*a*Xi)]}function Bi(e,t,n){var i=e[0]-t[0],r=e[1]-t[1],a=e[0]-n[0],o=e[1]-n[1];return i*o-a*r===0&&i*a<=0&&r*o<=0}function Ki(e,t){for(var n,i,r,a=!1,o=0,s=t.length;o<s;o++)for(var u=t[o],l=0,h=u.length;l<h-1;l++){if(Bi(e,u[l],u[l+1]))return!1;n=e,i=u[l],r=u[l+1],i[1]>n[1]!==r[1]>n[1]&&n[0]<(r[0]-i[0])*(n[1]-i[1])/(r[1]-i[1])+i[0]&&(a=!a)}return a}function Hi(e,t){for(var n=0;n<t.length;n++)if(Ki(e,t[n]))return!0;return!1}function Ji(e,t,n,i){var r=e[0]-n[0],a=e[1]-n[1],o=t[0]-n[0],s=t[1]-n[1],u=i[0]-n[0],l=i[1]-n[1],h=r*l-u*a,c=o*l-u*s;return h>0&&c<0||h<0&&c>0}function $i(e,t,n,i){var r,a,o=[t[0]-e[0],t[1]-e[1]],s=[i[0]-n[0],i[1]-n[1]];return 0!==(r=s)[0]*(a=o)[1]-r[1]*a[0]&&!(!Ji(e,t,n,i)||!Ji(n,i,e,t))}function Qi(e,t,n){for(var i=0,r=n;i<r.length;i+=1)for(var a=r[i],o=0;o<a.length-1;++o)if($i(e,t,a[o],a[o+1]))return!0;return!1}function er(e,t){for(var n=0;n<e.length;++n)if(!Ki(e[n],t))return!1;for(var i=0;i<e.length-1;++i)if(Qi(e[i],e[i+1],t))return!1;return!0}function tr(e,t){for(var n=0;n<t.length;n++)if(er(e,t[n]))return!0;return!1}function nr(e,t,n){for(var i=[],r=0;r<e.length;r++){for(var a=[],o=0;o<e[r].length;o++){var s=Ui(e[r][o],n);Vi(t,s),a.push(s)}i.push(a)}return i}function ir(e,t,n){for(var i=[],r=0;r<e.length;r++){var a=nr(e[r],t,n);i.push(a)}return i}function rr(e,t,n,i){if(e[0]<n[0]||e[0]>n[2]){var r=.5*i,a=e[0]-n[0]>r?-i:n[0]-e[0]>r?i:0;0===a&&(a=e[0]-n[2]>r?-i:n[2]-e[0]>r?i:0),e[0]+=a}Vi(t,e)}function ar(e,t,n,i){var r=Math.pow(2,i.z)*Xi,a=[i.x*Xi,i.y*Xi],o=[];if(!e)return o;for(var s=0,u=e;s<u.length;s+=1)for(var l=0,h=u[s];l<h.length;l+=1){var c=h[l],f=[c.x+a[0],c.y+a[1]];rr(f,t,n,r),o.push(f)}return o}function or(e,t,n,i){var r,a=Math.pow(2,i.z)*Xi,o=[i.x*Xi,i.y*Xi],s=[];if(!e)return s;for(var u=0,l=e;u<l.length;u+=1){for(var h=[],c=0,f=l[u];c<f.length;c+=1){var d=f[c],p=[d.x+o[0],d.y+o[1]];Vi(t,p),h.push(p)}s.push(h)}if(t[2]-t[0]<=a/2){(r=t)[0]=r[1]=1/0,r[2]=r[3]=-1/0;for(var v=0,g=s;v<g.length;v+=1)for(var y=0,m=g[v];y<m.length;y+=1){rr(m[y],t,n,a)}}return s}var sr=function(e,t){this.type=Qn,this.geojson=e,this.geometries=t};sr.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(xi(e[1])){var n=e[1];if("FeatureCollection"===n.type)for(var i=0;i<n.features.length;++i){var r=n.features[i].geometry.type;if("Polygon"===r||"MultiPolygon"===r)return new sr(n,n.features[i].geometry)}else if("Feature"===n.type){var a=n.geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new sr(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new sr(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},sr.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if(!r)return!1;if("Polygon"===t.type){var a=nr(t.coordinates,i,r),o=ar(e.geometry(),n,i,r);if(!Yi(n,i))return!1;for(var s=0,u=o;s<u.length;s+=1)if(!Ki(u[s],a))return!1}if("MultiPolygon"===t.type){var l=ir(t.coordinates,i,r),h=ar(e.geometry(),n,i,r);if(!Yi(n,i))return!1;for(var c=0,f=h;c<f.length;c+=1)if(!Hi(f[c],l))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if(!r)return!1;if("Polygon"===t.type){var a=nr(t.coordinates,i,r),o=or(e.geometry(),n,i,r);if(!Yi(n,i))return!1;for(var s=0,u=o;s<u.length;s+=1)if(!er(u[s],a))return!1}if("MultiPolygon"===t.type){var l=ir(t.coordinates,i,r),h=or(e.geometry(),n,i,r);if(!Yi(n,i))return!1;for(var c=0,f=h;c<f.length;c+=1)if(!tr(f[c],l))return!1}return!0}(e,this.geometries)}return!1},sr.prototype.eachChild=function(){},sr.prototype.outputDefined=function(){return!0},sr.prototype.serialize=function(){return["within",this.geojson]};var ur=sr;function lr(e){if(e instanceof ji){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof ur)return!1;var t=!0;return e.eachChild((function(e){t&&!lr(e)&&(t=!1)})),t}function hr(e){if(e instanceof ji&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!hr(e)&&(t=!1)})),t}function cr(e,t){if(e instanceof ji&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!cr(e,t)&&(n=!1)})),n}var fr=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};fr.parse=function(e,t){if(2!==e.length||"string"!==typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var n=e[1];return t.scope.has(n)?new fr(n,t.scope.get(n)):t.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},fr.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},fr.prototype.eachChild=function(){},fr.prototype.outputDefined=function(){return!1},fr.prototype.serialize=function(){return["var",this.name]};var dr=fr,pr=function(e,t,n,i,r){void 0===t&&(t=[]),void 0===i&&(i=new Kn),void 0===r&&(r=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=i,this.errors=r,this.expectedType=n};pr.prototype.parse=function(e,t,n,i,r){return void 0===r&&(r={}),t?this.concat(t,n,i)._parse(e,r):this._parse(e,r)},pr.prototype._parse=function(e,t){function n(e,t,n){return"assert"===n?new Ri(t,[e]):"coerce"===n?new Ai(t,[e]):e}if(null!==e&&"string"!==typeof e&&"boolean"!==typeof e&&"number"!==typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var i=e[0];if("string"!==typeof i)return this.error("Expression name must be a string, but found "+typeof i+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var r=this.registry[i];if(r){var a=r.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else a=n(a,o,t.typeAnnotation||"coerce");else a=n(a,o,t.typeAnnotation||"assert")}if(!(a instanceof wi)&&"resolvedImage"!==a.type.kind&&gr(a)){var u=new Ni;try{a=new wi(a.type,a.evaluate(u))}catch(hs){return this.error(hs.message),null}}return a}return this.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0)}return"undefined"===typeof e?this.error("'undefined' value invalid. Use null instead."):"object"===typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof e+" instead.")},pr.prototype.concat=function(e,t,n){var i="number"===typeof e?this.path.concat(e):this.path,r=n?this.scope.concat(n):this.scope;return new pr(this.registry,i,t||null,r,this.errors)},pr.prototype.error=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var i=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new Un(i,e))},pr.prototype.checkSubtype=function(e,t){var n=li(e,t);return n&&this.error(n),n};var vr=pr;function gr(e){if(e instanceof dr)return gr(e.boundExpression);if(e instanceof ji&&"error"===e.name)return!1;if(e instanceof Wi)return!1;if(e instanceof ur)return!1;var t=e instanceof Ai||e instanceof Ri,n=!0;return e.eachChild((function(e){n=t?n&&gr(e):n&&e instanceof wi})),!!n&&(lr(e)&&cr(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]))}function yr(e,t){for(var n,i,r=e.length-1,a=0,o=r,s=0;a<=o;)if(n=e[s=Math.floor((a+o)/2)],i=e[s+1],n<=t){if(s===r||t<i)return s;a=s+1}else{if(!(n>t))throw new Si("Input is not a number.");o=s-1}return 0}var mr=function(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var i=0,r=n;i<r.length;i+=1){var a=r[i],o=a[0],s=a[1];this.labels.push(o),this.outputs.push(s)}};mr.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");var n=t.parse(e[1],1,Jn);if(!n)return null;var i=[],r=null;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var a=1;a<e.length;a+=2){var o=1===a?-1/0:e[a],s=e[a+1],u=a,l=a+1;if("number"!==typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(i.length&&i[i.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var h=t.parse(s,l,r);if(!h)return null;r=r||h.type,i.push([o,h])}return new mr(r,n,i)},mr.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);var r=t.length;return i>=t[r-1]?n[r-1].evaluate(e):n[yr(t,i)].evaluate(e)},mr.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1){e(n[t])}},mr.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},mr.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var _r=mr,xr=kr;function kr(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=i,this.p2x=n,this.p2y=i}function br(e,t,n){return e*(1-n)+t*n}kr.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},kr.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},kr.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},kr.prototype.solveCurveX=function(e,t){var n,i,r,a,o;for("undefined"===typeof t&&(t=1e-6),r=e,o=0;o<8;o++){if(a=this.sampleCurveX(r)-e,Math.abs(a)<t)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=a/s}if((r=e)<(n=0))return n;if(r>(i=1))return i;for(;n<i;){if(a=this.sampleCurveX(r),Math.abs(a-e)<t)return r;e>a?n=r:i=r,r=.5*(i-n)+n}return r},kr.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var Cr=Object.freeze({__proto__:null,number:br,color:function(e,t,n){return new Dn(br(e.r,t.r,n),br(e.g,t.g,n),br(e.b,t.b,n),br(e.a,t.a,n))},array:function(e,t,n){return e.map((function(e,i){return br(e,t[i],n)}))}}),wr=.95047,Er=1,Sr=1.08883,Zr=4/29,Tr=6/29,Rr=3*Tr*Tr,Ir=Tr*Tr*Tr,Pr=Math.PI/180,Mr=180/Math.PI;function Or(e){return e>Ir?Math.pow(e,1/3):e/Rr+Zr}function Fr(e){return e>Tr?e*e*e:Rr*(e-Zr)}function Lr(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Ar(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Dr(e){var t=Ar(e.r),n=Ar(e.g),i=Ar(e.b),r=Or((.4124564*t+.3575761*n+.1804375*i)/wr),a=Or((.2126729*t+.7151522*n+.072175*i)/Er);return{l:116*a-16,a:500*(r-a),b:200*(a-Or((.0193339*t+.119192*n+.9503041*i)/Sr)),alpha:e.a}}function zr(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,i=isNaN(e.b)?t:t-e.b/200;return t=Er*Fr(t),n=wr*Fr(n),i=Sr*Fr(i),new Dn(Lr(3.2404542*n-1.5371385*t-.4985314*i),Lr(-.969266*n+1.8760108*t+.041556*i),Lr(.0556434*n-.2040259*t+1.0572252*i),e.alpha)}function Nr(e,t,n){var i=t-e;return e+n*(i>180||i<-180?i-360*Math.round(i/360):i)}var Gr={forward:Dr,reverse:zr,interpolate:function(e,t,n){return{l:br(e.l,t.l,n),a:br(e.a,t.a,n),b:br(e.b,t.b,n),alpha:br(e.alpha,t.alpha,n)}}},jr={forward:function(e){var t=Dr(e),n=t.l,i=t.a,r=t.b,a=Math.atan2(r,i)*Mr;return{h:a<0?a+360:a,c:Math.sqrt(i*i+r*r),l:n,alpha:e.a}},reverse:function(e){var t=e.h*Pr,n=e.c;return zr({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Nr(e.h,t.h,n),c:br(e.c,t.c,n),l:br(e.l,t.l,n),alpha:br(e.alpha,t.alpha,n)}}},qr=function(e,t,n,i,r){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(var a=0,o=r;a<o.length;a+=1){var s=o[a],u=s[0],l=s[1];this.labels.push(u),this.outputs.push(l)}};function Wr(e,t,n,i){var r=i-n,a=e-n;return 0===r?0:1===t?a/r:(Math.pow(t,a)-1)/(Math.pow(t,r)-1)}qr.interpolationFactor=function(e,t,n,i){var r=0;if("exponential"===e.name)r=Wr(t,e.base,n,i);else if("linear"===e.name)r=Wr(t,1,n,i);else if("cubic-bezier"===e.name){var a=e.controlPoints;r=new xr(a[0],a[1],a[2],a[3]).solve(Wr(t,1,n,i))}return r},qr.parse=function(e,t){var n=e[0],i=e[1],r=e[2],a=e.slice(3);if(!Array.isArray(i)||0===i.length)return t.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){var o=i[1];if("number"!==typeof o)return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:o}}else{if("cubic-bezier"!==i[0])return t.error("Unknown interpolation type "+String(i[0]),1,0);var s=i.slice(1);if(4!==s.length||s.some((function(e){return"number"!==typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(!(r=t.parse(r,2,Jn)))return null;var u=[],l=null;"interpolate-hcl"===n||"interpolate-lab"===n?l=ei:t.expectedType&&"value"!==t.expectedType.kind&&(l=t.expectedType);for(var h=0;h<a.length;h+=2){var c=a[h],f=a[h+1],d=h+3,p=h+4;if("number"!==typeof c)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(u.length&&u[u.length-1][0]>=c)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);var v=t.parse(f,p,l);if(!v)return null;l=l||v.type,u.push([c,v])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"===typeof l.N?new qr(l,n,i,r,u):t.error("Type "+si(l)+" is not interpolatable.")},qr.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);var r=t.length;if(i>=t[r-1])return n[r-1].evaluate(e);var a=yr(t,i),o=t[a],s=t[a+1],u=qr.interpolationFactor(this.interpolation,i,o,s),l=n[a].evaluate(e),h=n[a+1].evaluate(e);return"interpolate"===this.operator?Cr[this.type.kind.toLowerCase()](l,h,u):"interpolate-hcl"===this.operator?jr.reverse(jr.interpolate(jr.forward(l),jr.forward(h),u)):Gr.reverse(Gr.interpolate(Gr.forward(l),Gr.forward(h),u))},qr.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1){e(n[t])}},qr.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},qr.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t};var Xr=qr,Vr=function(e,t){this.type=e,this.args=t};Vr.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var n=null,i=t.expectedType;i&&"value"!==i.kind&&(n=i);for(var r=[],a=0,o=e.slice(1);a<o.length;a+=1){var s=o[a],u=t.parse(s,1+r.length,n,void 0,{typeAnnotation:"omit"});if(!u)return null;n=n||u.type,r.push(u)}var l=i&&r.some((function(e){return li(i,e.type)}));return new Vr(l?ni:n,r)},Vr.prototype.evaluate=function(e){for(var t,n=null,i=0,r=0,a=this.args;r<a.length;r+=1){if(i++,(n=a[r].evaluate(e))&&n instanceof mi&&!n.available&&(t||(t=n),n=null,i===this.args.length))return t;if(null!==n)break}return n},Vr.prototype.eachChild=function(e){this.args.forEach(e)},Vr.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},Vr.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Yr=Vr,Ur=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};Ur.prototype.evaluate=function(e){return this.result.evaluate(e)},Ur.prototype.eachChild=function(e){for(var t=0,n=this.bindings;t<n.length;t+=1){e(n[t][1])}e(this.result)},Ur.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var n=[],i=1;i<e.length-1;i+=2){var r=e[i];if("string"!==typeof r)return t.error("Expected string, but found "+typeof r+" instead.",i);if(/[^a-zA-Z0-9_]/.test(r))return t.error("Variable names must contain only alphanumeric characters or '_'.",i);var a=t.parse(e[i+1],i+1);if(!a)return null;n.push([r,a])}var o=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return o?new Ur(n,o):null},Ur.prototype.outputDefined=function(){return this.result.outputDefined()},Ur.prototype.serialize=function(){for(var e=["let"],t=0,n=this.bindings;t<n.length;t+=1){var i=n[t],r=i[0],a=i[1];e.push(r,a.serialize())}return e.push(this.result.serialize()),e};var Br=Ur,Kr=function(e,t,n){this.type=e,this.index=t,this.input=n};Kr.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Jn),i=t.parse(e[2],2,oi(t.expectedType||ni));if(!n||!i)return null;var r=i.type;return new Kr(r.itemType,n,i)},Kr.prototype.evaluate=function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Si("Array index out of bounds: "+t+" < 0.");if(t>=n.length)throw new Si("Array index out of bounds: "+t+" > "+(n.length-1)+".");if(t!==Math.floor(t))throw new Si("Array index must be an integer, but found "+t+" instead.");return n[t]},Kr.prototype.eachChild=function(e){e(this.index),e(this.input)},Kr.prototype.outputDefined=function(){return!1},Kr.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Hr=Kr,Jr=function(e,t){this.type=Qn,this.needle=e,this.haystack=t};Jr.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,ni),i=t.parse(e[2],2,ni);return n&&i?hi(n.type,[Qn,$n,Jn,Hn,ni])?new Jr(n,i):t.error("Expected first argument to be of type boolean, string, number or null, but found "+si(n.type)+" instead"):null},Jr.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(null==n)return!1;if(!ci(t,["boolean","string","number","null"]))throw new Si("Expected first argument to be of type boolean, string, number or null, but found "+si(ki(t))+" instead.");if(!ci(n,["string","array"]))throw new Si("Expected second argument to be of type array or string, but found "+si(ki(n))+" instead.");return n.indexOf(t)>=0},Jr.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},Jr.prototype.outputDefined=function(){return!0},Jr.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var $r=Jr,Qr=function(e,t,n){this.type=Jn,this.needle=e,this.haystack=t,this.fromIndex=n};Qr.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,ni),i=t.parse(e[2],2,ni);if(!n||!i)return null;if(!hi(n.type,[Qn,$n,Jn,Hn,ni]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+si(n.type)+" instead");if(4===e.length){var r=t.parse(e[3],3,Jn);return r?new Qr(n,i,r):null}return new Qr(n,i)},Qr.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!ci(t,["boolean","string","number","null"]))throw new Si("Expected first argument to be of type boolean, string, number or null, but found "+si(ki(t))+" instead.");if(!ci(n,["string","array"]))throw new Si("Expected second argument to be of type array or string, but found "+si(ki(n))+" instead.");if(this.fromIndex){var i=this.fromIndex.evaluate(e);return n.indexOf(t,i)}return n.indexOf(t)},Qr.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},Qr.prototype.outputDefined=function(){return!1},Qr.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var ea=Qr,ta=function(e,t,n,i,r,a){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=r,this.otherwise=a};ta.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!==1)return t.error("Expected an even number of arguments.");var n,i;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var r={},a=[],o=2;o<e.length-1;o+=2){var s=e[o],u=e[o+1];Array.isArray(s)||(s=[s]);var l=t.concat(o);if(0===s.length)return l.error("Expected at least one branch label.");for(var h=0,c=s;h<c.length;h+=1){var f=c[h];if("number"!==typeof f&&"string"!==typeof f)return l.error("Branch labels must be numbers or strings.");if("number"===typeof f&&Math.abs(f)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"===typeof f&&Math.floor(f)!==f)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,ki(f)))return null}else n=ki(f);if("undefined"!==typeof r[String(f)])return l.error("Branch labels must be unique.");r[String(f)]=a.length}var d=t.parse(u,o,i);if(!d)return null;i=i||d.type,a.push(d)}var p=t.parse(e[1],1,ni);if(!p)return null;var v=t.parse(e[e.length-1],e.length-1,i);return v?"value"!==p.type.kind&&t.concat(1).checkSubtype(n,p.type)?null:new ta(n,i,p,r,a,v):null},ta.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(ki(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},ta.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},ta.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},ta.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],n=[],i={},r=0,a=Object.keys(this.cases).sort();r<a.length;r+=1){var o=a[r];void 0===(c=i[this.cases[o]])?(i[this.cases[o]]=n.length,n.push([this.cases[o],[o]])):n[c][1].push(o)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},u=0,l=n;u<l.length;u+=1){var h=l[u],c=h[0],f=h[1];1===f.length?t.push(s(f[0])):t.push(f.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var na=ta,ia=function(e,t,n){this.type=e,this.branches=t,this.otherwise=n};ia.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!==0)return t.error("Expected an odd number of arguments.");var n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var i=[],r=1;r<e.length-1;r+=2){var a=t.parse(e[r],r,Qn);if(!a)return null;var o=t.parse(e[r+1],r+1,n);if(!o)return null;i.push([a,o]),n=n||o.type}var s=t.parse(e[e.length-1],e.length-1,n);return s?new ia(n,i,s):null},ia.prototype.evaluate=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var i=n[t],r=i[0],a=i[1];if(r.evaluate(e))return a.evaluate(e)}return this.otherwise.evaluate(e)},ia.prototype.eachChild=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var i=n[t],r=i[0],a=i[1];e(r),e(a)}e(this.otherwise)},ia.prototype.outputDefined=function(){return this.branches.every((function(e){return e[0],e[1].outputDefined()}))&&this.otherwise.outputDefined()},ia.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var ra=ia,aa=function(e,t,n,i){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=i};aa.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,ni),i=t.parse(e[2],2,Jn);if(!n||!i)return null;if(!hi(n.type,[oi(ni),$n,ni]))return t.error("Expected first argument to be of type array or string, but found "+si(n.type)+" instead");if(4===e.length){var r=t.parse(e[3],3,Jn);return r?new aa(n.type,n,i,r):null}return new aa(n.type,n,i)},aa.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!ci(t,["string","array"]))throw new Si("Expected first argument to be of type array or string, but found "+si(ki(t))+" instead.");if(this.endIndex){var i=this.endIndex.evaluate(e);return t.slice(n,i)}return t.slice(n)},aa.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},aa.prototype.outputDefined=function(){return!1},aa.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var oa=aa;function sa(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function ua(e,t,n,i){return 0===i.compare(t,n)}function la(e,t,n){var i="=="!==e&&"!="!==e;return function(){function r(e,t,n){this.type=Qn,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return r.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],a=t.parse(e[1],1,ni);if(!a)return null;if(!sa(n,a.type))return t.concat(1).error('"'+n+"\" comparisons are not supported for type '"+si(a.type)+"'.");var o=t.parse(e[2],2,ni);if(!o)return null;if(!sa(n,o.type))return t.concat(2).error('"'+n+"\" comparisons are not supported for type '"+si(o.type)+"'.");if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '"+si(a.type)+"' and '"+si(o.type)+"'.");i&&("value"===a.type.kind&&"value"!==o.type.kind?a=new Ri(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new Ri(a.type,[o])));var s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,ii)))return null}return new r(a,o,s)},r.prototype.evaluate=function(r){var a=this.lhs.evaluate(r),o=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){var s=ki(a),u=ki(o);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new Si('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!i&&this.hasUntypedArgument){var l=ki(a),h=ki(o);if("string"!==l.kind||"string"!==h.kind)return t(r,a,o)}return this.collator?n(r,a,o,this.collator.evaluate(r)):t(r,a,o)},r.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},r.prototype.outputDefined=function(){return!0},r.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},r}()}var ha=la("==",(function(e,t,n){return t===n}),ua),ca=la("!=",(function(e,t,n){return t!==n}),(function(e,t,n,i){return!ua(0,t,n,i)})),fa=la("<",(function(e,t,n){return t<n}),(function(e,t,n,i){return i.compare(t,n)<0})),da=la(">",(function(e,t,n){return t>n}),(function(e,t,n,i){return i.compare(t,n)>0})),pa=la("<=",(function(e,t,n){return t<=n}),(function(e,t,n,i){return i.compare(t,n)<=0})),va=la(">=",(function(e,t,n){return t>=n}),(function(e,t,n,i){return i.compare(t,n)>=0})),ga=function(e,t,n,i,r,a){this.type=$n,this.number=e,this.locale=t,this.currency=n,this.unit=i,this.minFractionDigits=r,this.maxFractionDigits=a};ga.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,Jn);if(!n)return null;var i=e[2];if("object"!==typeof i||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");var r=null;if(i.locale&&!(r=t.parse(i.locale,1,$n)))return null;var a=null;if(i.currency&&!(a=t.parse(i.currency,1,$n)))return null;var o=null;if(i.unit&&!(o=t.parse(i.unit,1,$n)))return null;var s=null;if(i["min-fraction-digits"]&&!(s=t.parse(i["min-fraction-digits"],1,Jn)))return null;var u=null;return i["max-fraction-digits"]&&!(u=t.parse(i["max-fraction-digits"],1,Jn))?null:new ga(n,r,a,o,s,u)},ga.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},ga.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},ga.prototype.outputDefined=function(){return!1},ga.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var ya=ga,ma=function(e){this.type=Jn,this.input=e};ma.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error("Expected argument of type string or array, but found "+si(n.type)+" instead."):new ma(n):null},ma.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"===typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Si("Expected value to be of type string or array, but found "+si(ki(t))+" instead.")},ma.prototype.eachChild=function(e){e(this.input)},ma.prototype.outputDefined=function(){return!1},ma.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var _a={"==":ha,"!=":ca,">":da,"<":fa,">=":va,"<=":pa,array:Ri,at:Hr,boolean:Ri,case:ra,coalesce:Yr,collator:Wi,format:Pi,image:Oi,in:$r,"index-of":ea,interpolate:Xr,"interpolate-hcl":Xr,"interpolate-lab":Xr,length:ma,let:Br,literal:wi,match:na,number:Ri,"number-format":ya,object:Ri,slice:oa,step:_r,string:Ri,"to-boolean":Ai,"to-color":Ai,"to-number":Ai,"to-string":Ai,var:dr,within:ur};function xa(e,t){var n=t[0],i=t[1],r=t[2],a=t[3];n=n.evaluate(e),i=i.evaluate(e),r=r.evaluate(e);var o=a?a.evaluate(e):1,s=_i(n,i,r,o);if(s)throw new Si(s);return new Dn(n/255*o,i/255*o,r/255*o,o)}function ka(e,t){return e in t}function ba(e,t){var n=t[e];return"undefined"===typeof n?null:n}function Ca(e){return{type:e}}ji.register(_a,{error:[{kind:"error"},[$n],function(e,t){var n=t[0];throw new Si(n.evaluate(e))}],typeof:[$n,[ni],function(e,t){return si(ki(t[0].evaluate(e)))}],"to-rgba":[oi(Jn,4),[ei],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[ei,[Jn,Jn,Jn],xa],rgba:[ei,[Jn,Jn,Jn,Jn],xa],has:{type:Qn,overloads:[[[$n],function(e,t){return ka(t[0].evaluate(e),e.properties())}],[[$n,ti],function(e,t){var n=t[0],i=t[1];return ka(n.evaluate(e),i.evaluate(e))}]]},get:{type:ni,overloads:[[[$n],function(e,t){return ba(t[0].evaluate(e),e.properties())}],[[$n,ti],function(e,t){var n=t[0],i=t[1];return ba(n.evaluate(e),i.evaluate(e))}]]},"feature-state":[ni,[$n],function(e,t){return ba(t[0].evaluate(e),e.featureState||{})}],properties:[ti,[],function(e){return e.properties()}],"geometry-type":[$n,[],function(e){return e.geometryType()}],id:[ni,[],function(e){return e.id()}],zoom:[Jn,[],function(e){return e.globals.zoom}],pitch:[Jn,[],function(e){return e.globals.pitch||0}],"distance-from-center":[Jn,[],function(e){return e.distanceFromCenter()}],"heatmap-density":[Jn,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[Jn,[],function(e){return e.globals.lineProgress||0}],"sky-radial-progress":[Jn,[],function(e){return e.globals.skyRadialProgress||0}],accumulated:[ni,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[Jn,Ca(Jn),function(e,t){for(var n=0,i=0,r=t;i<r.length;i+=1){n+=r[i].evaluate(e)}return n}],"*":[Jn,Ca(Jn),function(e,t){for(var n=1,i=0,r=t;i<r.length;i+=1){n*=r[i].evaluate(e)}return n}],"-":{type:Jn,overloads:[[[Jn,Jn],function(e,t){var n=t[0],i=t[1];return n.evaluate(e)-i.evaluate(e)}],[[Jn],function(e,t){return-t[0].evaluate(e)}]]},"/":[Jn,[Jn,Jn],function(e,t){var n=t[0],i=t[1];return n.evaluate(e)/i.evaluate(e)}],"%":[Jn,[Jn,Jn],function(e,t){var n=t[0],i=t[1];return n.evaluate(e)%i.evaluate(e)}],ln2:[Jn,[],function(){return Math.LN2}],pi:[Jn,[],function(){return Math.PI}],e:[Jn,[],function(){return Math.E}],"^":[Jn,[Jn,Jn],function(e,t){var n=t[0],i=t[1];return Math.pow(n.evaluate(e),i.evaluate(e))}],sqrt:[Jn,[Jn],function(e,t){var n=t[0];return Math.sqrt(n.evaluate(e))}],log10:[Jn,[Jn],function(e,t){var n=t[0];return Math.log(n.evaluate(e))/Math.LN10}],ln:[Jn,[Jn],function(e,t){var n=t[0];return Math.log(n.evaluate(e))}],log2:[Jn,[Jn],function(e,t){var n=t[0];return Math.log(n.evaluate(e))/Math.LN2}],sin:[Jn,[Jn],function(e,t){var n=t[0];return Math.sin(n.evaluate(e))}],cos:[Jn,[Jn],function(e,t){var n=t[0];return Math.cos(n.evaluate(e))}],tan:[Jn,[Jn],function(e,t){var n=t[0];return Math.tan(n.evaluate(e))}],asin:[Jn,[Jn],function(e,t){var n=t[0];return Math.asin(n.evaluate(e))}],acos:[Jn,[Jn],function(e,t){var n=t[0];return Math.acos(n.evaluate(e))}],atan:[Jn,[Jn],function(e,t){var n=t[0];return Math.atan(n.evaluate(e))}],min:[Jn,Ca(Jn),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[Jn,Ca(Jn),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[Jn,[Jn],function(e,t){var n=t[0];return Math.abs(n.evaluate(e))}],round:[Jn,[Jn],function(e,t){var n=t[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[Jn,[Jn],function(e,t){var n=t[0];return Math.floor(n.evaluate(e))}],ceil:[Jn,[Jn],function(e,t){var n=t[0];return Math.ceil(n.evaluate(e))}],"filter-==":[Qn,[$n,ni],function(e,t){var n=t[0],i=t[1];return e.properties()[n.value]===i.value}],"filter-id-==":[Qn,[ni],function(e,t){var n=t[0];return e.id()===n.value}],"filter-type-==":[Qn,[$n],function(e,t){var n=t[0];return e.geometryType()===n.value}],"filter-<":[Qn,[$n,ni],function(e,t){var n=t[0],i=t[1],r=e.properties()[n.value],a=i.value;return typeof r===typeof a&&r<a}],"filter-id-<":[Qn,[ni],function(e,t){var n=t[0],i=e.id(),r=n.value;return typeof i===typeof r&&i<r}],"filter->":[Qn,[$n,ni],function(e,t){var n=t[0],i=t[1],r=e.properties()[n.value],a=i.value;return typeof r===typeof a&&r>a}],"filter-id->":[Qn,[ni],function(e,t){var n=t[0],i=e.id(),r=n.value;return typeof i===typeof r&&i>r}],"filter-<=":[Qn,[$n,ni],function(e,t){var n=t[0],i=t[1],r=e.properties()[n.value],a=i.value;return typeof r===typeof a&&r<=a}],"filter-id-<=":[Qn,[ni],function(e,t){var n=t[0],i=e.id(),r=n.value;return typeof i===typeof r&&i<=r}],"filter->=":[Qn,[$n,ni],function(e,t){var n=t[0],i=t[1],r=e.properties()[n.value],a=i.value;return typeof r===typeof a&&r>=a}],"filter-id->=":[Qn,[ni],function(e,t){var n=t[0],i=e.id(),r=n.value;return typeof i===typeof r&&i>=r}],"filter-has":[Qn,[ni],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Qn,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[Qn,[oi($n)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Qn,[oi(ni)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Qn,[$n,oi(ni)],function(e,t){var n=t[0];return t[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[Qn,[$n,oi(ni)],function(e,t){var n=t[0],i=t[1];return function(e,t,n,i){for(;n<=i;){var r=n+i>>1;if(t[r]===e)return!0;t[r]>e?i=r-1:n=r+1}return!1}(e.properties()[n.value],i.value,0,i.value.length-1)}],all:{type:Qn,overloads:[[[Qn,Qn],function(e,t){var n=t[0],i=t[1];return n.evaluate(e)&&i.evaluate(e)}],[Ca(Qn),function(e,t){for(var n=0,i=t;n<i.length;n+=1){if(!i[n].evaluate(e))return!1}return!0}]]},any:{type:Qn,overloads:[[[Qn,Qn],function(e,t){var n=t[0],i=t[1];return n.evaluate(e)||i.evaluate(e)}],[Ca(Qn),function(e,t){for(var n=0,i=t;n<i.length;n+=1){if(i[n].evaluate(e))return!0}return!1}]]},"!":[Qn,[Qn],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Qn,[$n],function(e,t){var n=t[0],i=e.globals&&e.globals.isSupportedScript;return!i||i(n.evaluate(e))}],upcase:[$n,[$n],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[$n,[$n],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[$n,Ca(ni),function(e,t){return t.map((function(t){return bi(t.evaluate(e))})).join("")}],"resolved-locale":[$n,[ii],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var wa=_a;function Ea(e){return{result:"success",value:e}}function Sa(e){return{result:"error",value:e}}function Za(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}var Ta=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Ni,this._defaultValue=t?function(e){return"color"===e.type&&(Za(e.default)||Array.isArray(e.default))?new Dn(0,0,0,0):"color"===e.type?Dn.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null};function Ra(e,t){var n=new vr(wa,[],t?function(e){var t={color:ei,string:$n,number:Jn,enum:$n,boolean:Qn,formatted:ri,resolvedImage:ai};if("array"===e.type)return oi(t[e.value]||ni,e.length);return t[e.type]}(t):void 0),i=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return i?Ea(new Ta(i,t)):Sa(n.errors)}Ta.prototype.evaluateWithoutErrorHandling=function(e,t,n,i,r,a,o,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)},Ta.prototype.evaluate=function(e,t,n,i,r,a,o,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null;try{var u=this.expression.evaluate(this._evaluator);if(null===u||void 0===u||"number"===typeof u&&u!==u)return this._defaultValue;if(this._enumValues&&!(u in this._enumValues))throw new Si("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(u)+" instead.");return u}catch(hs){return this._warningHistory[hs.message]||(this._warningHistory[hs.message]=!0,"undefined"!==typeof console&&console.warn(hs.message)),this._defaultValue}};var Ia=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!hr(t.expression)};Ia.prototype.evaluateWithoutErrorHandling=function(e,t,n,i,r,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,a)},Ia.prototype.evaluate=function(e,t,n,i,r,a){return this._styleExpression.evaluate(e,t,n,i,r,a)};var Pa=function(e,t,n,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!hr(t.expression),this.interpolationType=i};function Ma(e,t){if("error"===(e=Ra(e,t)).result)return e;var n=e.value.expression,i=lr(n);if(!i&&!function(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}(t))return Sa([new Un("","data expressions not supported")]);var r=cr(n,["zoom","pitch","distance-from-center"]);if(!r&&!function(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}(t))return Sa([new Un("","zoom expressions not supported")]);var a=Oa(n);if(!a&&!r)return Sa([new Un("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(a instanceof Un)return Sa([a]);if(a instanceof Xr&&!function(e){return!!e.expression&&e.expression.interpolated}(t))return Sa([new Un("",'"interpolate" expressions cannot be used with this property')]);if(!a)return Ea(new Ia(i?"constant":"source",e.value));var o=a instanceof Xr?a.interpolation:void 0;return Ea(new Pa(i?"camera":"composite",e.value,a.labels,o))}function Oa(e){var t=null;if(e instanceof Br)t=Oa(e.result);else if(e instanceof Yr)for(var n=0,i=e.args;n<i.length;n+=1){var r=i[n];if(t=Oa(r))break}else(e instanceof _r||e instanceof Xr)&&e.input instanceof ji&&"zoom"===e.input.name&&(t=e);return t instanceof Un||e.eachChild((function(e){var n=Oa(e);n instanceof Un?t=n:!t&&n?t=new Un("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new Un("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function Fa(e){if(Array.isArray(e))return e.map(Fa);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=Fa(e[n]);return t}return function(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}(e)}Pa.prototype.evaluateWithoutErrorHandling=function(e,t,n,i,r,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,a)},Pa.prototype.evaluate=function(e,t,n,i,r,a){return this._styleExpression.evaluate(e,t,n,i,r,a)},Pa.prototype.interpolationFactor=function(e,t,n){return this.interpolationType?Xr.interpolationFactor(this.interpolationType,e,t,n):0};var La={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function Aa(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!==typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,n=e.slice(1);t<n.length;t+=1){var i=n[t];if(!Aa(i)&&"boolean"!==typeof i)return!1}return!0;default:return!0}}function Da(e,t){if(void 0===t&&(t="fill"),null===e||void 0===e)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};Aa(e)||(e=Xa(e));var n=e,i=!0;try{i=function(e){if(!Ga(e))return e;var t=Fa(e);return Na(t),t=za(t)}(n)}catch(hs){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n"+JSON.stringify(n,null,2)+"\n        ")}var r=La["filter_"+t],a=Ra(i,r),o=null;if("error"===a.result)throw new Error(a.value.map((function(e){return e.key+": "+e.message})).join(", "));o=function(e,t,n){return a.value.evaluate(e,t,{},n)};var s=null,u=null;if(i!==n){var l=Ra(n,r);if("error"===l.result)throw new Error(l.value.map((function(e){return e.key+": "+e.message})).join(", "));s=function(e,t,n,i,r){return l.value.evaluate(e,t,{},n,void 0,void 0,i,r)},u=!lr(l.value.expression)}return{filter:o,dynamicFilter:s||void 0,needGeometry:Wa(i),needFeature:!!u}}function za(e){if(!Array.isArray(e))return e;var t=function(e){if(ja.has(e[0]))for(var t=1;t<e.length;t++){if(Ga(e[t]))return!0}return e}(e);return!0===t?t:t.map((function(e){return za(e)}))}function Na(e){var t=!1,n=[];if("case"===e[0]){for(var i=1;i<e.length-1;i+=2)t=t||Ga(e[i]),n.push(e[i+1]);n.push(e[e.length-1])}else if("match"===e[0]){t=t||Ga(e[1]);for(var r=2;r<e.length-1;r+=2)n.push(e[r+1]);n.push(e[e.length-1])}else if("step"===e[0]){t=t||Ga(e[1]);for(var a=1;a<e.length-1;a+=2)n.push(e[a+1])}t&&(e.length=0,e.push.apply(e,["any"].concat(n)));for(var o=1;o<e.length;o++)Na(e[o])}function Ga(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;for(var t,n=1;n<e.length;n++){if(Ga(e[n]))return!0}return!1}var ja=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function qa(e,t){return e<t?-1:e>t?1:0}function Wa(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var t=1;t<e.length;t++)if(Wa(e[t]))return!0;return!1}function Xa(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?Va(e[1],e[2],"=="):"!="===n?Ba(Va(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?Va(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(Xa))):"all"===n?["all"].concat(e.slice(1).map(Xa)):"none"===n?["all"].concat(e.slice(1).map(Xa).map(Ba)):"in"===n?Ya(e[1],e.slice(2)):"!in"===n?Ba(Ya(e[1],e.slice(2))):"has"===n?Ua(e[1]):"!has"===n?Ba(Ua(e[1])):"within"!==n||e}function Va(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function Ya(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!==typeof t[0]}))?["filter-in-large",e,["literal",t.sort(qa)]]:["filter-in-small",e,["literal",t]]}}function Ua(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Ba(e){return["!",e]}var Ka=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Ha(e,t){var n={};for(var i in e)"ref"!==i&&(n[i]=e[i]);return Ka.forEach((function(e){e in t&&(n[e]=t[e])})),n}var Ja={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},$a=" ",Qa=/(italic|oblique)$/i,eo={},to=function(e,t,n){var i=eo[e];if(!i){Array.isArray(e)||(e=[e]);for(var r=400,a="normal",o=[],s=0,u=e.length;s<u;++s){var l=e[s].split(" "),h=l[l.length-1].toLowerCase();for(var c in"normal"==h||"italic"==h||"oblique"==h?(a=h,l.pop(),h=l[l.length-1].toLowerCase()):Qa.test(h)&&(h=h.replace(Qa,""),a=l[l.length-1].replace(h,"")),Ja){var f=l.length>1?l[l.length-2].toLowerCase():"";if(h==c||h==c.replace("-","")||f+"-"+h==c){r=Ja[c],l.pop(),f&&c.startsWith(f)&&l.pop();break}}"number"==typeof h&&(r=h);var d=l.join($a).replace("Klokantech Noto Sans","Noto Sans");-1!==d.indexOf($a)&&(d='"'+d+'"'),o.push(d)}i=eo[e]=[a,r,o]}return i[0]+$a+i[1]+$a+t+"px"+(n?"/"+n:"")+$a+i[2]},no="https://api.mapbox.com";function io(e){var t="mapbox://";return 0!==e.indexOf(t)?"":e.slice(t.length)}function ro(e,t){var n=io(e);if(!n)return decodeURI(new URL(e,location.href).href);var i="styles/";if(0!==n.indexOf(i))throw new Error("unexpected style url: "+e);var r=n.slice(i.length);return no+"/styles/v1/"+r+"?&access_token="+t}function ao(e,t,n,i){var r=new URL(e,i),a=io(e);return a?"mapbox.satellite"===a?"https://api.mapbox.com/v4/"+a+"/{z}/{x}/{y}"+(window.devicePixelRatio>=1.5?"@2x":"")+".webp?access_token="+t:"https://{a-d}.tiles.mapbox.com/v4/"+a+"/{z}/{x}/{y}.vector.pbf?access_token="+t:t?(r.searchParams.set(n,t),decodeURI(r.href)):decodeURI(r.href)}function oo(e){return e*Math.PI/180}var so=function(){for(var e=[],t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function uo(e,t){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(e,t);var n=document.createElement("canvas");return n.width=e,n.height=t,n}function lo(e,t){for(var n=0,i=t.length;n<i;++n){if(t[n]<e&&n+1<i){var r=t[n]/t[n+1];return n+Math.log(t[n]/e)/Math.log(r)}}return i-1}var ho={};function co(e,t,n,i){if(void 0===n&&(n={}),t in ho)return i&&(i.request=ho[t][0]),ho[t][1];var r=n.transformRequest&&n.transformRequest(t,e)||new Request(t);r.headers.get("Accept")||r.headers.set("Accept","application/json"),i&&(i.request=r);var a=fetch(r).then((function(e){return delete ho[t],e.ok?e.json():Promise.reject(new Error("Error fetching source "+t))})).catch((function(e){return delete ho[t],Promise.reject(new Error("Error fetching source "+t))}));return ho[t]=[r,a],a}function fo(e,t){if("string"!==typeof e)return Promise.resolve(e);if(!e.trim().startsWith("{"))return co("Style",e=ro(e,t.accessToken),t);try{var n=JSON.parse(e);return Promise.resolve(n)}catch(Sa){return Promise.reject(Sa)}}function po(e,t){if(t.transformRequest){var n=t.transformRequest(e,"Tiles");if(n instanceof Request)return decodeURI(n.url)}return e}var vo={};function go(e,t,n){void 0===n&&(n={});var i=[t,JSON.stringify(e)].toString(),r=vo[i];if(!r||n.transformRequest){var a=e.url;if(a&&!e.tiles){var o=ao(a,n.accessToken,n.accessTokenParam||"access_token",t||location.href);if(a.startsWith("mapbox://"))r=Promise.resolve(Object.assign({},e,{url:void 0,tiles:O(o)}));else{var s={};r=co("Source",o,n,s).then((function(e){return e.tiles=e.tiles.map((function(e){return po(ao(e,n.accessToken,n.accessTokenParam||"access_token",s.request.url),n)})),Promise.resolve(e)}))}}else e=Object.assign({},e,{tiles:e.tiles.map((function(e){return po(ao(e,n.accessToken,n.accessTokenParam||"access_token",t||location.href),n)}))}),r=Promise.resolve(Object.assign({},e));vo[i]=r}return r}var yo,mo=Array(256).join("\u200a");function _o(e,t){if(t>=.05){for(var n="",i=e.split("\n"),r=mo.slice(0,Math.round(t/.1)),a=0,o=i.length;a<o;++a)a>0&&(n+="\n"),n+=i[a].split("").join(r);return n}return e}function xo(){return yo||(yo=uo(1,1).getContext("2d")),yo}function ko(e,t){return xo().measureText(e).width+(e.length-1)*t}var bo={};function Co(e,t,n,i){if(-1!==e.indexOf("\n")){for(var r=e.split("\n"),a=[],o=0,s=r.length;o<s;++o)a.push(Co(r[o],t,n,i));return a.join("\n")}var u=n+","+t+","+e+","+i,l=bo[u];if(!l){var h=e.split(" ");if(h.length>1){var c=xo();c.font=t;for(var f=c.measureText("M").width*n,d="",p=[],v=0,g=h.length;v<g;++v){var y=h[v],m=d+(d?" ":"")+y;ko(m,i)<=f?d=m:(d&&p.push(d),d=y)}d&&p.push(d);for(var _=0,x=p.length;_<x&&x>1;++_){var k=p[_];if(ko(k,i)<.35*f){var b=_>0?ko(p[_-1],i):1/0,C=_<x-1?ko(p[_+1],i):1/0;p.splice(_,1),x-=1,b<C?(p[_-1]+=" "+k,_-=1):p[_]=k+" "+p[_]}}for(var w=0,E=p.length-1;w<E;++w){var S=p[w],Z=p[w+1];if(ko(S,i)>.7*f&&ko(Z,i)<.6*f){var T=S.split(" "),R=T.pop();ko(R,i)<.2*f&&(p[w]=T.join(" "),p[w+1]=R+" "+Z),E-=1}}l=p.join("\n")}else l=e;l=_o(l,i),bo[u]=l}return l}var wo,Eo=/font-family: ?([^;]*);/,So=/("|')/g;function Zo(e){if(!wo){wo={};for(var t=document.styleSheets,n=0,i=t.length;n<i;++n){var r=t[n];try{var a=r.rules||r.cssRules;if(a)for(var o=0,s=a.length;o<s;++o){var u=a[o];if(5==u.type){var l=u.cssText.match(Eo);wo[l[1].replace(So,"")]=!0}}}catch(hs){}}}return e in wo}var To={};function Ro(e){var t=e.toString();if(t in To)return To[t];for(var n=[],i=0,r=e.length;i<r;++i){e[i]=e[i].replace("Arial Unicode MS","Arial");var a=e[i],o=to(a,1);(0,w.Qx)(o);var s=o.split(" ");n.push([s.slice(3).join(" ").replace(/"/g,""),s[1],s[0]])}for(var u=0,l=n.length;u<l;++u){var h=n[u],c=h[0];if(!Zo(c)&&100!==w.sG.get(h[2]+"\n"+h[1]+" \n"+c)){var f="https://fonts.googleapis.com/css?family="+c.replace(/ /g,"+")+":"+h[1]+h[2];if(!document.querySelector('link[href="'+f+'"]')){var d=document.createElement("link");d.href=f,d.rel="stylesheet",document.head.appendChild(d)}}}return To[t]=e,e}var Io,Po,Mo={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},Oo={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},Fo=function(e,t){var n=Ma(e,t);if("error"===n.result)throw new Error(n.value.map((function(e){return e.key+": "+e.message})).join(", "));return n.value},Lo={},Ao={zoom:0};function Do(e,t,n,i,r,a,o){var s=e.id;a||(a={},console.warn("No functionCache provided to getValue()")),a[s]||(a[s]={});var u,l=a[s];if(!l[n]){var h=(e[t]||Lo)[n],c=La[t+"_"+e.type][n];void 0===h&&(h=c.default);var f=(u=h,Array.isArray(u)&&u.length>0&&"string"===typeof u[0]&&u[0]in wa);if(!f&&Za(h)&&(h=Nn(h,c),f=!0),f){var d=Fo(h,c);l[n]=d.evaluate.bind(d)}else"color"==c.type&&(h=Dn.parse(h)),l[n]=function(){return h}}return Ao.zoom=i,l[n](Ao,r,o)}function zo(e,t,n,i){return Do(e,"layout","icon-allow-overlap",t,n,i)?Do(e,"layout","icon-ignore-placement",t,n,i)?"none":"obstacle":"declutter"}function No(e,t,n,i,r){return r||console.warn("No filterCache provided to evaluateFilter()"),e in r||(r[e]=Da(t).filter),Ao.zoom=i,r[e](Ao,n)}var Go=!1;function jo(e,t){if(e){if(!Go&&(0===e.a||0===t))return;var n=e.a;return t=void 0===t?1:t,0===n?"transparent":"rgba("+Math.round(255*e.r/n)+","+Math.round(255*e.g/n)+","+Math.round(255*e.b/n)+","+n*t+")"}return e}var qo=/\{[^{}}]*\}/g;function Wo(e,t){return e.replace(qo,(function(e){return t[e.slice(1,-1)]||""}))}var Xo=!1;function Vo(e,t,n,o,s,u,l,h){if(void 0===o&&(o=so),void 0===s&&(s=void 0),void 0===u&&(u=void 0),void 0===l&&(l=void 0),void 0===h&&(h=void 0),"string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");var c,f;if(u)if("undefined"!==typeof Image){var d=new Image;d.crossOrigin="anonymous",d.onload=function(){c=d,f=[d.width,d.height],e.changed(),d.onload=null},d.src=u}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var p=self;p.postMessage({action:"loadImage",src:u}),p.addEventListener("message",(function(e){"imageLoaded"===e.data.action&&e.data.src===u&&(c=e.data.image,f=[c.width,c.height])}))}for(var v,g=function(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var i=0;i<e.length;i++)"ref"in e[i]&&(e[i]=Ha(e[i],t[e[i].ref]));return e}(t.layers),y={},m=[],_={},w={},E={},S={},Z=0,T=g.length;Z<T;++Z){var R=g[Z],I=R.id;if("string"==typeof n&&R.source==n||-1!==n.indexOf(I)){var P=R["source-layer"];if(v){if(R.source!==v)throw new Error('Layer "'+I+'" does not use source "'+v)}else{v=R.source;var M=t.sources[v];if(!M)throw new Error('Source "'+v+'" is not defined');var O=M.type;if("vector"!==O&&"geojson"!==O)throw new Error('Source "'+v+'" is not of type "vector" or "geojson", but "'+O+'"')}var F=y[P];F||(F=[],y[P]=F),F.push({layer:R,index:Z}),m.push(I)}}var L=new k.Z,A=new r.Z,D=[],z=function(t,n){var u=t.getProperties(),d=y[u.layer];if(d){var p=o.indexOf(n);-1==p&&(p=lo(n,o));for(var v,g=Mo[t.getGeometry().getType()],m={properties:u,type:g},Z=e.get("mapbox-featurestate")[t.getId()],T=-1,R=0,I=d.length;R<I;++R){var P=d[R],M=P.layer,O=M.id,F=M.layout||Lo,z=M.paint||Lo;if(!("none"===F.visibility||"minzoom"in M&&p<M.minzoom||"maxzoom"in M&&p>=M.maxzoom)){var N=M.filter;if(!N||No(O,N,m,p,S)){v=M;var G=void 0,j=void 0,q=void 0,W=void 0,X=void 0,V=void 0,Y=P.index;if(3==g&&("fill"==M.type||"fill-extrusion"==M.type))if(j=Do(M,"paint",M.type+"-opacity",p,m,E,Z),M.type+"-pattern"in z){var U=Do(M,"paint",M.type+"-pattern",p,m,E,Z);if(U){var B="string"===typeof U?Wo(U,u):U.toString();if(c&&s&&s[B]){++T,(V=D[T])&&V.getFill()&&!V.getStroke()&&!V.getText()||(V=new b.ZP({fill:new r.Z}),D[T]=V),q=V.getFill(),V.setZIndex(Y);var K=B+"."+j,H=w[K];if(!H){var J=s[B],$=uo(J.width,J.height),Q=$.getContext("2d");Q.globalAlpha=j,Q.drawImage(c,J.x,J.y,J.width,J.height,0,0,J.width,J.height),H=Q.createPattern($,"repeat"),w[K]=H}q.setColor(H)}}}else G=jo(Do(M,"paint",M.type+"-color",p,m,E,Z),j),M.type+"-outline-color"in z&&(X=jo(Do(M,"paint",M.type+"-outline-color",p,m,E,Z),j)),X||(X=G),(G||X)&&(++T,(!(V=D[T])||G&&!V.getFill()||!G&&V.getFill()||X&&!V.getStroke()||!X&&V.getStroke()||V.getText())&&(V=new b.ZP({fill:G?new r.Z:void 0,stroke:X?new k.Z:void 0}),D[T]=V),G&&(q=V.getFill()).setColor(G),X&&((W=V.getStroke()).setColor(X),W.setWidth(.5)),V.setZIndex(Y));if(1!=g&&"line"==M.type){G=!("line-pattern"in z)&&"line-color"in z?jo(Do(M,"paint","line-color",p,m,E,Z),Do(M,"paint","line-opacity",p,m,E,Z)):void 0;var ee=Do(M,"paint","line-width",p,m,E,Z);G&&ee>0&&(++T,(V=D[T])&&V.getStroke()&&!V.getFill()&&!V.getText()||(V=new b.ZP({stroke:new k.Z}),D[T]=V),(W=V.getStroke()).setLineCap(Do(M,"layout","line-cap",p,m,E,Z)),W.setLineJoin(Do(M,"layout","line-join",p,m,E,Z)),W.setMiterLimit(Do(M,"layout","line-miter-limit",p,m,E,Z)),W.setColor(G),W.setWidth(ee),W.setLineDash(z["line-dasharray"]?Do(M,"paint","line-dasharray",p,m,E,Z).map((function(e){return e*ee})):null),V.setZIndex(Y))}var te=!1,ne=null,ie=0,re=void 0,ae=void 0,oe=void 0;if((1==g||2==g)&&"icon-image"in F){var se=Do(M,"layout","icon-image",p,m,E,Z);if(se){re="string"===typeof se?Wo(se,u):se.toString();var ue=void 0,le=h?h(e,re):void 0;if(c&&s&&s[re]||le){var he=Do(M,"layout","icon-rotation-alignment",p,m,E,Z);if(2==g){var ce=t.getGeometry();if(ce.getFlatMidpoint||ce.getFlatMidpoints){var fe=ce.getExtent();if(Math.sqrt(Math.max(Math.pow((fe[2]-fe[0])/n,2),Math.pow((fe[3]-fe[1])/n,2)))>150){var de="MultiLineString"===ce.getType()?ce.getFlatMidpoints():ce.getFlatMidpoint();if(Po||(Po=new x("Point",Io=[NaN,NaN],[],{},null)),ue=Po,Io[0]=de[0],Io[1]=de[1],"line"===Do(M,"layout","symbol-placement",p,m,E,Z)&&"map"===he)for(var pe=ce.getStride(),ve=ce.getFlatCoordinates(),ge=0,ye=ve.length-pe;ge<ye;ge+=pe){var me=ve[ge],_e=ve[ge+1],xe=ve[ge+pe],ke=ve[ge+pe+1],be=Math.min(me,xe),Ce=Math.min(_e,ke),we=Math.max(me,xe),Ee=Math.max(_e,ke);if(de[0]>=be&&de[0]<=we&&de[1]>=Ce&&de[1]<=Ee){ie=Math.atan2(_e-ke,xe-me);break}}}}}if(2!==g||ue){var Se=Do(M,"layout","icon-size",p,m,E,Z),Ze=void 0!==z["icon-color"]?Do(M,"paint","icon-color",p,m,E,Z):null;if(!Ze||0!==Ze.a){var Te=Do(M,"paint","icon-halo-color",p,m,E,Z),Re=Do(M,"paint","icon-halo-width",p,m,E,Z),Ie=re+"."+Se+"."+Re+"."+Te;if(null!==Ze&&(Ie+="."+Ze),!(ae=_[Ie])){var Pe=zo(M,p,m,E),Me=void 0;"icon-offset"in F&&((Me=Do(M,"layout","icon-offset",p,m,E,Z))[1]*=-1);var Oe=Ze?[255*Ze.r,255*Ze.g,255*Ze.b,Ze.a]:void 0;if(le){var Fe={color:Oe,rotateWithView:"map"===he,displacement:Me,declutterMode:Pe};"string"===typeof le?Fe.src=le:(Fe.img=le,Fe.imgSize=[le.width,le.height]),ae=new a.Z(Fe)}else{var Le=s[re],Ae=void 0,De=void 0,ze=void 0,Ne=void 0;if(Re){var Ge=document.createElement("canvas");De=[2*Re*Le.pixelRatio+Le.width,2*Re*Le.pixelRatio+Le.height],Ge.width=De[0],Ge.height=De[1];var je=Ge.getContext("2d");je.shadowBlur=Re*Le.pixelRatio,je.shadowColor="rgba("+255*Te.r+","+255*Te.g+","+255*Te.b+","+Te.a+")",je.drawImage(c,Le.x,Le.y,Le.width,Le.height,Re*Le.pixelRatio,Re*Le.pixelRatio,Le.width,Le.height),Ae=Ge}else Ae=c,De=f,ze=[Le.width,Le.height],Ne=[Le.x,Le.y];ae=new a.Z({color:Oe,img:Ae,imgSize:De,size:ze,offset:Ne,rotateWithView:"map"===he,scale:Se/Le.pixelRatio,displacement:Me,declutterMode:Pe})}_[Ie]=ae}}ae&&(++T,(V=D[T])&&V.getImage()&&!V.getFill()&&!V.getStroke()||(V=new b.ZP,D[T]=V),V.setGeometry(ue),ae.setRotation(ie+oo(Do(M,"layout","icon-rotate",p,m,E,Z))),ae.setOpacity(Do(M,"paint","icon-opacity",p,m,E,Z)),ae.setAnchor(Oo[Do(M,"layout","icon-anchor",p,m,E,Z)]),V.setImage(ae),ne=V.getText(),V.setText(void 0),V.setZIndex(Y),te=!0,oe=!1)}else oe=!0}}}if(1==g&&"circle"===M.type){++T,(V=D[T])&&V.getImage()&&!V.getFill()&&!V.getStroke()||(V=new b.ZP,D[T]=V);var qe="circle-radius"in z?Do(M,"paint","circle-radius",p,m,E,Z):5,We=jo(Do(M,"paint","circle-stroke-color",p,m,E,Z),Do(M,"paint","circle-stroke-opacity",p,m,E,Z)),Xe=jo(Do(M,"paint","circle-color",p,m,E,Z),Do(M,"paint","circle-opacity",p,m,E,Z)),Ve=Do(M,"paint","circle-stroke-width",p,m,E,Z),Ye=qe+"."+We+"."+Xe+"."+Ve;(ae=_[Ye])||(ae=new i.Z({radius:qe,stroke:We&&Ve>0?new k.Z({width:Ve,color:We}):void 0,fill:Xe?new r.Z({color:Xe}):void 0,declutterMode:"none"}),_[Ye]=ae),V.setImage(ae),ne=V.getText(),V.setText(void 0),V.setGeometry(void 0),V.setZIndex(Y),te=!0}var Ue=void 0,Be=void 0,Ke=void 0,He=void 0,Je=void 0,$e=void 0;if("text-field"in F){He=Math.round(Do(M,"layout","text-size",p,m,E,Z));var Qe=Do(M,"layout","text-font",p,m,E,Z);Ke=Do(M,"layout","text-line-height",p,m,E,Z),(Be=to(l?l(Qe):Qe,He,Ke)).includes("sans-serif")||(Be+=",sans-serif"),Je=Do(M,"layout","text-letter-spacing",p,m,E,Z),$e=Do(M,"layout","text-max-width",p,m,E,Z);var et=Do(M,"layout","text-field",p,m,E,Z);Ue="object"===typeof et&&et.sections?1===et.sections.length?et.toString():et.sections.reduce((function(e,t,n){var i=t.fontStack?t.fontStack.split(","):Qe,r=to(l?l(i):i,He*(t.scale||1),Ke),a=t.text;if("\n"===a)return e.push("\n",""),e;if(2!=g){for(var o=0,s=(a=Co(a,r,$e,Je).split("\n")).length;o<s;++o)o>0&&e.push("\n",""),e.push(a[o],r);return e}e.push(_o(a,Je),r)}),[]):Wo(et,u).trim(),j=Do(M,"paint","text-opacity",p,m,E,Z)}if(Ue&&j&&!oe){te||(++T,(V=D[T])&&V.getText()&&!V.getFill()&&!V.getStroke()||(V=new b.ZP,D[T]=V),V.setImage(void 0),V.setGeometry(void 0)),V.getText()||V.setText(ne||new C.Z({padding:[2,2,2,2]})),ne=V.getText();var tt=F["text-transform"];"uppercase"==tt?Ue=Array.isArray(Ue)?Ue.map((function(e,t){return t%2?e:e.toUpperCase()})):Ue.toUpperCase():"lowercase"==tt&&(Ue=Array.isArray(Ue)?Ue.map((function(e,t){return t%2?e:e.toLowerCase()})):Ue.toLowerCase());var nt=Array.isArray(Ue)?Ue:2==g?_o(Ue,Je):Co(Ue,Be,$e,Je);ne.setText(nt),ne.setFont(Be),ne.setRotation(oo(Do(M,"layout","text-rotate",p,m,E,Z)));var it=Do(M,"layout","text-anchor",p,m,E,Z),rt=te||1==g?"point":Do(M,"layout","symbol-placement",p,m,E,Z);if(ne.setPlacement(rt),"function"===typeof ne.setRepeat){var at=Do(M,"layout","symbol-spacing",p,m,E,Z);ne.setRepeat(2*at)}ne.setOverflow("point"===rt);var ot=Do(M,"paint","text-halo-width",p,m,E,Z),st=Do(M,"layout","text-offset",p,m,E,Z),ut=Do(M,"paint","text-translate",p,m,E,Z),lt=0,ht=0;if("point"==rt){var ct="center";-1!==it.indexOf("left")?(ct="left",ht=ot):-1!==it.indexOf("right")&&(ct="right",ht=-ot),ne.setTextAlign(ct);var ft=Do(M,"layout","text-rotation-alignment",p,m,E,Z);ne.setRotateWithView("map"==ft)}else ne.setMaxAngle(oo(Do(M,"layout","text-max-angle",p,m,E,Z))*Ue.length/nt.length),ne.setTextAlign(),ne.setRotateWithView(!1);var dt="middle";0==it.indexOf("bottom")?(dt="bottom",lt=-ot-.5*(Ke-1)*He):0==it.indexOf("top")&&(dt="top",lt=ot+.5*(Ke-1)*He),ne.setTextBaseline(dt);var pt=Do(M,"layout","text-justify",p,m,E,Z);ne.setJustify("auto"===pt?void 0:pt),ne.setOffsetX(st[0]*He+ht+ut[0]),ne.setOffsetY(st[1]*He+lt+ut[1]),A.setColor(jo(Do(M,"paint","text-color",p,m,E,Z),j)),ne.setFill(A);var vt=jo(Do(M,"paint","text-halo-color",p,m,E,Z),j);if(vt){L.setColor(vt),ot*=2;var gt=.5*He;L.setWidth(ot<=gt?ot:gt),ne.setStroke(L)}else ne.setStroke(void 0);var yt=Do(M,"layout","text-padding",p,m,E,Z),mt=ne.getPadding();yt!==mt[0]&&(mt[0]=yt,mt[1]=yt,mt[2]=yt,mt[3]=yt),V.setZIndex(Y)}}}}return T>-1?(D.length=T+1,Xo&&("function"===typeof t.set?t.set("mapbox-layer",v):t.getProperties()["mapbox-layer"]=v),D):void 0}};return e.setStyle(z),e.set("mapbox-source",v),e.set("mapbox-layers",m),e.set("mapbox-featurestate",{}),z}function Yo(e,t){var n,i,r,a,o,s,u,l,h,c,f,d,p,v,g,y,m,_,x,k,b=e[0],C=b.width,w=b.height,E=b.data,S=new Uint8ClampedArray(E.length),Z=2*t.resolution,T=C-1,R=w-1,I=[0,0,0,0],P=2*Math.PI,M=Math.PI/2,O=Math.PI*t.sunEl/180,F=Math.PI*t.sunAz/180,L=Math.cos(O),A=Math.sin(O),D=t.highlightColor,z=t.shadowColor,N=t.accentColor;function G(e){return.1*(256*e[0]*256+256*e[1]+e[2])-1e4}for(i=0;i<=R;++i)for(a=0===i?0:i-1,o=i===R?R:i+1,n=0;n<=T;++n)r=n===T?T:n+1,s=4*(i*C+(0===n?0:n-1)),I[0]=E[s],I[1]=E[s+1],I[2]=E[s+2],I[3]=E[s+3],u=t.vert*G(I),s=4*(i*C+r),I[0]=E[s],I[1]=E[s+1],I[2]=E[s+2],I[3]=E[s+3],l=(t.vert*G(I)-u)/Z,s=4*(a*C+n),I[0]=E[s],I[1]=E[s+1],I[2]=E[s+2],I[3]=E[s+3],u=t.vert*G(I),s=4*(o*C+n),I[0]=E[s],I[1]=E[s+1],I[2]=E[s+2],I[3]=E[s+3],h=(t.vert*G(I)-u)/Z,f=(f=Math.atan2(h,-l))<0?M-f:f>M?P-f+M:M-f,c=Math.atan(Math.sqrt(l*l+h*h)),k=A*Math.cos(c)+L*Math.sin(c)*Math.cos(F-f),d=Math.cos(c),p=255*k,m=Math.min(Math.max(2*t.sunEl,0),1),_=1.875-1.75*t.opacity,x=.5!==t.opacity?M*((Math.pow(_,c)-1)/(Math.pow(_,M)-1)):c,g={r:(1-d)*N.r*m*255,g:(1-d)*N.g*m*255,b:(1-d)*N.b*m*255,a:(1-d)*N.a*m*255},v=Math.abs(((f+F)/Math.PI+.5)%2-1),y={r:(D.r*(1-v)+z.r*v)*p,g:(D.g*(1-v)+z.g*v)*p,b:(D.b*(1-v)+z.b*v)*p,a:(D.a*(1-v)+z.a*v)*p},S[s=4*(i*C+n)]=g.r*(1-v)+y.r,S[s+1]=g.g*(1-v)+y.g,S[s+2]=g.b*(1-v)+y.b,S[s+3]=E[s+3]*t.opacity*m*Math.sin(x);return new ImageData(S,C,w)}function Uo(e,t){return void 0===t&&(t=512),e.getExtent()?It({extent:e.getExtent(),tileSize:t,maxZoom:22}).getResolutions():so}function Bo(e,t){t.accessToken||(t=Object.assign({},t),new URL(e).searchParams.forEach((function(e,n){t.accessToken=e,t.accessTokenParam=n})));return t}function Ko(e,t,n,i,r){var a,o,s,u;void 0===n&&(n=""),void 0===i&&(i={}),void 0===r&&(r=void 0);var l=!0;return"string"===typeof n||Array.isArray(n)?u=n:(u=(s=n).source||s.layers,i=s),"string"===typeof i?(a=i,s={}):(a=i.styleUrl,s=i),!1===s.updateSource&&(l=!1),r||(r=s.resolutions),a||"string"!==typeof t||t.trim().startsWith("{")||(a=t),a&&(a=a.startsWith("data:")?location.href:ro(a,s.accessToken),s=Bo(a,s)),new Promise((function(n,i){fo(t,s).then((function(t){if(8!=t.version)return i(new Error("glStyle version 8 required."));if(!(e instanceof an.Z||e instanceof yn))return i(new Error("Can only apply to VectorLayer or VectorTileLayer"));var h,c,d,p=e instanceof yn?"vector":"geojson";if(u?o=Array.isArray(u)?t.layers.find((function(e){return e.id===u[0]})).source:u:(o=Object.keys(t.sources).find((function(e){return t.sources[e].type===p})),u=o),!o)return i(new Error("No "+p+" source found in the glStyle."));function v(){if(!l)return Promise.resolve();if(e instanceof yn)return es(t.sources[o],a,s).then((function(t){var n=e.getSource();if(n?t!==n&&(n.setTileUrlFunction(t.getTileUrlFunction()),n.format_||(n.format_=t.format_),n.getAttributions()||n.setAttributions(t.getAttributions()),n.getTileLoadFunction()===Sn&&n.setTileLoadFunction(t.getTileLoadFunction()),(0,f.OP)(n.getProjection(),t.getProjection())&&(n.tileGrid=t.getTileGrid())):e.setSource(t),!isFinite(e.getMaxResolution())&&!isFinite(e.getMinZoom())){var i=e.getSource().getTileGrid();e.setMaxResolution(i.getResolution(i.getMinZoom()))}}));var n=t.sources[o],i=e.getSource();i&&i.get("mapbox-source")===n||(i=rs(n,a,s));var r=e.getSource();return r?i!==r&&(r.getAttributions()||r.setAttributions(i.getAttributions()),r.format_||(r.format_=i.getFormat()),r.url_=i.getUrl()):e.setSource(i),Promise.resolve()}function g(){if(d||t.sprite&&!h)d?(e.setStyle(d),v().then(n).catch(i)):i(new Error("Something went wrong trying to apply style."));else{if(s.projection&&!r){var a=(0,f.U2)(s.projection).getUnits();"m"!==a&&(r=so.map((function(e){return e/f.Wm[a]})))}d=Vo(e,t,u,r,h,c,Ro,s.getImage),e.getStyle()?v().then(n).catch(i):i(new Error("Nothing to show for source ["+o+"]"))}}if(t.sprite){var y=new URL(function(e,t,n){var i=io(e);if(!i)return decodeURI(new URL(e,n).href);var r="sprites/";if(0!==i.indexOf(r))throw new Error("unexpected sprites url: "+e);var a=i.slice(r.length);return no+"/styles/v1/"+a+"/sprite?access_token="+t}(t.sprite,s.accessToken,a||location.href)),m=.5==(window.devicePixelRatio>=1.5?.5:1)?"@2x":"",_=y.origin+y.pathname+m+".json"+y.search;new Promise((function(e,t){co("Sprite",_,s).then(e).catch((function(n){co("Sprite",_=y.origin+y.pathname+".json"+y.search,s).then(e).catch(t)}))})).then((function(e){if(void 0===e&&i(new Error("No sprites found.")),h=e,c=y.origin+y.pathname+m+".png"+y.search,s.transformRequest){var t=s.transformRequest(c,"SpriteImage");t instanceof Request&&(c=encodeURI(t.url))}g()})).catch((function(e){i(new Error("Sprites cannot be loaded: "+_+": "+e.message))}))}else g()})).catch(i)}))}var Ho={};function Jo(e,t,n){var i=new rn({tileJSON:t,tileSize:e.tileSize||t.tileSize||512}),r=i.getTileJSON(),a=i.getTileGrid(),o=(0,f.U2)(n.projection||"EPSG:3857"),s=function(e,t){var n=e.bounds;if(n){var i=(0,f.mi)([n[0],n[1]],t),r=(0,f.mi)([n[2],n[3]],t);return[i[0],i[1],r[0],r[1]]}return(0,f.U2)(t).getExtent()}(r,o),u=o.getExtent(),h=r.minzoom||0,c=r.maxzoom||22,d={attributions:i.getAttributions(),projection:o,tileGrid:new Tt({origin:u?(0,l.rL)(u):a.getOrigin(0),extent:s||a.getExtent(),minZoom:h,resolutions:Uo(o,t.tileSize).slice(0,c+1),tileSize:a.getTileSize(0)})};return Array.isArray(r.tiles)?d.urls=r.tiles:d.url=r.tiles,d}function $o(e,t,n,i){var r={id:e.id,type:e.type},a=e.layout||{},o=e.paint||{};r.paint=o;var s,u,l=lo(t,n.resolutions||so);return void 0!==o["background-color"]&&(s=Do(r,"paint","background-color",l,Ho,i)),void 0!==o["background-opacity"]&&(u=Do(r,"paint","background-opacity",l,Ho,i)),"none"==a.visibility?void 0:jo(s,u)}function Qo(e,t,n){var i=document.createElement("div");return i.className="ol-mapbox-style-background",i.style.position="absolute",i.style.width="100%",i.style.height="100%",new ye.Z({source:new Je.Z({}),render:function(r){var a=$o(e,r.viewState.resolution,t,n);return i.style.backgroundColor=a,i}})}function es(e,t,n){return new Promise((function(i,r){go(e,t,n).then((function(t){var r=Jo(e,t,n);r.format=new Me,Array.isArray(t.tiles)?r.urls=t.tiles:r.url=t.tiles,i(new En(r))})).catch(r)}))}function ts(e){return"{bbox-"+(e?e.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")+"}"}function ns(e,t,n){var i=new kt;return go(e,t,n).then((function(t){var r=new rn({interpolate:void 0===n.interpolate||n.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:t});r.tileGrid=Jo(e,t,n).tileGrid,n.projection&&(r.projection=(0,f.U2)(n.projection));var a=r.getTileUrlFunction();r.setTileUrlFunction((function(e,t,n){var i=ts(n),o=a(e,t,n);if(-1!=o.indexOf(i)){var s=r.getTileGrid().getTileCoordExtent(e);o=o.replace(i,s.toString())}return o})),r.set("mapbox-source",e),i.setSource(r)})).catch((function(e){i.setSource(void 0)})),i}var is=new ge;function rs(e,t,n){var i=e.data,r={};if("string"==typeof i){var a=ao(i,n.accessToken,n.accessTokenParam||"access_token",t||location.href);if(n.transformRequest){var o=n.transformRequest(a,"GeoJSON");o instanceof Request&&(a=decodeURI(o.url))}if(/\{bbox-[0-9a-z-]+\}/.test(a)){var s=new on.Z({attributions:e.attribution,format:is,url:function(e,t,n){var i=ts(n);return a.replace(i,e.join(",")+","+n.getCode())},strategy:Rn.VW});return s.set("mapbox-source",e),s}return new on.Z({attributions:e.attribution,format:is,url:a})}r.features=is.readFeatures(i,{featureProjection:(0,f.Cs)()||"EPSG:3857"});var u=new on.Z(Object.assign({attributions:e.attribution,format:is},r));return u.set("mapbox-source",e),u}function as(e,t,n){var i=null;return function(r){e.paint&&"raster-opacity"in e.paint&&r.frameState.viewState.zoom!==i&&(i=r.frameState.viewState.zoom,delete n[e.id],function(e,t,n,i){var r=Do(e,"paint","raster-opacity",n,Ho,i);t.setOpacity(r)}(e,t,i,n))}}function os(e,t,n,i){var r=[],a=null;if(t instanceof Oe.Z){if(!(a=t.getView()).isDef()&&!a.getRotation()&&!a.getResolutions()){var o=i.projection?(0,f.U2)(i.projection):a.getProjection();a=new Tn.ZP(Object.assign(a.getProperties(),{maxResolution:so[0]/f.Wm[o.getUnits()],projection:i.projection||a.getProjection()})),t.setView(a)}"center"in e&&!a.getCenter()&&a.setCenter((0,f.mi)(e.center,a.getProjection())),"zoom"in e&&void 0===a.getZoom()&&a.setResolution(so[0]/f.Wm[a.getProjection().getUnits()]/Math.pow(2,e.zoom)),a.getCenter()&&void 0!==a.getZoom()||a.fit(a.getProjection().getExtent(),{nearest:!0,size:t.getSize()})}for(var s,u,l,h,c=e.layers,d=[],p=function(a,o){var f=c[a],p=f.type;if("heatmap"==p)throw new Error(p+" layers are not supported");if(h=f.source||function(e,t){var n;return e.some((function(e){if(e.id==t)return n=e.source,!0})),n}(c,f.ref),!h||h!=l){d.length&&(r.push(us(s,d,e,n,t,i)),d=[]),u=e.sources[h];var v={};if("background"==p)s=Qo(f,i,v);else if("vector"==u.type)s=function(e,t,n){var i=new yn({declutter:!0,visible:!1});return es(e,t,n).then((function(t){t.set("mapbox-source",e),i.setSource(t)})).catch((function(e){i.setSource(void 0)})),i}(u,n,i);else if("raster"==u.type)d=[],(s=ns(u,n,i)).setVisible(!f.layout||"none"!==f.layout.visibility),s.on("prerender",as(f,s,v));else if("geojson"==u.type)s=function(e,t,n){return new an.Z({declutter:!0,source:rs(e,t,n),visible:!1})}(u,n,i);else if("raster-dem"==u.type&&"hillshade"==f.type){d=[];var g=function(e,t,n){var i=ns(e,t,n);return new we({source:new Bt({operationType:"image",operation:Yo,sources:[i]})})}(u,n,i);s=g,g.getSource().on("beforeoperations",(function(e){var t=e.data;t.resolution=e.resolution;var n=lo(e.resolution,i.resolutions||so);t.vert=5*Do(f,"paint","hillshade-exaggeration",n,Ho,v),t.sunAz=Do(f,"paint","hillshade-illumination-direction",n,Ho,v),t.sunEl=35,t.opacity=.3,t.highlightColor=Do(f,"paint","hillshade-highlight-color",n,Ho,v),t.shadowColor=Do(f,"paint","hillshade-shadow-color",n,Ho,v),t.accentColor=Do(f,"paint","hillshade-accent-color",n,Ho,v)})),s.setVisible(!f.layout||"none"!==f.layout.visibility)}l=h,s&&s.set("mapbox-source",l)}d.push(f.id)},v=0,g=c.length;v<g;++v)p(v);return r.push(us(s,d,e,n,t,i)),t.set("mapbox-style",e),Promise.all(r)}function ss(e,t,n){var i,r;if(void 0===n&&(n={}),r="string"===typeof e||e instanceof HTMLElement?new Oe.Z({target:e}):e,"string"===typeof t){var a=t.startsWith("data:")?location.href:ro(t,n.accessToken);n=Bo(a,n),i=new Promise((function(e,i){fo(t,n).then((function(t){os(t,r,a,n).then((function(){e(r)})).catch(i)})).catch((function(e){i(new Error("Could not load "+t+": "+e.message))}))}))}else i=new Promise((function(e,i){os(t,r,!n.styleUrl||n.styleUrl.startsWith("data:")?location.href:ro(n.styleUrl,n.accessToken),n).then((function(){e(r)})).catch(i)}));return i}function us(e,t,n,i,r,a){void 0===a&&(a={});for(var o=24,s=0,u=n.layers,l=0,h=u.length;l<h;++l){var c=u[l];-1!==t.indexOf(c.id)&&(o=Math.min("minzoom"in c?c.minzoom:0,o),s=Math.max("maxzoom"in c?c.maxzoom:24,s))}return new Promise((function(u,l){var h=function(){var r=e.getSource();if(r&&"error"!==r.getState()){if("getTileGrid"in r){var h=r.getTileGrid();if(h){var c=h.getMinZoom();(o>0||c>0)&&e.setMaxResolution(Math.min(so[o],h.getResolution(c))+1e-9),s<24&&e.setMinResolution(so[s]+1e-9)}}else o>0&&e.setMaxResolution(so[o]+1e-9);r instanceof on.Z||r instanceof En?Ko(e,n,t,Object.assign({styleUrl:i},a)).then((function(){e.setVisible(!0),u()})).catch(l):u()}else l(new Error("Error accessing data for source "+e.get("mapbox-source")))};e.set("mapbox-layers",t);var c=r.getLayers();-1===c.getArray().indexOf(e)&&c.push(e),e.getSource()?h():e.once("change:source",h)}))}},8338:function(e,t,n){"use strict";var i=n(3144),r=n(5671),a=n(136),o=n(9388),s=n(8737),u={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"},l=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;(0,r.Z)(this,n);var a=u[e];return(i=t.call(this,a)).code=e,i.name="AssertionError",i.message=a,i}return(0,i.Z)(n)}((0,s.Z)(Error));t.Z=l},8789:function(e,t,n){"use strict";var i=n(3144),r=n(5671),a=n(136),o=n(9388),s=n(8338),u=n(5957),l=n(6289),h=n(5326),c="length",f=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).element=i,o.index=a,o}return(0,i.Z)(n)}(h.ZP),d=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;if((0,r.Z)(this,n),(a=t.call(this)).on,a.once,a.un,i=i||{},a.unique_=!!i.unique,a.array_=e||[],a.unique_)for(var o=0,s=a.array_.length;o<s;++o)a.assertUnique_(a.array_[o],o);return a.updateLength_(),a}return(0,i.Z)(n,[{key:"clear",value:function(){for(;this.getLength()>0;)this.pop()}},{key:"extend",value:function(e){for(var t=0,n=e.length;t<n;++t)this.push(e[t]);return this}},{key:"forEach",value:function(e){for(var t=this.array_,n=0,i=t.length;n<i;++n)e(t[n],n,t)}},{key:"getArray",value:function(){return this.array_}},{key:"item",value:function(e){return this.array_[e]}},{key:"getLength",value:function(){return this.get(c)}},{key:"insertAt",value:function(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new f(l.Z.ADD,t,e))}},{key:"pop",value:function(){return this.removeAt(this.getLength()-1)}},{key:"push",value:function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()}},{key:"remove",value:function(e){for(var t=this.array_,n=0,i=t.length;n<i;++n)if(t[n]===e)return this.removeAt(n)}},{key:"removeAt",value:function(e){if(!(e<0||e>=this.getLength())){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new f(l.Z.REMOVE,t,e)),t}}},{key:"setAt",value:function(e,t){if(e>=this.getLength())this.insertAt(e,t);else{if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);var n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new f(l.Z.REMOVE,n,e)),this.dispatchEvent(new f(l.Z.ADD,t,e))}}},{key:"updateLength_",value:function(){this.set(c,this.array_.length)}},{key:"assertUnique_",value:function(e,t){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===e&&n!==t)throw new s.Z(58)}}]),n}(u.Z);t.Z=d},6289:function(e,t){"use strict";t.Z={ADD:"add",REMOVE:"remove"}},5414:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=function(){function e(){(0,i.Z)(this,e),this.disposed=!1}return(0,r.Z)(e,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.disposeInternal())}},{key:"disposeInternal",value:function(){}}]),e}();t.Z=a},2652:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(5957),u=n(5947),l=n(6862),h=n(923),c=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;if((0,i.Z)(this,n),(r=t.call(this)).on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),e)if("function"===typeof e.getSimplifiedGeometry){var a=e;r.setGeometry(a)}else{var o=e;r.setProperties(o)}return r}return(0,r.Z)(n,[{key:"clone",value:function(){var e=new n(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var t=this.getGeometry();t&&e.setGeometry(t.clone());var i=this.getStyle();return i&&e.setStyle(i),e}},{key:"getGeometry",value:function(){return this.get(this.geometryName_)}},{key:"getId",value:function(){return this.id_}},{key:"getGeometryName",value:function(){return this.geometryName_}},{key:"getStyle",value:function(){return this.style_}},{key:"getStyleFunction",value:function(){return this.styleFunction_}},{key:"handleGeometryChange_",value:function(){this.changed()}},{key:"handleGeometryChanged_",value:function(){this.geometryChangeKey_&&((0,h.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=(0,h.oL)(e,u.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()}},{key:"setGeometry",value:function(e){this.set(this.geometryName_,e)}},{key:"setStyle",value:function(e){this.style_=e,this.styleFunction_=e?function(e){if("function"===typeof e)return e;var t;if(Array.isArray(e))t=e;else{(0,l.h)("function"===typeof e.getZIndex,41),t=[e]}return function(){return t}}(e):void 0,this.changed()}},{key:"setId",value:function(e){this.id_=e,this.changed()}},{key:"setGeometryName",value:function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}]),n}(s.Z);t.Z=c},7356:function(e,t,n){"use strict";n.d(t,{K:function(){return d}});var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(5947),u=n(7105),l=n(688),h=n(7288),c=n(7130),f=n(923);u.Z;function d(e,t,n){var i=e,r=!0,a=!1,o=!1,u=[(0,f.Vx)(i,s.Z.LOAD,(function(){o=!0,a||t()}))];return i.src&&h.Tp?(a=!0,i.decode().then((function(){r&&t()})).catch((function(e){r&&(o?t():n())}))):u.push((0,f.Vx)(i,s.Z.ERROR,n)),function(){r=!1,u.forEach(f.bN)}}},7105:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(2064),u=n(5947),l=n(6006),h=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,a,o){var s;return(0,i.Z)(this,n),(s=t.call(this)).extent=e,s.pixelRatio_=a,s.resolution=r,s.state=o,s}return(0,r.Z)(n,[{key:"changed",value:function(){this.dispatchEvent(u.Z.CHANGE)}},{key:"getExtent",value:function(){return this.extent}},{key:"getImage",value:function(){return(0,l.O3)()}},{key:"getPixelRatio",value:function(){return this.pixelRatio_}},{key:"getResolution",value:function(){return this.resolution}},{key:"getState",value:function(){return this.state}},{key:"load",value:function(){(0,l.O3)()}}]),n}(s.Z);t.Z=h},688:function(e,t){"use strict";t.Z={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},5859:function(e,t,n){"use strict";n.d(t,{Z:function(){return Ke}});var i=n(5671),r=n(3144),a=n(7326),o=n(1752),s=n(1120),u=n(136),l=n(9388),h=n(5957),c=n(8789),f=n(6289),d=n(5414),p=n(6661),v=n(6006),g=n(6108),y=n(7130),m=n(862),_=n(4101),x=n(2024);function k(e,t){m.c.expire()}var b=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this)).map_=e,r}return(0,r.Z)(n,[{key:"dispatchRenderEvent",value:function(e,t){(0,v.O3)()}},{key:"calculateMatrices2D",value:function(e){var t=e.viewState,n=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;(0,g.qC)(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),(0,g.nb)(i,n)}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r,a,o,s){var u,l=t.viewState;function h(e,t,n,i){return r.call(a,t,e?n:null,i)}var c=l.projection,f=(0,x.Cf)(e.slice(),c),d=[[0,0]];if(c.canWrapX()&&i){var p=c.getExtent(),v=(0,y.dz)(p);d.push([-v,0],[v,0])}for(var g=t.layerStatesArray,m=g.length,k=[],b=[],C=0;C<d.length;C++)for(var w=m-1;w>=0;--w){var E=g[w],S=E.layer;if(S.hasRenderer()&&(0,_.j)(E,l)&&o.call(s,S)){var Z=S.getRenderer(),T=S.getSource();if(Z&&T){var R=T.getWrapX()?f:e,I=h.bind(null,E.managed);b[0]=R[0]+d[C][0],b[1]=R[1]+d[C][1],u=Z.forEachFeatureAtCoordinate(b,t,n,I,k)}if(u)return u}}if(0!==k.length){var P=1/k.length;return k.forEach((function(e,t){return e.distanceSq+=t*P})),k.sort((function(e,t){return e.distanceSq-t.distanceSq})),k.some((function(e){return u=e.callback(e.feature,e.layer,e.geometry)})),u}}},{key:"hasFeatureAtCoordinate",value:function(e,t,n,i,r,a){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,i,p.uX,this,r,a)}},{key:"getMap",value:function(){return this.map_}},{key:"renderFrame",value:function(e){(0,v.O3)()}},{key:"scheduleExpireIconCache",value:function(e){m.c.canExpireCache()&&e.postRenderFunctions.push(k)}}]),n}(d.Z),C=n(6594),w=n(3384),E=n(6875),S=n(9148),Z=n(7907),T=n(923),R=n(1408),I=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,i.Z)(this,n),(r=t.call(this,e)).fontChangeListenerKey_=(0,T.oL)(Z.sG,C.Z.PROPERTYCHANGE,e.redrawText.bind(e)),r.element_=document.createElement("div");var a=r.element_.style;a.position="absolute",a.width="100%",a.height="100%",a.zIndex="0",r.element_.className=S.XV+" ol-layers";var o=e.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return(0,r.Z)(n,[{key:"dispatchRenderEvent",value:function(e,t){var n=this.getMap();if(n.hasListener(e)){var i=new w.Z(e,void 0,t);n.dispatchEvent(i)}}},{key:"disposeInternal",value:function(){(0,T.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),(0,o.Z)((0,s.Z)(n.prototype),"disposeInternal",this).call(this)}},{key:"renderFrame",value:function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(E.Z.PRECOMPOSE,e);var t=e.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),n=e.viewState;this.children_.length=0;for(var i=[],r=null,a=0,o=t.length;a<o;++a){var s=t[a];e.layerIndex=a;var u=s.layer,l=u.getSourceState();if(!(0,_.j)(s,n)||"ready"!=l&&"undefined"!=l)u.unrender();else{var h=u.render(e,r);h&&(h!==r&&(this.children_.push(h),r=h),"getDeclutter"in u&&i.push(u))}}for(var c=i.length-1;c>=0;--c)i[c].renderDeclutter(e);(0,R.hF)(this.element_,this.children_),this.dispatchRenderEvent(E.Z.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)}}]),n}(b),P=n(5947),M=n(3976),O=n(5326),F=n(6862),L=n(6841),A=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var a;return(0,i.Z)(this,n),(a=t.call(this,e)).layer=r,a}return(0,r.Z)(n)}(O.ZP),D={LAYERS:"layers"},z=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,i.Z)(this,n),e=e||{};var a=Object.assign({},e);delete a.layers;var o=e.layers;return(r=t.call(this,a)).on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(D.LAYERS,r.handleLayersChanged_),o?Array.isArray(o)?o=new c.Z(o.slice(),{unique:!0}):(0,F.h)("function"===typeof o.getArray,43):o=new c.Z(void 0,{unique:!0}),r.setLayers(o),r}return(0,r.Z)(n,[{key:"handleLayerChange_",value:function(){this.changed()}},{key:"handleLayersChanged_",value:function(){this.layersListenerKeys_.forEach(T.bN),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push((0,T.oL)(e,f.Z.ADD,this.handleLayersAdd_,this),(0,T.oL)(e,f.Z.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(T.bN);(0,L.Z)(this.listenerKeys_);for(var n=e.getArray(),i=0,r=n.length;i<r;i++){var a=n[i];this.registerLayerListeners_(a),this.dispatchEvent(new A("addlayer",a))}this.changed()}},{key:"registerLayerListeners_",value:function(e){var t=[(0,T.oL)(e,C.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,T.oL)(e,P.Z.CHANGE,this.handleLayerChange_,this)];e instanceof n&&t.push((0,T.oL)(e,"addlayer",this.handleLayerGroupAdd_,this),(0,T.oL)(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,v.sq)(e)]=t}},{key:"handleLayerGroupAdd_",value:function(e){this.dispatchEvent(new A("addlayer",e.layer))}},{key:"handleLayerGroupRemove_",value:function(e){this.dispatchEvent(new A("removelayer",e.layer))}},{key:"handleLayersAdd_",value:function(e){var t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new A("addlayer",t)),this.changed()}},{key:"handleLayersRemove_",value:function(e){var t=e.element,n=(0,v.sq)(t);this.listenerKeys_[n].forEach(T.bN),delete this.listenerKeys_[n],this.dispatchEvent(new A("removelayer",t)),this.changed()}},{key:"getLayers",value:function(){return this.get(D.LAYERS)}},{key:"setLayers",value:function(e){var t=this.getLayers();if(t)for(var n=t.getArray(),i=0,r=n.length;i<r;++i)this.dispatchEvent(new A("removelayer",n[i]));this.set(D.LAYERS,e)}},{key:"getLayersArray",value:function(e){return e=void 0!==e?e:[],this.getLayers().forEach((function(t){t.getLayersArray(e)})),e}},{key:"getLayerStatesArray",value:function(e){var t=void 0!==e?e:[],n=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));var i=this.getLayerState(),r=i.zIndex;e||void 0!==i.zIndex||(r=0);for(var a=n,o=t.length;a<o;a++){var s=t[a];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),s.minZoom=Math.max(s.minZoom,i.minZoom),s.maxZoom=Math.min(s.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==s.extent?s.extent=(0,y.Ed)(s.extent,i.extent):s.extent=i.extent),void 0===s.zIndex&&(s.zIndex=r)}return t}},{key:"getSourceState",value:function(){return"ready"}}]),n}(M.Z),N=z,G=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,a){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).map=r,o.frameState=void 0!==a?a:null,o}return(0,r.Z)(n)}(O.ZP),j=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,a,o,s,u){var l;return(0,i.Z)(this,n),(l=t.call(this,e,r,s)).originalEvent=a,l.pixel_=null,l.coordinate_=null,l.dragging=void 0!==o&&o,l.activePointers=u,l}return(0,r.Z)(n,[{key:"pixel",get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e}},{key:"coordinate",get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e}},{key:"preventDefault",value:function(){(0,o.Z)((0,s.Z)(n.prototype),"preventDefault",this).call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){(0,o.Z)((0,s.Z)(n.prototype),"stopPropagation",this).call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}]),n}(G),q={SINGLECLICK:"singleclick",CLICK:P.Z.CLICK,DBLCLICK:P.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},W={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},X=n(2064),V=n(7288),Y=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var o;(0,i.Z)(this,n),(o=t.call(this,e)).map_=e,o.clickTimeoutId_,o.emulateClicks_=!1,o.dragging_=!1,o.dragListenerKeys_=[],o.moveTolerance_=void 0===r?1:r,o.down_=null;var s=o.map_.getViewport();return o.activePointers_=[],o.trackedTouches_={},o.element_=s,o.pointerdownListenerKey_=(0,T.oL)(s,W.POINTERDOWN,o.handlePointerDown_,(0,a.Z)(o)),o.originalPointerMoveEvent_,o.relayedListenerKey_=(0,T.oL)(s,W.POINTERMOVE,o.relayMoveEvent_,(0,a.Z)(o)),o.boundHandleTouchMove_=o.handleTouchMove_.bind((0,a.Z)(o)),o.element_.addEventListener(P.Z.TOUCHMOVE,o.boundHandleTouchMove_,!!V.bM&&{passive:!1}),o}return(0,r.Z)(n,[{key:"emulateClick_",value:function(e){var t=this,n=new j(q.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new j(q.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout((function(){t.clickTimeoutId_=void 0;var n=new j(q.SINGLECLICK,t.map_,e);t.dispatchEvent(n)}),250)}},{key:"updateActivePointers_",value:function(e){var t=e,n=t.pointerId;if(t.type==q.POINTERUP||t.type==q.POINTERCANCEL){for(var i in delete this.trackedTouches_[n],this.trackedTouches_)if(this.trackedTouches_[i].target!==t.target){delete this.trackedTouches_[i];break}}else t.type!=q.POINTERDOWN&&t.type!=q.POINTERMOVE||(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}},{key:"handlePointerUp_",value:function(e){this.updateActivePointers_(e);var t=new j(q.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(T.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}},{key:"isMouseActionButton_",value:function(e){return 0===e.button}},{key:"handlePointerDown_",value:function(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);var t=new j(q.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);for(var n in this.dispatchEvent(t),this.down_={},e){var i=e[n];this.down_[n]="function"===typeof i?p.Zn:i}if(0===this.dragListenerKeys_.length){var r=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,T.oL)(r,q.POINTERMOVE,this.handlePointerMove_,this),(0,T.oL)(r,q.POINTERUP,this.handlePointerUp_,this),(0,T.oL)(this.element_,q.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push((0,T.oL)(this.element_.getRootNode(),q.POINTERUP,this.handlePointerUp_,this))}}},{key:"handlePointerMove_",value:function(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;var t=new j(q.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}},{key:"relayMoveEvent_",value:function(e){this.originalPointerMoveEvent_=e;var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new j(q.POINTERMOVE,this.map_,e,t))}},{key:"handleTouchMove_",value:function(e){var t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"===typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}},{key:"isMoving_",value:function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}},{key:"disposeInternal",value:function(){this.relayedListenerKey_&&((0,T.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(P.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,T.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(T.bN),this.dragListenerKeys_.length=0,this.element_=null,(0,o.Z)((0,s.Z)(n.prototype),"disposeInternal",this).call(this)}}]),n}(X.Z),U=n(5989),B=n(4051),K=n(3143),H=n(430),J=n(4265),$=n(5742),Q=n(7678),ee=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,i.Z)(this,n),e=e||{},(r=t.call(this,{element:document.createElement("div"),render:e.render,target:e.target})).ulElement_=document.createElement("ul"),r.collapsed_=void 0===e.collapsed||e.collapsed,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=void 0!==e.collapsible,r.collapsible_=void 0===e.collapsible||e.collapsible,r.collapsible_||(r.collapsed_=!1);var o=void 0!==e.className?e.className:"ol-attribution",s=void 0!==e.tipLabel?e.tipLabel:"Attributions",u=void 0!==e.expandClassName?e.expandClassName:o+"-expand",l=void 0!==e.collapseLabel?e.collapseLabel:"\u203a",h=void 0!==e.collapseClassName?e.collapseClassName:o+"-collapse";"string"===typeof l?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=l,r.collapseLabel_.className=h):r.collapseLabel_=l;var c=void 0!==e.label?e.label:"i";"string"===typeof c?(r.label_=document.createElement("span"),r.label_.textContent=c,r.label_.className=u):r.label_=c;var f=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=s,r.toggleButton_.appendChild(f),r.toggleButton_.addEventListener(P.Z.CLICK,r.handleClick_.bind((0,a.Z)(r)),!1);var d=o+" "+S.XV+" "+S.hg+(r.collapsed_&&r.collapsible_?" "+S.hN:"")+(r.collapsible_?"":" ol-uncollapsible"),p=r.element;return p.className=d,p.appendChild(r.toggleButton_),p.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return(0,r.Z)(n,[{key:"collectSourceAttributions_",value:function(e){for(var t={},n=[],i=!0,r=e.layerStatesArray,a=0,o=r.length;a<o;++a){var s=r[a];if((0,_.j)(s,e.viewState)){var u=s.layer.getSource();if(u){var l=u.getAttributions();if(l){var h=l(e);if(h)if(i=i&&!1!==u.getAttributionsCollapsible(),Array.isArray(h))for(var c=0,f=h.length;c<f;++c)h[c]in t||(n.push(h[c]),t[h[c]]=!0);else h in t||(n.push(h),t[h]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),n}},{key:"updateElement_",value:function(e){if(e){var t=this.collectSourceAttributions_(e),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,Q.fS)(t,this.renderedAttributions_)){(0,R.ep)(this.ulElement_);for(var i=0,r=t.length;i<r;++i){var a=document.createElement("li");a.innerHTML=t[i],this.ulElement_.appendChild(a)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}},{key:"handleClick_",value:function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}},{key:"handleToggle_",value:function(){this.element.classList.toggle(S.hN),this.collapsed_?(0,R.$H)(this.collapseLabel_,this.label_):(0,R.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}},{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"setCollapsible",value:function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}},{key:"setCollapsed",value:function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"render",value:function(e){this.updateElement_(e.frameState)}}]),n}($.Z),te=n(9868),ne=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,i.Z)(this,n),e=e||{},r=t.call(this,{element:document.createElement("div"),render:e.render,target:e.target});var o=void 0!==e.className?e.className:"ol-rotate",s=void 0!==e.label?e.label:"\u21e7",u=void 0!==e.compassClassName?e.compassClassName:"ol-compass";r.label_=null,"string"===typeof s?(r.label_=document.createElement("span"),r.label_.className=u,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(u));var l=e.tipLabel?e.tipLabel:"Reset rotation",h=document.createElement("button");h.className=o+"-reset",h.setAttribute("type","button"),h.title=l,h.appendChild(r.label_),h.addEventListener(P.Z.CLICK,r.handleClick_.bind((0,a.Z)(r)),!1);var c=o+" "+S.XV+" "+S.hg,f=r.element;return f.className=c,f.appendChild(h),r.callResetNorth_=e.resetNorth?e.resetNorth:void 0,r.duration_=void 0!==e.duration?e.duration:250,r.autoHide_=void 0===e.autoHide||e.autoHide,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(S.oj),r}return(0,r.Z)(n,[{key:"handleClick_",value:function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}},{key:"resetNorth_",value:function(){var e=this.getMap().getView();if(e){var t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:te.Vv}):e.setRotation(0))}}},{key:"render",value:function(e){var t=e.frameState;if(t){var n=t.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(S.oj);r||0!==n?r&&0!==n&&this.element.classList.remove(S.oj):this.element.classList.add(S.oj)}this.label_.style.transform=i}this.rotation_=n}}}]),n}($.Z),ie=ne,re=n(4465);var ae="active";function oe(e,t,n,i){var r=e.getZoom();if(void 0!==r){var a=e.getConstrainedZoom(r+t),o=e.getResolutionForZoom(a);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:o,anchor:n,duration:void 0!==i?i:250,easing:te.Vv})}}var se=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this)).on,r.once,r.un,e&&e.handleEvent&&(r.handleEvent=e.handleEvent),r.map_=null,r.setActive(!0),r}return(0,r.Z)(n,[{key:"getActive",value:function(){return this.get(ae)}},{key:"getMap",value:function(){return this.map_}},{key:"handleEvent",value:function(e){return!0}},{key:"setActive",value:function(e){this.set(ae,e)}},{key:"setMap",value:function(e){this.map_=e}}]),n}(h.Z),ue=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,i.Z)(this,n),e=e||{},(r=t.call(this)).delta_=e.delta?e.delta:1,r.duration_=void 0!==e.duration?e.duration:250,r}return(0,r.Z)(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==q.DBLCLICK){var n=e.originalEvent,i=e.map,r=e.coordinate,a=n.shiftKey?-this.delta_:this.delta_;oe(i.getView(),a,r,this.duration_),n.preventDefault(),t=!0}return!t}}]),n}(se);function le(e){for(var t=e.length,n=0,i=0,r=0;r<t;r++)n+=e[r].clientX,i+=e[r].clientY;return{clientX:n/t,clientY:i/t}}var he=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,i.Z)(this,n),e=e||{},r=t.call(this,e),e.handleDownEvent&&(r.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(r.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(r.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(r.handleUpEvent=e.handleUpEvent),e.stopDown&&(r.stopDown=e.stopDown),r.handlingDownUpSequence=!1,r.targetPointers=[],r}return(0,r.Z)(n,[{key:"getPointerCount",value:function(){return this.targetPointers.length}},{key:"handleDownEvent",value:function(e){return!1}},{key:"handleDragEvent",value:function(e){}},{key:"handleEvent",value:function(e){if(!e.originalEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==q.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==q.POINTERUP){var n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==q.POINTERDOWN){var i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==q.POINTERMOVE&&this.handleMoveEvent(e);return!t}},{key:"handleMoveEvent",value:function(e){}},{key:"handleUpEvent",value:function(e){return!1}},{key:"stopDown",value:function(e){return e}},{key:"updateTrackedPointers_",value:function(e){e.activePointers&&(this.targetPointers=e.activePointers)}}]),n}(se);function ce(e){var t=arguments;return function(e){for(var n=!0,i=0,r=t.length;i<r&&(n=n&&t[i](e));++i);return n}}var fe=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},de=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||function(e){var t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)}(e)},pe=p.uX,ve=function(e){var t=e.originalEvent;return 0==t.button&&!(V.G$&&V.tK&&t.ctrlKey)},ge=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},ye=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},me=function(e){var t=e.originalEvent,n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable},_e=function(e){var t=e.originalEvent;return(0,F.h)(void 0!==t,56),"mouse"==t.pointerType},xe=function(e){var t=e.originalEvent;return(0,F.h)(void 0!==t,56),t.isPrimary&&0===t.button},ke=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,i.Z)(this,n),e=e||{},(r=t.call(this,{stopDown:p.Dv})).kinetic_=e.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var a=e.condition?e.condition:ce(ge,xe);return r.condition_=e.onFocusOnly?ce(de,a):a,r.noKinetic_=!1,r}return(0,r.Z)(n,[{key:"handleDragEvent",value:function(e){var t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());var n=this.targetPointers,i=t.getEventPixel(le(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var r=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=e.map.getView();(0,x.bA)(r,a.getResolution()),(0,x.U1)(r,a.getRotation()),a.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}},{key:"handleUpEvent",value:function(e){var t=e.map,n=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),a=n.getCenterInternal(),o=t.getPixelFromCoordinateInternal(a),s=t.getCoordinateFromPixelInternal([o[0]-i*Math.cos(r),o[1]-i*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:te.Vv})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}]),n}(he),be=n(3901),Ce=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,i.Z)(this,n),e=e||{},(r=t.call(this,{stopDown:p.Dv})).condition_=e.condition?e.condition:fe,r.lastAngle_=void 0,r.duration_=void 0!==e.duration?e.duration:250,r}return(0,r.Z)(n,[{key:"handleDragEvent",value:function(e){if(_e(e)){var t=e.map,n=t.getView();if(n.getConstraints().rotation!==be.h$){var i=t.getSize(),r=e.pixel,a=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var o=a-this.lastAngle_;n.adjustRotationInternal(-o)}this.lastAngle_=a}}}},{key:"handleUpEvent",value:function(e){return!_e(e)||(e.map.getView().endInteraction(this.duration_),!1)}},{key:"handleDownEvent",value:function(e){return!!_e(e)&&(!(!ve(e)||!this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}}]),n}(he),we=n(4057),Ee=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this)).geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+e,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return(0,r.Z)(n,[{key:"disposeInternal",value:function(){this.setMap(null)}},{key:"render_",value:function(){var e=this.startPixel_,t=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(e[0],t[0])+n,i.top=Math.min(e[1],t[1])+n,i.width=Math.abs(t[0]-e[0])+n,i.height=Math.abs(t[1]-e[1])+n}},{key:"setMap",value:function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}},{key:"setPixels",value:function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}},{key:"createOrUpdateGeometry",value:function(){var e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new we.ZP([n])}},{key:"getGeometry",value:function(){return this.geometry_}}]),n}(d.Z),Se="boxstart",Ze="boxdrag",Te="boxend",Re="boxcancel",Ie=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,a){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).coordinate=r,o.mapBrowserEvent=a,o}return(0,r.Z)(n)}(O.ZP),Pe=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,i.Z)(this,n);var a=(e=e||{}).condition?e.condition:ye;return(r=t.call(this,{condition:a,className:e.className||"ol-dragzoom",minArea:e.minArea})).duration_=void 0!==e.duration?e.duration:200,r.out_=void 0!==e.out&&e.out,r}return(0,r.Z)(n,[{key:"onBoxEnd",value:function(e){var t=this.getMap().getView(),n=this.getGeometry();if(this.out_){var i=t.rotatedExtentForGeometry(n),r=t.getResolutionForExtentInternal(i),a=t.getResolution()/r;(n=n.clone()).scale(a*a)}t.fitInternal(n,{duration:this.duration_,easing:te.Vv})}}]),n}(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this)).on,r.once,r.un,e=e||{},r.box_=new Ee(e.className||"ol-dragbox"),r.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(r.onBoxEnd=e.onBoxEnd),r.startPixel_=null,r.condition_=e.condition?e.condition:ve,r.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:r.defaultBoxEndCondition,r}return(0,r.Z)(n,[{key:"defaultBoxEndCondition",value:function(e,t,n){var i=n[0]-t[0],r=n[1]-t[1];return i*i+r*r>=this.minArea_}},{key:"getGeometry",value:function(){return this.box_.getGeometry()}},{key:"handleDragEvent",value:function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Ie(Ze,e.coordinate,e))}},{key:"handleUpEvent",value:function(e){this.box_.setMap(null);var t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new Ie(t?Te:Re,e.coordinate,e)),!1}},{key:"handleDownEvent",value:function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Ie(Se,e.coordinate,e)),!0)}},{key:"onBoxEnd",value:function(e){}}]),n}(he)),Me=37,Oe=38,Fe=39,Le=40,Ae=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,i.Z)(this,n),e=e||{},(r=t.call(this)).defaultCondition_=function(e){return ge(e)&&me(e)},r.condition_=void 0!==e.condition?e.condition:r.defaultCondition_,r.duration_=void 0!==e.duration?e.duration:100,r.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128,r}return(0,r.Z)(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==P.Z.KEYDOWN){var n=e.originalEvent,i=n.keyCode;if(this.condition_(e)&&(i==Le||i==Me||i==Fe||i==Oe)){var r=e.map.getView(),a=r.getResolution()*this.pixelDelta_,o=0,s=0;i==Le?s=-a:i==Me?o=-a:i==Fe?o=a:s=a;var u=[o,s];(0,x.U1)(u,r.getRotation()),function(e,t,n){var i=e.getCenterInternal();if(i){var r=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:void 0!==n?n:250,easing:te.GE,center:e.getConstrainedCenter(r)})}}(r,u,this.duration_),n.preventDefault(),t=!0}}return!t}}]),n}(se),De=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,i.Z)(this,n),e=e||{},(r=t.call(this)).condition_=e.condition?e.condition:me,r.delta_=e.delta?e.delta:1,r.duration_=void 0!==e.duration?e.duration:100,r}return(0,r.Z)(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==P.Z.KEYDOWN||e.type==P.Z.KEYPRESS){var n=e.originalEvent,i=n.charCode;if(this.condition_(e)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var r=e.map,a=i=="+".charCodeAt(0)?this.delta_:-this.delta_;oe(r.getView(),a,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}}]),n}(se),ze=function(){function e(t,n,r){(0,i.Z)(this,e),this.decay_=t,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return(0,r.Z)(e,[{key:"begin",value:function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}},{key:"update",value:function(e,t){this.points_.push(e,t,Date.now())}},{key:"end",value:function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var n=t-3;n>0&&this.points_[n+2]>e;)n-=3;var i=this.points_[t+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[t]-this.points_[n],a=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(a,r),this.initialVelocity_=Math.sqrt(r*r+a*a)/i,this.initialVelocity_>this.minVelocity_}},{key:"getDistance",value:function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}},{key:"getAngle",value:function(){return this.angle_}}]),e}(),Ne=n(2357),Ge=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,i.Z)(this,n),e=e||{},(r=t.call(this,e)).totalDelta_=0,r.lastDelta_=0,r.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,r.duration_=void 0!==e.duration?e.duration:250,r.timeout_=void 0!==e.timeout?e.timeout:80,r.useAnchor_=void 0===e.useAnchor||e.useAnchor,r.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;var a=e.condition?e.condition:pe;return r.condition_=e.onFocusOnly?ce(de,a):a,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return(0,r.Z)(n,[{key:"endInteraction_",value:function(){this.trackpadTimeoutId_=void 0;var e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},{key:"handleEvent",value:function(e){if(!this.condition_(e))return!0;if(e.type!==P.Z.WHEEL)return!0;var t,n=e.map,i=e.originalEvent;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==P.Z.WHEEL&&(t=i.deltaY,V.V&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(t/=V.MP),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(t*=40)),0===t)return!1;this.lastDelta_=t;var r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(t)<4?"trackpad":"wheel");var a=n.getView();if("trackpad"===this.mode_&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-t/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=t;var o=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),o),!1}},{key:"handleWheelZoom_",value:function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();var n=-(0,Ne.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),oe(t,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}},{key:"setMouseAnchor",value:function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}]),n}(se),je=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,i.Z)(this,n);var a=e=e||{};return a.stopDown||(a.stopDown=p.Dv),(r=t.call(this,a)).anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=void 0!==e.threshold?e.threshold:.3,r.duration_=void 0!==e.duration?e.duration:250,r}return(0,r.Z)(n,[{key:"handleDragEvent",value:function(e){var t=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var a=r-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=a}this.lastAngle_=r;var o=e.map,s=o.getView();s.getConstraints().rotation!==be.h$&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(le(this.targetPointers))),this.rotating_&&(o.render(),s.adjustRotationInternal(t,this.anchor_)))}},{key:"handleUpEvent",value:function(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_),!1)}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}]),n}(he),qe=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,i.Z)(this,n);var a=e=e||{};return a.stopDown||(a.stopDown=p.Dv),(r=t.call(this,a)).anchor_=null,r.duration_=void 0!==e.duration?e.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return(0,r.Z)(n,[{key:"handleDragEvent",value:function(e){var t=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,a=n.clientY-i.clientY,o=Math.sqrt(r*r+a*a);void 0!==this.lastDistance_&&(t=this.lastDistance_/o),this.lastDistance_=o;var s=e.map,u=s.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(le(this.targetPointers))),s.render(),u.adjustResolutionInternal(t,this.anchor_)}},{key:"handleUpEvent",value:function(e){if(this.targetPointers.length<2){var t=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,n),!1}return!0}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}]),n}(he);var We=n(5172),Xe=n(4046),Ve=n(9972);function Ye(e){e instanceof _.Z?e.setMapInternal(null):e instanceof N&&e.getLayers().forEach(Ye)}function Ue(e,t){if(e instanceof _.Z)e.setMapInternal(t);else if(e instanceof N)for(var n=e.getLayers().getArray(),i=0,r=n.length;i<r;++i)Ue(n[i],t)}var Be=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,i.Z)(this,n),e=e||{},(r=t.call(this)).on,r.once,r.un;var o=function(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"===typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var n,i,r,a={},o=e.layers&&"function"===typeof e.layers.getLayers?e.layers:new N({layers:e.layers});a[B.Z.LAYERGROUP]=o,a[B.Z.TARGET]=e.target,a[B.Z.VIEW]=e.view instanceof H.ZP?e.view:new H.ZP,void 0!==e.controls&&(Array.isArray(e.controls)?n=new c.Z(e.controls.slice()):((0,F.h)("function"===typeof e.controls.getArray,47),n=e.controls));void 0!==e.interactions&&(Array.isArray(e.interactions)?i=new c.Z(e.interactions.slice()):((0,F.h)("function"===typeof e.interactions.getArray,48),i=e.interactions));void 0!==e.overlays?Array.isArray(e.overlays)?r=new c.Z(e.overlays.slice()):((0,F.h)("function"===typeof e.overlays.getArray,49),r=e.overlays):r=new c.Z;return{controls:n,interactions:i,keyboardEventTarget:t,overlays:r,values:a}}(e);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind((0,a.Z)(r)),r.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,r.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:V.MP,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=r.animationDelay_.bind((0,a.Z)(r)),r.coordinateToPixelTransform_=(0,g.Ue)(),r.pixelToCoordinateTransform_=(0,g.Ue)(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=e.moveTolerance,r.keyboardEventTarget_=o.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.targetElement_=null,r.resizeObserver_=new ResizeObserver((function(){return r.updateSize()})),r.controls=o.controls||function(e){e=e||{};var t=new c.Z;return(void 0===e.zoom||e.zoom)&&t.push(new re.Z(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&t.push(new ie(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&t.push(new ee(e.attributionOptions)),t}(),r.interactions=o.interactions||function(e){e=e||{};var t=new c.Z,n=new ze(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&t.push(new Ce),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&t.push(new ue({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&t.push(new ke({onFocusOnly:e.onFocusOnly,kinetic:n})),(void 0===e.pinchRotate||e.pinchRotate)&&t.push(new je),(void 0===e.pinchZoom||e.pinchZoom)&&t.push(new qe({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(t.push(new Ae),t.push(new De({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&t.push(new Ge({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&t.push(new Pe({duration:e.zoomDuration})),t}({onFocusOnly:!0}),r.overlays_=o.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new K.Z(r.getTilePriority.bind((0,a.Z)(r)),r.handleTileChange_.bind((0,a.Z)(r))),r.addChangeListener(B.Z.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(B.Z.VIEW,r.handleViewChanged_),r.addChangeListener(B.Z.SIZE,r.handleSizeChanged_),r.addChangeListener(B.Z.TARGET,r.handleTargetChanged_),r.setProperties(o.values);var s=(0,a.Z)(r);return!e.view||e.view instanceof H.ZP||e.view.then((function(e){s.setView(new H.ZP(e))})),r.controls.addEventListener(f.Z.ADD,(function(e){e.element.setMap((0,a.Z)(r))})),r.controls.addEventListener(f.Z.REMOVE,(function(e){e.element.setMap(null)})),r.interactions.addEventListener(f.Z.ADD,(function(e){e.element.setMap((0,a.Z)(r))})),r.interactions.addEventListener(f.Z.REMOVE,(function(e){e.element.setMap(null)})),r.overlays_.addEventListener(f.Z.ADD,(function(e){r.addOverlayInternal_(e.element)})),r.overlays_.addEventListener(f.Z.REMOVE,(function(e){var t=e.element.getId();void 0!==t&&delete r.overlayIdIndex_[t.toString()],e.element.setMap(null)})),r.controls.forEach((function(e){e.setMap((0,a.Z)(r))})),r.interactions.forEach((function(e){e.setMap((0,a.Z)(r))})),r.overlays_.forEach(r.addOverlayInternal_.bind((0,a.Z)(r))),r}return(0,r.Z)(n,[{key:"addControl",value:function(e){this.getControls().push(e)}},{key:"addInteraction",value:function(e){this.getInteractions().push(e)}},{key:"addLayer",value:function(e){this.getLayerGroup().getLayers().push(e)}},{key:"handleLayerAdd_",value:function(e){Ue(e.layer,this)}},{key:"addOverlay",value:function(e){this.getOverlays().push(e)}},{key:"addOverlayInternal_",value:function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}},{key:"disposeInternal",value:function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),(0,o.Z)((0,s.Z)(n.prototype),"disposeInternal",this).call(this)}},{key:"forEachFeatureAtPixel",value:function(e,t,n){if(this.frameState_&&this.renderer_){var i=this.getCoordinateFromPixelInternal(e),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,a=void 0!==n.layerFilter?n.layerFilter:p.uX,o=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,o,t,null,a,null)}}},{key:"getFeaturesAtPixel",value:function(e,t){var n=[];return this.forEachFeatureAtPixel(e,(function(e){n.push(e)}),t),n}},{key:"getAllLayers",value:function(){var e=[];return function t(n){n.forEach((function(n){n instanceof N?t(n.getLayers()):e.push(n)}))}(this.getLayers()),e}},{key:"hasFeatureAtPixel",value:function(e,t){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(e),i=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:p.uX,r=void 0!==t.hitTolerance?t.hitTolerance:0,a=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,a,i,null)}},{key:"getEventCoordinate",value:function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}},{key:"getEventCoordinateInternal",value:function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}},{key:"getEventPixel",value:function(e){var t=this.viewport_.getBoundingClientRect(),n=this.getSize(),i=t.width/n[0],r=t.height/n[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-t.left)/i,(a.clientY-t.top)/r]}},{key:"getTarget",value:function(){return this.get(B.Z.TARGET)}},{key:"getTargetElement",value:function(){return this.targetElement_}},{key:"getCoordinateFromPixel",value:function(e){return(0,We.lO)(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}},{key:"getCoordinateFromPixelInternal",value:function(e){var t=this.frameState_;return t?(0,g.nn)(t.pixelToCoordinateTransform,e.slice()):null}},{key:"getControls",value:function(){return this.controls}},{key:"getOverlays",value:function(){return this.overlays_}},{key:"getOverlayById",value:function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}},{key:"getInteractions",value:function(){return this.interactions}},{key:"getLayerGroup",value:function(){return this.get(B.Z.LAYERGROUP)}},{key:"setLayers",value:function(e){var t=this.getLayerGroup();if(e instanceof c.Z)t.setLayers(e);else{var n=t.getLayers();n.clear(),n.extend(e)}}},{key:"getLayers",value:function(){return this.getLayerGroup().getLayers()}},{key:"getLoadingOrNotReady",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var i=e[t];if(i.visible){var r=i.layer.getRenderer();if(r&&!r.ready)return!0;var a=i.layer.getSource();if(a&&a.loading)return!0}}return!1}},{key:"getPixelFromCoordinate",value:function(e){var t=(0,We.Vs)(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}},{key:"getPixelFromCoordinateInternal",value:function(e){var t=this.frameState_;return t?(0,g.nn)(t.coordinateToPixelTransform,e.slice(0,2)):null}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"getSize",value:function(){return this.get(B.Z.SIZE)}},{key:"getView",value:function(){return this.get(B.Z.VIEW)}},{key:"getViewport",value:function(){return this.viewport_}},{key:"getOverlayContainer",value:function(){return this.overlayContainer_}},{key:"getOverlayContainerStopEvent",value:function(){return this.overlayContainerStopEvent_}},{key:"getOwnerDocument",value:function(){var e=this.getTargetElement();return e?e.ownerDocument:document}},{key:"getTilePriority",value:function(e,t,n,i){return(0,K.R)(this.frameState_,e,t,n,i)}},{key:"handleBrowserEvent",value:function(e,t){t=t||e.type;var n=new j(t,this,e);this.handleMapBrowserEvent(n)}},{key:"handleMapBrowserEvent",value:function(e){if(this.frameState_){var t=e.originalEvent,n=t.type;if(n===W.POINTERDOWN||n===P.Z.WHEEL||n===P.Z.KEYDOWN){var i=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():i,a=t.target;if(this.overlayContainerStopEvent_.contains(a)||!(r===i?i.documentElement:r).contains(a))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var o=this.getInteractions().getArray().slice(),s=o.length-1;s>=0;s--){var u=o[s];if(u.getMap()===this&&u.getActive()&&this.getTargetElement())if(!u.handleEvent(e)||e.propagationStopped)break}}}},{key:"handlePostRender",value:function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var n=this.maxTilesLoading_,i=n;if(e){var r=e.viewHints;if(r[J.Z.ANIMATING]||r[J.Z.INTERACTING]){var a=Date.now()-e.time>8;n=a?0:8,i=a?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,i))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener(E.Z.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(E.Z.RENDERCOMPLETE,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new G(U.Z.LOADEND,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new G(U.Z.LOADSTART,this,e))));for(var o=this.postRenderFunctions_,s=0,u=o.length;s<u;++s)o[s](this,e);o.length=0}},{key:"handleSizeChanged_",value:function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}},{key:"handleTargetChanged_",value:function(){if(this.mapBrowserEventHandler_){for(var e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)(0,T.bN)(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(P.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(P.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,R.ZF)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);var n=this.targetElement_.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.unobserve(n.host)}var i=this.getTarget(),r="string"===typeof i?document.getElementById(i):i;if(this.targetElement_=r,r){for(var a in r.appendChild(this.viewport_),this.renderer_||(this.renderer_=new I(this)),this.mapBrowserEventHandler_=new Y(this,this.moveTolerance_),q)this.mapBrowserEventHandler_.addEventListener(q[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(P.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(P.Z.WHEEL,this.boundHandleBrowserEvent_,!!V.bM&&{passive:!1});var o=this.keyboardEventTarget_?this.keyboardEventTarget_:r;this.targetChangeHandlerKeys_=[(0,T.oL)(o,P.Z.KEYDOWN,this.handleBrowserEvent,this),(0,T.oL)(o,P.Z.KEYPRESS,this.handleBrowserEvent,this)];var s=r.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(r)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}},{key:"handleTileChange_",value:function(){this.render()}},{key:"handleViewPropertyChanged_",value:function(){this.render()}},{key:"handleViewChanged_",value:function(){this.viewPropertyListenerKey_&&((0,T.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,T.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,T.oL)(e,C.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,T.oL)(e,P.Z.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}},{key:"handleLayerGroupChanged_",value:function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(T.bN),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new A("addlayer",e)),this.layerGroupPropertyListenerKeys_=[(0,T.oL)(e,C.Z.PROPERTYCHANGE,this.render,this),(0,T.oL)(e,P.Z.CHANGE,this.render,this),(0,T.oL)(e,"addlayer",this.handleLayerAdd_,this),(0,T.oL)(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}},{key:"isRendered",value:function(){return!!this.frameState_}},{key:"animationDelay_",value:function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}},{key:"renderSync",value:function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}},{key:"redrawText",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var i=e[t].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}},{key:"render",value:function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}},{key:"removeControl",value:function(e){return this.getControls().remove(e)}},{key:"removeInteraction",value:function(e){return this.getInteractions().remove(e)}},{key:"removeLayer",value:function(e){return this.getLayerGroup().getLayers().remove(e)}},{key:"handleLayerRemove_",value:function(e){Ye(e.layer)}},{key:"removeOverlay",value:function(e){return this.getOverlays().remove(e)}},{key:"renderFrame_",value:function(e){var t=this,n=this.getSize(),i=this.getView(),r=this.frameState_,a=null;if(void 0!==n&&(0,Xe.py)(n)&&i&&i.isDef()){var o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=i.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,y.p8)(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:s,viewHints:o,wantedTiles:{},mapId:(0,v.sq)(this),renderTargets:{}},s.nextCenter&&s.nextResolution){var u=isNaN(s.nextRotation)?s.rotation:s.nextRotation;a.nextExtent=(0,y.p8)(s.nextCenter,s.nextResolution,u,n)}}if(this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),r)(!this.previousExtent_||!(0,y.xb)(this.previousExtent_)&&!(0,y.fS)(a.extent,this.previousExtent_))&&(this.dispatchEvent(new G(U.Z.MOVESTART,this,r)),this.previousExtent_=(0,y.YN)(this.previousExtent_));this.previousExtent_&&!a.viewHints[J.Z.ANIMATING]&&!a.viewHints[J.Z.INTERACTING]&&!(0,y.fS)(a.extent,this.previousExtent_)&&(this.dispatchEvent(new G(U.Z.MOVEEND,this,a)),(0,y.d9)(a.extent,this.previousExtent_))}this.dispatchEvent(new G(U.Z.POSTRENDER,this,a)),this.renderComplete_=this.hasListener(U.Z.LOADSTART)||this.hasListener(U.Z.LOADEND)||this.hasListener(E.Z.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){t.postRenderTimeoutHandle_=void 0,t.handlePostRender()}),0))}},{key:"setLayerGroup",value:function(e){var t=this.getLayerGroup();t&&this.handleLayerRemove_(new A("removelayer",t)),this.set(B.Z.LAYERGROUP,e)}},{key:"setSize",value:function(e){this.set(B.Z.SIZE,e)}},{key:"setTarget",value:function(e){this.set(B.Z.TARGET,e)}},{key:"setView",value:function(e){if(!e||e instanceof H.ZP)this.set(B.Z.VIEW,e);else{this.set(B.Z.VIEW,new H.ZP);var t=this;e.then((function(e){t.setView(new H.ZP(e))}))}}},{key:"updateSize",value:function(){var e=this.getTargetElement(),t=void 0;if(e){var n=getComputedStyle(e),i=e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),r=e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(r)||(t=[i,r],!(0,Xe.py)(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&(0,Ve.ZK)("No map visible because the map container's width or height are 0."))}var a=this.getSize();!t||a&&(0,Q.fS)(t,a)||(this.setSize(t),this.updateViewportSize_())}},{key:"updateViewportSize_",value:function(){var e=this.getView();if(e){var t=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(t=[parseInt(n.width,10),parseInt(n.height,10)]),e.setViewportSize(t)}}}]),n}(h.Z);var Ke=Be},5989:function(e,t){"use strict";t.Z={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},4051:function(e,t){"use strict";t.Z={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},5957:function(e,t,n){"use strict";var i=n(7326),r=n(3144),a=n(5671),o=n(136),s=n(9388),u=n(5326),l=n(6594),h=n(5201),c=n(6006),f=n(6841),d=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,i,r){var o;return(0,a.Z)(this,n),(o=t.call(this,e)).key=i,o.oldValue=r,o}return(0,r.Z)(n)}(u.ZP),p=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).on,r.once,r.un,(0,c.sq)((0,i.Z)(r)),r.values_=null,void 0!==e&&r.setProperties(e),r}return(0,r.Z)(n,[{key:"get",value:function(e){var t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}},{key:"getKeys",value:function(){return this.values_&&Object.keys(this.values_)||[]}},{key:"getProperties",value:function(){return this.values_&&Object.assign({},this.values_)||{}}},{key:"hasProperties",value:function(){return!!this.values_}},{key:"notify",value:function(e,t){var n;n="change:".concat(e),this.hasListener(n)&&this.dispatchEvent(new d(n,e,t)),n=l.Z.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new d(n,e,t))}},{key:"addChangeListener",value:function(e,t){this.addEventListener("change:".concat(e),t)}},{key:"removeChangeListener",value:function(e,t){this.removeEventListener("change:".concat(e),t)}},{key:"set",value:function(e,t,n){var i=this.values_||(this.values_={});if(n)i[e]=t;else{var r=i[e];i[e]=t,r!==t&&this.notify(e,r)}}},{key:"setProperties",value:function(e,t){for(var n in e)this.set(n,e[n],t)}},{key:"applyProperties",value:function(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}},{key:"unset",value:function(e,t){if(this.values_&&e in this.values_){var n=this.values_[e];delete this.values_[e],(0,f.x)(this.values_)&&(this.values_=null),t||this.notify(e,n)}}}]),n}(h.Z);t.Z=p},6594:function(e,t){"use strict";t.Z={PROPERTYCHANGE:"propertychange"}},5201:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(2064),u=n(5947),l=n(923),h=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.call(this)).on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return(0,r.Z)(n,[{key:"changed",value:function(){++this.revision_,this.dispatchEvent(u.Z.CHANGE)}},{key:"getRevision",value:function(){return this.revision_}},{key:"onInternal",value:function(e,t){if(Array.isArray(e)){for(var n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=(0,l.oL)(this,e[r],t);return i}return(0,l.oL)(this,e,t)}},{key:"onceInternal",value:function(e,t){var n;if(Array.isArray(e)){var i=e.length;n=new Array(i);for(var r=0;r<i;++r)n[r]=(0,l.Vx)(this,e[r],t)}else n=(0,l.Vx)(this,e,t);return t.ol_key=n,n}},{key:"unInternal",value:function(e,t){var n=t.ol_key;if(n)!function(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)(0,l.bN)(e[t]);else(0,l.bN)(e)}(n);else if(Array.isArray(e))for(var i=0,r=e.length;i<r;++i)this.removeEventListener(e[i],t);else this.removeEventListener(e,t)}}]),n}(s.Z);h.prototype.on,h.prototype.once,h.prototype.un,t.Z=h},3143:function(e,t,n){"use strict";n.d(t,{Z:function(){return g},R:function(){return y}});var i=n(5671),r=n(3144),a=n(7326),o=n(1752),s=n(1120),u=n(136),l=n(9388),h=n(5947),c=n(6862),f=n(6841),d=1/0,p=function(){function e(t,n){(0,i.Z)(this,e),this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return(0,r.Z)(e,[{key:"clear",value:function(){this.elements_.length=0,this.priorities_.length=0,(0,f.Z)(this.queuedElements_)}},{key:"dequeue",value:function(){var e=this.elements_,t=this.priorities_,n=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n}},{key:"enqueue",value:function(e){(0,c.h)(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=d&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}},{key:"getCount",value:function(){return this.elements_.length}},{key:"getLeftChildIndex_",value:function(e){return 2*e+1}},{key:"getRightChildIndex_",value:function(e){return 2*e+2}},{key:"getParentIndex_",value:function(e){return e-1>>1}},{key:"heapify_",value:function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}},{key:"isEmpty",value:function(){return 0===this.elements_.length}},{key:"isKeyQueued",value:function(e){return e in this.queuedElements_}},{key:"isQueued",value:function(e){return this.isKeyQueued(this.keyFunction_(e))}},{key:"siftUp_",value:function(e){for(var t=this.elements_,n=this.priorities_,i=t.length,r=t[e],a=n[e],o=e;e<i>>1;){var s=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),l=u<i&&n[u]<n[s]?u:s;t[e]=t[l],n[e]=n[l],e=l}t[e]=r,n[e]=a,this.siftDown_(o,e)}},{key:"siftDown_",value:function(e,t){for(var n=this.elements_,i=this.priorities_,r=n[t],a=i[t];t>e;){var o=this.getParentIndex_(t);if(!(i[o]>a))break;n[t]=n[o],i[t]=i[o],t=o}n[t]=r,i[t]=a}},{key:"reprioritize",value:function(){var e,t,n,i=this.priorityFunction_,r=this.elements_,a=this.priorities_,o=0,s=r.length;for(t=0;t<s;++t)(n=i(e=r[t]))==d?delete this.queuedElements_[this.keyFunction_(e)]:(a[o]=n,r[o++]=e);r.length=o,a.length=o,this.heapify_()}}]),e}(),v=n(5128),g=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var o;return(0,i.Z)(this,n),(o=t.call(this,(function(t){return e.apply(null,t)}),(function(e){return e[0].getKey()}))).boundHandleTileChange_=o.handleTileChange.bind((0,a.Z)(o)),o.tileChangeCallback_=r,o.tilesLoading_=0,o.tilesLoadingKeys_={},o}return(0,r.Z)(n,[{key:"enqueue",value:function(e){var t=(0,o.Z)((0,s.Z)(n.prototype),"enqueue",this).call(this,e);t&&e[0].addEventListener(h.Z.CHANGE,this.boundHandleTileChange_);return t}},{key:"getTilesLoading",value:function(){return this.tilesLoading_}},{key:"handleTileChange",value:function(e){var t=e.target,n=t.getState();if(n===v.Z.LOADED||n===v.Z.ERROR||n===v.Z.EMPTY){n!==v.Z.ERROR&&t.removeEventListener(h.Z.CHANGE,this.boundHandleTileChange_);var i=t.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}},{key:"loadMoreTiles",value:function(e,t){for(var n,i,r=0;this.tilesLoading_<e&&r<t&&this.getCount()>0;)i=(n=this.dequeue()[0]).getKey(),n.getState()!==v.Z.IDLE||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++r,n.load())}}]),n}(p);function y(e,t,n,i,r){if(!e||!(n in e.wantedTiles))return d;if(!e.wantedTiles[n][t.getKey()])return d;var a=e.viewState.center,o=i[0]-a[0],s=i[1]-a[1];return 65536*Math.log(r)+Math.sqrt(o*o+s*s)/r}},5128:function(e,t){"use strict";t.Z={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},430:function(e,t,n){"use strict";n.d(t,{ZP:function(){return P}});var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(5957),u=n(4265),l={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},h=n(794),c=n(5172),f=n(6661),d=n(2024),p=n(6862),v=n(2357);function g(e,t,n){return function(i,r,a,o,s){if(i){if(!r&&!t)return i;var u=t?0:a[0]*r,l=t?0:a[1]*r,h=s?s[0]:0,c=s?s[1]:0,f=e[0]+u/2+h,d=e[2]-u/2+h,p=e[1]+l/2+c,g=e[3]-l/2+c;f>d&&(d=f=(d+f)/2),p>g&&(g=p=(g+p)/2);var y=(0,v.uZ)(i[0],f,d),m=(0,v.uZ)(i[1],p,g);if(o&&n&&r){var _=30*r;y+=-_*Math.log(1+Math.max(0,f-i[0])/_)+_*Math.log(1+Math.max(0,i[0]-d)/_),m+=-_*Math.log(1+Math.max(0,p-i[1])/_)+_*Math.log(1+Math.max(0,i[1]-g)/_)}return[y,m]}}}function y(e){return e}var m=n(7130),_=n(7678);function x(e,t,n,i){var r=(0,m.dz)(t)/n[0],a=(0,m.Cr)(t)/n[1];return i?Math.min(e,Math.max(r,a)):Math.min(e,Math.min(r,a))}function k(e,t,n){var i=Math.min(e,t);return i*=Math.log(1+50*Math.max(0,e/t-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/e-1))/50+1),(0,v.uZ)(i,n/2,2*t)}function b(e,t,n,i,r){return n=void 0===n||n,function(a,o,s,u){if(void 0!==a){var l=i?x(e,i,s,r):e;return n&&u?k(a,l,t):(0,v.uZ)(a,t,l)}}}var C=n(3901),w=n(9868),E=n(4057),S=0,Z=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this)).on,r.once,r.un,e=Object.assign({},e),r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=(0,c.UQ)(e.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,e.projection&&(0,c.h_)(),e.center&&(e.center=(0,c.Vs)(e.center,r.projection_)),e.extent&&(e.extent=(0,c.dY)(e.extent,r.projection_)),r.applyOptions_(e),r}return(0,r.Z)(n,[{key:"applyOptions_",value:function(e){var t=Object.assign({},e);for(var n in l)delete t[n];this.setProperties(t,!0);var i=function(e){var t,n,i,r=28,a=2,o=void 0!==e.minZoom?e.minZoom:S,s=void 0!==e.maxZoom?e.maxZoom:r,u=void 0!==e.zoomFactor?e.zoomFactor:a,l=void 0!==e.multiWorld&&e.multiWorld,f=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,d=void 0!==e.showFullExtent&&e.showFullExtent,p=(0,c.UQ)(e.projection,"EPSG:3857"),g=p.getExtent(),y=e.constrainOnlyCenter,C=e.extent;l||C||!p.isGlobal()||(y=!1,C=g);if(void 0!==e.resolutions){var w=e.resolutions;n=w[o],i=void 0!==w[s]?w[s]:w[w.length-1],t=e.constrainResolution?function(e,t,n,i){return t=void 0===t||t,function(r,a,o,s){if(void 0!==r){var u=e[0],l=e[e.length-1],h=n?x(u,n,o,i):u;if(s)return t?k(r,h,l):(0,v.uZ)(r,l,h);var c=Math.min(h,r),f=Math.floor((0,_.h7)(e,c,a));return e[f]>h&&f<e.length-1?e[f+1]:e[f]}}}(w,f,!y&&C,d):b(n,i,f,!y&&C,d)}else{var E=(g?Math.max((0,m.dz)(g),(0,m.Cr)(g)):360*c.Wm.degrees/p.getMetersPerUnit())/h.S/Math.pow(a,S),Z=E/Math.pow(a,r-S);void 0!==(n=e.maxResolution)?o=0:n=E/Math.pow(u,o),void 0===(i=e.minResolution)&&(i=void 0!==e.maxZoom?void 0!==e.maxResolution?n/Math.pow(u,s):E/Math.pow(u,s):Z),s=o+Math.floor(Math.log(n/i)/Math.log(u)),i=n/Math.pow(u,s-o),t=e.constrainResolution?function(e,t,n,i,r,a){return i=void 0===i||i,n=void 0!==n?n:0,function(o,s,u,l){if(void 0!==o){var h=r?x(t,r,u,a):t;if(l)return i?k(o,h,n):(0,v.uZ)(o,n,h);var c=Math.ceil(Math.log(t/h)/Math.log(e)-1e-9),f=-s*(.5-1e-9)+.5,d=Math.min(h,o),p=Math.floor(Math.log(t/d)/Math.log(e)+f),g=Math.max(c,p),y=t/Math.pow(e,g);return(0,v.uZ)(y,n,h)}}}(u,n,i,f,!y&&C,d):b(n,i,f,!y&&C,d)}return{constraint:t,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:u}}(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;var r=function(e){if(void 0!==e.extent){var t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return g(e.extent,e.constrainOnlyCenter,t)}var n=(0,c.UQ)(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&n.isGlobal()){var i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,g(i,!1,!1)}return y}(e),a=i.constraint,o=function(e){var t=void 0===e.enableRotation||e.enableRotation;if(t){var n=e.constrainRotation;return void 0===n||!0===n?(0,C.Gw)():!1===n?C.YP:"number"===typeof n?(0,C.gE)(n):C.YP}return C.h$}(e);this.constraints_={center:r,resolution:a,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}},{key:"padding",get:function(){return this.padding_},set:function(e){var t=this.padding_;this.padding_=e;var n=this.getCenter();if(n){var i=e||[0,0,0,0];t=t||[0,0,0,0];var r=this.getResolution(),a=r/2*(i[3]-t[3]+t[1]-i[1]),o=r/2*(i[0]-t[0]+t[2]-i[2]);this.setCenterInternal([n[0]+a,n[1]-o])}}},{key:"getUpdatedOptions_",value:function(e){var t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}},{key:"animate",value:function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),n=0;n<t.length;++n){var i=arguments[n];i.center&&((i=Object.assign({},i)).center=(0,c.Vs)(i.center,this.getProjection())),i.anchor&&((i=Object.assign({},i)).anchor=(0,c.Vs)(i.anchor,this.getProjection())),t[n]=i}this.animateInternal.apply(this,t)}},{key:"animateInternal",value:function(e){var t,n=arguments.length;n>1&&"function"===typeof arguments[n-1]&&(t=arguments[n-1],--n);for(var i=0;i<n&&!this.isDef();++i){var r=arguments[i];r.center&&this.setCenterInternal(r.center),void 0!==r.zoom?this.setZoom(r.zoom):r.resolution&&this.setResolution(r.resolution),void 0!==r.rotation&&this.setRotation(r.rotation)}if(i!==n){for(var a=Date.now(),o=this.targetCenter_.slice(),s=this.targetResolution_,l=this.targetRotation_,h=[];i<n;++i){var c=arguments[i],f={start:a,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||w.rd,callback:t};if(c.center&&(f.sourceCenter=o,f.targetCenter=c.center.slice(),o=f.targetCenter),void 0!==c.zoom?(f.sourceResolution=s,f.targetResolution=this.getResolutionForZoom(c.zoom),s=f.targetResolution):c.resolution&&(f.sourceResolution=s,f.targetResolution=c.resolution,s=f.targetResolution),void 0!==c.rotation){f.sourceRotation=l;var d=(0,v.$W)(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=l+d,l=f.targetRotation}R(f)?f.complete=!0:a+=f.duration,h.push(f)}this.animations_.push(h),this.setHint(u.Z.ANIMATING,1),this.updateAnimations_()}else t&&T(t,!0)}},{key:"getAnimating",value:function(){return this.hints_[u.Z.ANIMATING]>0}},{key:"getInteracting",value:function(){return this.hints_[u.Z.INTERACTING]>0}},{key:"cancelAnimations",value:function(){var e;this.setHint(u.Z.ANIMATING,-this.hints_[u.Z.ANIMATING]);for(var t=0,n=this.animations_.length;t<n;++t){var i=this.animations_[t];if(i[0].callback&&T(i[0].callback,!1),!e)for(var r=0,a=i.length;r<a;++r){var o=i[r];if(!o.complete){e=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}},{key:"updateAnimations_",value:function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,a=0,o=i.length;a<o;++a){var s=i[a];if(!s.complete){var l=e-s.start,h=s.duration>0?l/s.duration:1;h>=1?(s.complete=!0,h=1):r=!1;var c=s.easing(h);if(s.sourceCenter){var f=s.sourceCenter[0],d=s.sourceCenter[1],p=s.targetCenter[0],g=s.targetCenter[1];this.nextCenter_=s.targetCenter;var y=f+c*(p-f),m=d+c*(g-d);this.targetCenter_=[y,m]}if(s.sourceResolution&&s.targetResolution){var _=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var x=this.getViewportSize_(this.getRotation()),k=this.constraints_.resolution(_,0,x,!0);this.targetCenter_=this.calculateCenterZoom(k,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=_,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var b=1===c?(0,v.$W)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var C=this.constraints_.rotation(b,!0);this.targetCenter_=this.calculateCenterRotate(C,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=b}if(this.applyTargetState_(!0),t=!0,!s.complete)break}}if(r){this.animations_[n]=null,this.setHint(u.Z.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var w=i[0].callback;w&&T(w,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}},{key:"calculateCenterRotate",value:function(e,t){var n,i=this.getCenterInternal();return void 0!==i&&(n=[i[0]-t[0],i[1]-t[1]],(0,d.U1)(n,e-this.getRotation()),(0,d.IH)(n,t)),n}},{key:"calculateCenterZoom",value:function(e,t){var n,i=this.getCenterInternal(),r=this.getResolution();void 0!==i&&void 0!==r&&(n=[t[0]-e*(t[0]-i[0])/r,t[1]-e*(t[1]-i[1])/r]);return n}},{key:"getViewportSize_",value:function(e){var t=this.viewportSize_;if(e){var n=t[0],i=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(i*Math.cos(e))]}return t}},{key:"setViewportSize",value:function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}},{key:"getCenter",value:function(){var e=this.getCenterInternal();return e?(0,c.lO)(e,this.getProjection()):e}},{key:"getCenterInternal",value:function(){return this.get(l.CENTER)}},{key:"getConstraints",value:function(){return this.constraints_}},{key:"getConstrainResolution",value:function(){return this.get("constrainResolution")}},{key:"getHints",value:function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}},{key:"calculateExtent",value:function(e){var t=this.calculateExtentInternal(e);return(0,c.Fj)(t,this.getProjection())}},{key:"calculateExtentInternal",value:function(e){e=e||this.getViewportSizeMinusPadding_();var t=this.getCenterInternal();(0,p.h)(t,1);var n=this.getResolution();(0,p.h)(void 0!==n,2);var i=this.getRotation();return(0,p.h)(void 0!==i,3),(0,m.p8)(t,n,i,e)}},{key:"getMaxResolution",value:function(){return this.maxResolution_}},{key:"getMinResolution",value:function(){return this.minResolution_}},{key:"getMaxZoom",value:function(){return this.getZoomForResolution(this.minResolution_)}},{key:"setMaxZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}},{key:"getMinZoom",value:function(){return this.getZoomForResolution(this.maxResolution_)}},{key:"setMinZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}},{key:"setConstrainResolution",value:function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}},{key:"getProjection",value:function(){return this.projection_}},{key:"getResolution",value:function(){return this.get(l.RESOLUTION)}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getResolutionForExtent",value:function(e,t){return this.getResolutionForExtentInternal((0,c.dY)(e,this.getProjection()),t)}},{key:"getResolutionForExtentInternal",value:function(e,t){t=t||this.getViewportSizeMinusPadding_();var n=(0,m.dz)(e)/t[0],i=(0,m.Cr)(e)/t[1];return Math.max(n,i)}},{key:"getResolutionForValueFunction",value:function(e){e=e||2;var t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(t/n)/Math.log(e);return function(n){return t/Math.pow(e,n*i)}}},{key:"getRotation",value:function(){return this.get(l.ROTATION)}},{key:"getValueForResolutionFunction",value:function(e){var t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/t;return function(e){return Math.log(n/e)/t/r}}},{key:"getViewportSizeMinusPadding_",value:function(e){var t=this.getViewportSize_(e),n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}},{key:"getState",value:function(){var e=this.getProjection(),t=this.getResolution(),n=this.getRotation(),i=this.getCenterInternal(),r=this.padding_;if(r){var a=this.getViewportSizeMinusPadding_();i=I(i,this.getViewportSize_(),[a[0]/2+r[3],a[1]/2+r[0]],t,n)}return{center:i.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}},{key:"getZoom",value:function(){var e,t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}},{key:"getZoomForResolution",value:function(e){var t,n,i=this.minZoom_||0;if(this.resolutions_){var r=(0,_.h7)(this.resolutions_,e,1);i=r,t=this.resolutions_[r],n=r==this.resolutions_.length-1?2:t/this.resolutions_[r+1]}else t=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(t/e)/Math.log(n)}},{key:"getResolutionForZoom",value:function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var t=(0,v.uZ)(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(n,(0,v.uZ)(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}},{key:"fit",value:function(e,t){var n;if((0,p.h)(Array.isArray(e)||"function"===typeof e.getSimplifiedGeometry,24),Array.isArray(e)){(0,p.h)(!(0,m.xb)(e),25);var i=(0,c.dY)(e,this.getProjection());n=(0,E.oJ)(i)}else if("Circle"===e.getType()){var r=(0,c.dY)(e.getExtent(),this.getProjection());(n=(0,E.oJ)(r)).rotate(this.getRotation(),(0,m.qg)(r))}else{var a=(0,c.Cs)();n=a?e.clone().transform(a,this.getProjection()):e}this.fitInternal(n,t)}},{key:"rotatedExtentForGeometry",value:function(e){for(var t=this.getRotation(),n=Math.cos(t),i=Math.sin(-t),r=e.getFlatCoordinates(),a=e.getStride(),o=1/0,s=1/0,u=-1/0,l=-1/0,h=0,c=r.length;h<c;h+=a){var f=r[h]*n-r[h+1]*i,d=r[h]*i+r[h+1]*n;o=Math.min(o,f),s=Math.min(s,d),u=Math.max(u,f),l=Math.max(l,d)}return[o,s,u,l]}},{key:"fitInternal",value:function(e,t){var n=(t=t||{}).size;n||(n=this.getViewportSizeMinusPadding_());var i,r=void 0!==t.padding?t.padding:[0,0,0,0],a=void 0!==t.nearest&&t.nearest;i=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;var o=this.rotatedExtentForGeometry(e),s=this.getResolutionForExtentInternal(o,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);s=isNaN(s)?i:Math.max(s,i),s=this.getConstrainedResolution(s,a?0:1);var u=this.getRotation(),l=Math.sin(u),h=Math.cos(u),c=(0,m.qg)(o);c[0]+=(r[1]-r[3])/2*s,c[1]+=(r[0]-r[2])/2*s;var d=c[0]*h-c[1]*l,p=c[1]*h+c[0]*l,v=this.getConstrainedCenter([d,p],s),g=t.callback?t.callback:f.Zn;void 0!==t.duration?this.animateInternal({resolution:s,center:v,duration:t.duration,easing:t.easing},g):(this.targetResolution_=s,this.targetCenter_=v,this.applyTargetState_(!1,!0),T(g,!0))}},{key:"centerOn",value:function(e,t,n){this.centerOnInternal((0,c.Vs)(e,this.getProjection()),t,n)}},{key:"centerOnInternal",value:function(e,t,n){this.setCenterInternal(I(e,t,n,this.getResolution(),this.getRotation()))}},{key:"calculateCenterShift",value:function(e,t,n,i){var r,a=this.padding_;if(a&&e){var o=this.getViewportSizeMinusPadding_(-n),s=I(e,i,[o[0]/2+a[3],o[1]/2+a[0]],t,n);r=[e[0]-s[0],e[1]-s[1]]}return r}},{key:"isDef",value:function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}},{key:"adjustCenter",value:function(e){var t=(0,c.lO)(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}},{key:"adjustCenterInternal",value:function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}},{key:"adjustResolution",value:function(e,t){t=t&&(0,c.Vs)(t,this.getProjection()),this.adjustResolutionInternal(e,t)}},{key:"adjustResolutionInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,i,n);t&&(this.targetCenter_=this.calculateCenterZoom(r,t)),this.targetResolution_*=e,this.applyTargetState_()}},{key:"adjustZoom",value:function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}},{key:"adjustRotation",value:function(e,t){t&&(t=(0,c.Vs)(t,this.getProjection())),this.adjustRotationInternal(e,t)}},{key:"adjustRotationInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(i,t)),this.targetRotation_+=e,this.applyTargetState_()}},{key:"setCenter",value:function(e){this.setCenterInternal(e?(0,c.Vs)(e,this.getProjection()):e)}},{key:"setCenterInternal",value:function(e){this.targetCenter_=e,this.applyTargetState_()}},{key:"setHint",value:function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}},{key:"setResolution",value:function(e){this.targetResolution_=e,this.applyTargetState_()}},{key:"setRotation",value:function(e){this.targetRotation_=e,this.applyTargetState_()}},{key:"setZoom",value:function(e){this.setResolution(this.getResolutionForZoom(e))}},{key:"applyTargetState_",value:function(e,t){var n=this.getAnimating()||this.getInteracting()||t,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),a=this.constraints_.resolution(this.targetResolution_,0,r,n),o=this.constraints_.center(this.targetCenter_,a,r,n,this.calculateCenterShift(this.targetCenter_,a,i,r));this.get(l.ROTATION)!==i&&this.set(l.ROTATION,i),this.get(l.RESOLUTION)!==a&&(this.set(l.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),o&&this.get(l.CENTER)&&(0,d.fS)(this.get(l.CENTER),o)||this.set(l.CENTER,o),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}},{key:"resolveConstraints",value:function(e,t,n){e=void 0!==e?e:200;var i=t||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,i,a),s=this.constraints_.center(this.targetCenter_,o,a,!1,this.calculateCenterShift(this.targetCenter_,o,r,a));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=o,this.targetRotation_=r,this.targetCenter_=s,void this.applyTargetState_();n=n||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===o&&this.getRotation()===r&&this.getCenterInternal()&&(0,d.fS)(this.getCenterInternal(),s)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:s,resolution:o,duration:e,easing:w.Vv,anchor:n}))}},{key:"beginInteraction",value:function(){this.resolveConstraints(0),this.setHint(u.Z.INTERACTING,1)}},{key:"endInteraction",value:function(e,t,n){n=n&&(0,c.Vs)(n,this.getProjection()),this.endInteractionInternal(e,t,n)}},{key:"endInteractionInternal",value:function(e,t,n){this.setHint(u.Z.INTERACTING,-1),this.resolveConstraints(e,t,n)}},{key:"getConstrainedCenter",value:function(e,t){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}},{key:"getConstrainedZoom",value:function(e,t){var n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}},{key:"getConstrainedResolution",value:function(e,t){t=t||0;var n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}]),n}(s.Z);function T(e,t){setTimeout((function(){e(t)}),0)}function R(e){return!(e.sourceCenter&&e.targetCenter&&!(0,d.fS)(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}function I(e,t,n,i,r){var a=Math.cos(-r),o=Math.sin(-r),s=e[0]*a-e[1]*o,u=e[1]*a+e[0]*o;return[(s+=(t[0]/2-n[0])*i)*a-(u+=(n[1]-t[1]/2)*i)*(o=-o),u*a+s*o]}var P=Z},4265:function(e,t){"use strict";t.Z={ANIMATING:0,INTERACTING:1}},7678:function(e,t,n){"use strict";function i(e,t,n){var i,a;n=n||r;for(var o=0,s=e.length,u=!1;o<s;)(a=+n(e[i=o+(s-o>>1)],t))<0?o=i+1:(s=i,u=!a);return u?o:~o}function r(e,t){return e>t?1:e<t?-1:0}function a(e,t,n){var i,r=e.length;if(e[0]<=t)return 0;if(t<=e[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(e[i]<t)return i-1}else if(n<0){for(i=1;i<r;++i)if(e[i]<=t)return i}else for(i=1;i<r;++i){if(e[i]==t)return i;if(e[i]<t)return"function"===typeof n?n(t,e[i-1],e[i])>0?i-1:i:e[i-1]-t<t-e[i]?i-1:i}return r-1}function o(e,t,n){for(;t<n;){var i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function s(e,t){for(var n=Array.isArray(t)?t:[t],i=n.length,r=0;r<i;r++)e[e.length]=n[r]}function u(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function l(e,t,n){var i=t||r;return e.every((function(t,r){if(0===r)return!0;var a=i(e[r-1],t);return!(a>0||n&&0===a)}))}n.d(t,{FZ:function(){return o},fS:function(){return u},h7:function(){return a},j2:function(){return r},l7:function(){return s},pT:function(){return l},ry:function(){return i}})},6862:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var i=n(8338);function r(e,t){if(!e)throw new i.Z(t)}},6838:function(e,t,n){"use strict";n.d(t,{BB:function(){return f},XC:function(){return s},_2:function(){return h}});var i=n(6862),r=n(2357),a=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,o=/^([a-z]*)$|^hsla?\(.*\)$/i;function s(e){return"string"===typeof e?e:f(e)}function u(e){var t=document.createElement("div");if(t.style.color=e,""!==t.style.color){document.body.appendChild(t);var n=getComputedStyle(t).color;return document.body.removeChild(t),n}return""}var l=function(){var e={},t=0;return function(n){var r;if(e.hasOwnProperty(n))r=e[n];else{if(t>=1024){var s=0;for(var l in e)0===(3&s++)&&(delete e[l],--t)}r=function(e){var t,n,r,s,l;o.exec(e)&&(e=u(e));if(a.exec(e)){var h,f=e.length-1;h=f<=4?1:2;var d=4===f||8===f;t=parseInt(e.substr(1+0*h,h),16),n=parseInt(e.substr(1+1*h,h),16),r=parseInt(e.substr(1+2*h,h),16),s=d?parseInt(e.substr(1+3*h,h),16):255,1==h&&(t=(t<<4)+t,n=(n<<4)+n,r=(r<<4)+r,d&&(s=(s<<4)+s)),l=[t,n,r,s/255]}else e.startsWith("rgba(")?c(l=e.slice(5,-1).split(",").map(Number)):e.startsWith("rgb(")?((l=e.slice(4,-1).split(",").map(Number)).push(1),c(l)):(0,i.h)(!1,14);return l}(n),e[n]=r,++t}return r}}();function h(e){return Array.isArray(e)?e:l(e)}function c(e){return e[0]=(0,r.uZ)(e[0]+.5|0,0,255),e[1]=(0,r.uZ)(e[1]+.5|0,0,255),e[2]=(0,r.uZ)(e[2]+.5|0,0,255),e[3]=(0,r.uZ)(e[3],0,1),e}function f(e){var t=e[0];t!=(0|t)&&(t=t+.5|0);var n=e[1];n!=(0|n)&&(n=n+.5|0);var i=e[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+t+","+n+","+i+","+(void 0===e[3]?1:Math.round(100*e[3])/100)+")"}},1679:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});var i=n(6838);function r(e){return Array.isArray(e)?(0,i.BB)(e):e}},9972:function(e,t,n){"use strict";n.d(t,{ZK:function(){return a}});var i={info:1,warn:2,error:3,none:4},r=i.info;function a(){var e;r>i.warn||(e=console).warn.apply(e,arguments)}},5742:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(1752),o=n(1120),s=n(136),u=n(9388),l=n(5957),h=n(5989),c=n(6661),f=n(923),d=n(1408),p=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;(0,i.Z)(this,n),r=t.call(this);var a=e.element;return!a||e.target||a.style.pointerEvents||(a.style.pointerEvents="auto"),r.element=a||null,r.target_=null,r.map_=null,r.listenerKeys=[],e.render&&(r.render=e.render),e.target&&r.setTarget(e.target),r}return(0,r.Z)(n,[{key:"disposeInternal",value:function(){(0,d.ZF)(this.element),(0,a.Z)((0,o.Z)(n.prototype),"disposeInternal",this).call(this)}},{key:"getMap",value:function(){return this.map_}},{key:"setMap",value:function(e){this.map_&&(0,d.ZF)(this.element);for(var t=0,n=this.listenerKeys.length;t<n;++t)(0,f.bN)(this.listenerKeys[t]);(this.listenerKeys.length=0,this.map_=e,e)&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==c.Zn&&this.listenerKeys.push((0,f.oL)(e,h.Z.POSTRENDER,this.render,this)),e.render())}},{key:"render",value:function(e){}},{key:"setTarget",value:function(e){this.target_="string"===typeof e?document.getElementById(e):e}}]),n}(l.Z);t.Z=p},1080:function(e,t,n){"use strict";var i=n(3433),r=n(5671),a=n(3144),o=n(7326),s=n(1752),u=n(1120),l=n(136),h=n(9388),c=n(5742),f=n(5947),d=n(4051),p=n(9148),v=n(923),g=n(1408),y=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],m="enterfullscreen",_="leavefullscreen",x=function(e){(0,l.Z)(n,e);var t=(0,h.Z)(n);function n(e){var i;(0,r.Z)(this,n),e=e||{},(i=t.call(this,{element:document.createElement("div"),target:e.target})).on,i.once,i.un,i.keys_=void 0!==e.keys&&e.keys,i.source_=e.source,i.isInFullscreen_=!1,i.boundHandleMapTargetChange_=i.handleMapTargetChange_.bind((0,o.Z)(i)),i.cssClassName_=void 0!==e.className?e.className:"ol-full-screen",i.documentListeners_=[],i.activeClassName_=void 0!==e.activeClassName?e.activeClassName.split(" "):[i.cssClassName_+"-true"],i.inactiveClassName_=void 0!==e.inactiveClassName?e.inactiveClassName.split(" "):[i.cssClassName_+"-false"];var a=void 0!==e.label?e.label:"\u2922";i.labelNode_="string"===typeof a?document.createTextNode(a):a;var s=void 0!==e.labelActive?e.labelActive:"\xd7";i.labelActiveNode_="string"===typeof s?document.createTextNode(s):s;var u=e.tipLabel?e.tipLabel:"Toggle full-screen";return i.button_=document.createElement("button"),i.button_.title=u,i.button_.setAttribute("type","button"),i.button_.appendChild(i.labelNode_),i.button_.addEventListener(f.Z.CLICK,i.handleClick_.bind((0,o.Z)(i)),!1),i.setClassName_(i.button_,i.isInFullscreen_),i.element.className="".concat(i.cssClassName_," ").concat(p.XV," ").concat(p.hg),i.element.appendChild(i.button_),i}return(0,a.Z)(n,[{key:"handleClick_",value:function(e){e.preventDefault(),this.handleFullScreen_()}},{key:"handleFullScreen_",value:function(){var e=this.getMap();if(e){var t,n=e.getOwnerDocument();if(k(n))if(b(n))!function(e){e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}(n);else t=this.source_?"string"===typeof this.source_?n.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function(e){e.webkitRequestFullscreen?e.webkitRequestFullscreen():C(e)}(t):C(t)}}},{key:"handleFullScreenChange_",value:function(){var e=this.getMap();if(e){var t=this.isInFullscreen_;this.isInFullscreen_=b(e.getOwnerDocument()),t!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?((0,g.$H)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(m)):((0,g.$H)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(_)),e.updateSize())}}},{key:"setClassName_",value:function(e,t){var n,r,a,o;t?((n=e.classList).remove.apply(n,(0,i.Z)(this.inactiveClassName_)),(r=e.classList).add.apply(r,(0,i.Z)(this.activeClassName_))):((a=e.classList).remove.apply(a,(0,i.Z)(this.activeClassName_)),(o=e.classList).add.apply(o,(0,i.Z)(this.inactiveClassName_)))}},{key:"setMap",value:function(e){var t=this.getMap();t&&t.removeChangeListener(d.Z.TARGET,this.boundHandleMapTargetChange_),(0,s.Z)((0,u.Z)(n.prototype),"setMap",this).call(this,e),this.handleMapTargetChange_(),e&&e.addChangeListener(d.Z.TARGET,this.boundHandleMapTargetChange_)}},{key:"handleMapTargetChange_",value:function(){for(var e=this.documentListeners_,t=0,n=e.length;t<n;++t)(0,v.bN)(e[t]);e.length=0;var i=this.getMap();if(i){var r=i.getOwnerDocument();k(r)?this.element.classList.remove(p.Qi):this.element.classList.add(p.Qi);for(var a=0,o=y.length;a<o;++a)e.push((0,v.oL)(r,y[a],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}}]),n}(c.Z);function k(e){var t=e.body;return!!(t.webkitRequestFullscreen||t.requestFullscreen&&e.fullscreenEnabled)}function b(e){return!(!e.webkitIsFullScreen&&!e.fullscreenElement)}function C(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}t.Z=x},4465:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(7326),o=n(136),s=n(9388),u=n(5742),l=n(5947),h=n(9148),c=n(9868),f=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;(0,i.Z)(this,n),e=e||{},r=t.call(this,{element:document.createElement("div"),target:e.target});var o=void 0!==e.className?e.className:"ol-zoom",s=void 0!==e.delta?e.delta:1,u=void 0!==e.zoomInClassName?e.zoomInClassName:o+"-in",c=void 0!==e.zoomOutClassName?e.zoomOutClassName:o+"-out",f=void 0!==e.zoomInLabel?e.zoomInLabel:"+",d=void 0!==e.zoomOutLabel?e.zoomOutLabel:"\u2013",p=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",v=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",g=document.createElement("button");g.className=u,g.setAttribute("type","button"),g.title=p,g.appendChild("string"===typeof f?document.createTextNode(f):f),g.addEventListener(l.Z.CLICK,r.handleClick_.bind((0,a.Z)(r),s),!1);var y=document.createElement("button");y.className=c,y.setAttribute("type","button"),y.title=v,y.appendChild("string"===typeof d?document.createTextNode(d):d),y.addEventListener(l.Z.CLICK,r.handleClick_.bind((0,a.Z)(r),-s),!1);var m=o+" "+h.XV+" "+h.hg,_=r.element;return _.className=m,_.appendChild(g),_.appendChild(y),r.duration_=void 0!==e.duration?e.duration:250,r}return(0,r.Z)(n,[{key:"handleClick_",value:function(e,t){t.preventDefault(),this.zoomByDelta_(e)}},{key:"zoomByDelta_",value:function(e){var t=this.getMap().getView();if(t){var n=t.getZoom();if(void 0!==n){var i=t.getConstrainedZoom(n+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:i,duration:this.duration_,easing:c.Vv})):t.setZoom(i)}}}}]),n}(u.Z);t.Z=f},2024:function(e,t,n){"use strict";n.d(t,{Cf:function(){return u},IH:function(){return r},U1:function(){return o},bA:function(){return s},fS:function(){return a}});var i=n(7130);function r(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function a(e,t){for(var n=!0,i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function o(e,t){var n=Math.cos(t),i=Math.sin(t),r=e[0]*n-e[1]*i,a=e[1]*n+e[0]*i;return e[0]=r,e[1]=a,e}function s(e,t){return e[0]*=t,e[1]*=t,e}function u(e,t){if(t.canWrapX()){var n=(0,i.dz)(t.getExtent()),r=function(e,t,n){var r=t.getExtent(),a=0;t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])&&(n=n||(0,i.dz)(r),a=Math.floor((e[0]-r[0])/n));return a}(e,t,n);r&&(e[0]-=r*n)}return e}},9148:function(e,t,n){"use strict";n.d(t,{Qi:function(){return a},XV:function(){return r},hN:function(){return s},hg:function(){return o},oj:function(){return i},p:function(){return h}});var i="ol-hidden",r="ol-unselectable",a="ol-unsupported",o="ol-control",s="ol-collapsed",u=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),l=["style","variant","weight","size","lineHeight","family"],h=function(e){var t=e.match(u);if(!t)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,r=l.length;i<r;++i){var a=t[i+1];void 0!==a&&(n[l[i]]=a)}return n.families=n.family.split(/,\s?/),n}},1408:function(e,t,n){"use strict";n.d(t,{$H:function(){return o},E4:function(){return r},ZF:function(){return s},ep:function(){return u},hF:function(){return l},jy:function(){return a}});var i=n(7288);function r(e,t,n,r){var a;return a=n&&n.length?n.shift():i.Id?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(a.width=e),t&&(a.height=t),a.getContext("2d",r)}function a(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function o(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)}function s(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function u(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function l(e,t){for(var n=e.childNodes,i=0;;++i){var r=n[i],a=t[i];if(!r&&!a)break;r!==a&&(r?a?e.insertBefore(a,r):(e.removeChild(r),--i):e.appendChild(a))}}},9868:function(e,t,n){"use strict";function i(e){return Math.pow(e,3)}function r(e){return 1-i(1-e)}function a(e){return 3*e*e-2*e*e*e}function o(e){return e}n.d(t,{GE:function(){return o},Vv:function(){return r},YQ:function(){return i},rd:function(){return a}})},923:function(e,t,n){"use strict";n.d(t,{Vx:function(){return a},bN:function(){return o},oL:function(){return r}});var i=n(6841);function r(e,t,n,i,r){if(i&&i!==e&&(n=n.bind(i)),r){var a=n;n=function(){e.removeEventListener(t,n),a.apply(this,arguments)}}var o={target:e,type:t,listener:n};return e.addEventListener(t,n),o}function a(e,t,n,i){return r(e,t,n,i,!0)}function o(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),(0,i.Z)(e))}},5326:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=function(){function e(t){(0,i.Z)(this,e),this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return(0,r.Z)(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),e}();t.ZP=a},5947:function(e,t){"use strict";t.Z={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},2064:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(5414),u=n(5326),l=n(6661),h=n(6841),c=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this)).eventTarget_=e,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return(0,r.Z)(n,[{key:"addEventListener",value:function(e,t){if(e&&t){var n=this.listeners_||(this.listeners_={}),i=n[e]||(n[e]=[]);i.includes(t)||i.push(t)}}},{key:"dispatchEvent",value:function(e){var t="string"===typeof e,n=t?e:e.type,i=this.listeners_&&this.listeners_[n];if(i){var r=t?new u.ZP(e):e;r.target||(r.target=this.eventTarget_||this);var a,o=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});n in o||(o[n]=0,s[n]=0),++o[n];for(var h=0,c=i.length;h<c;++h)if(!1===(a="handleEvent"in i[h]?i[h].handleEvent(r):i[h].call(this,r))||r.propagationStopped){a=!1;break}if(0===--o[n]){var f=s[n];for(delete s[n];f--;)this.removeEventListener(n,l.Zn);delete o[n]}return a}}},{key:"disposeInternal",value:function(){this.listeners_&&(0,h.Z)(this.listeners_)}},{key:"getListeners",value:function(e){return this.listeners_&&this.listeners_[e]||void 0}},{key:"hasListener",value:function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}},{key:"removeEventListener",value:function(e,t){var n=this.listeners_&&this.listeners_[e];if(n){var i=n.indexOf(t);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[i]=l.Zn,++this.pendingRemovals_[e]):(n.splice(i,1),0===n.length&&delete this.listeners_[e]))}}}]),n}(s.Z);t.Z=c},7130:function(e,t,n){"use strict";n.d(t,{Cf:function(){return q},Cr:function(){return M},EO:function(){return N},Ed:function(){return O},GN:function(){return m},H6:function(){return w},HK:function(){return y},I7:function(){return G},MV:function(){return W},Ne:function(){return j},T9:function(){return v},Wj:function(){return k},Xv:function(){return L},YN:function(){return g},b8:function(){return h},bg:function(){return E},d9:function(){return u},dY:function(){return P},dz:function(){return A},f3:function(){return s},fS:function(){return _},g0:function(){return R},hC:function(){return S},hI:function(){return o},jE:function(){return f},kK:function(){return D},l7:function(){return x},lJ:function(){return p},p8:function(){return I},pX:function(){return d},qP:function(){return b},qf:function(){return l},qg:function(){return T},r4:function(){return c},rL:function(){return F},w$:function(){return Z},xb:function(){return z}});var i=n(9439),r=n(5909),a=n(6862);function o(e){for(var t=p(),n=0,i=e.length;n<i;++n)k(t,e[n]);return t}function s(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function u(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function l(e,t,n){var i,r;return(i=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*i+(r=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0)*r}function h(e,t){return f(e,t[0],t[1])}function c(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function f(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function d(e,t){var n=e[0],i=e[1],a=e[2],o=e[3],s=t[0],u=t[1],l=r.Z.UNKNOWN;return s<n?l|=r.Z.LEFT:s>a&&(l|=r.Z.RIGHT),u<i?l|=r.Z.BELOW:u>o&&(l|=r.Z.ABOVE),l===r.Z.UNKNOWN&&(l=r.Z.INTERSECTING),l}function p(){return[1/0,1/0,-1/0,-1/0]}function v(e,t,n,i,r){return r?(r[0]=e,r[1]=t,r[2]=n,r[3]=i,r):[e,t,n,i]}function g(e){return v(1/0,1/0,-1/0,-1/0,e)}function y(e,t){var n=e[0],i=e[1];return v(n,i,n,i,t)}function m(e,t,n,i,r){return b(g(r),e,t,n,i)}function _(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function x(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function k(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function b(e,t,n,i,r){for(;n<i;n+=r)C(e,t[n],t[n+1]);return e}function C(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function w(e,t){var n;return(n=t(S(e)))||(n=t(Z(e)))||(n=t(L(e)))?n:(n=t(F(e)))||!1}function E(e){var t=0;return z(e)||(t=A(e)*M(e)),t}function S(e){return[e[0],e[1]]}function Z(e){return[e[2],e[1]]}function T(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function R(e,t){var n;return"bottom-left"===t?n=S(e):"bottom-right"===t?n=Z(e):"top-left"===t?n=F(e):"top-right"===t?n=L(e):(0,a.h)(!1,13),n}function I(e,t,n,r,a){var o=P(e,t,n,r),s=(0,i.Z)(o,8),u=s[0],l=s[1],h=s[2],c=s[3],f=s[4],d=s[5],p=s[6],g=s[7];return v(Math.min(u,h,f,p),Math.min(l,c,d,g),Math.max(u,h,f,p),Math.max(l,c,d,g),a)}function P(e,t,n,i){var r=t*i[0]/2,a=t*i[1]/2,o=Math.cos(n),s=Math.sin(n),u=r*o,l=r*s,h=a*o,c=a*s,f=e[0],d=e[1];return[f-u+c,d-l-h,f-u-c,d-l+h,f+u-c,d+l+h,f+u+c,d+l-h,f-u+c,d-l-h]}function M(e){return e[3]-e[1]}function O(e,t,n){var i=n||[1/0,1/0,-1/0,-1/0];return D(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):g(i),i}function F(e){return[e[0],e[3]]}function L(e){return[e[2],e[3]]}function A(e){return e[2]-e[0]}function D(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function z(e){return e[2]<e[0]||e[3]<e[1]}function N(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function G(e,t,n){var i=!1,a=d(e,t),o=d(e,n);if(a===r.Z.INTERSECTING||o===r.Z.INTERSECTING)i=!0;else{var s,u,l=e[0],h=e[1],c=e[2],f=e[3],p=t[0],v=t[1],g=n[0],y=n[1],m=(y-v)/(g-p);o&r.Z.ABOVE&&!(a&r.Z.ABOVE)&&(i=(s=g-(y-f)/m)>=l&&s<=c),i||!(o&r.Z.RIGHT)||a&r.Z.RIGHT||(i=(u=y-(g-c)*m)>=h&&u<=f),i||!(o&r.Z.BELOW)||a&r.Z.BELOW||(i=(s=g-(y-h)/m)>=l&&s<=c),i||!(o&r.Z.LEFT)||a&r.Z.LEFT||(i=(u=y-(g-l)*m)>=h&&u<=f)}return i}function j(e,t,n,i){var r=[];if(i>1)for(var a=e[2]-e[0],o=e[3]-e[1],s=0;s<i;++s)r.push(e[0]+a*s/i,e[1],e[2],e[1]+o*s/i,e[2]-a*s/i,e[3],e[0],e[3]-o*s/i);else r=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(r,r,2);for(var u=[],l=[],h=0,c=r.length;h<c;h+=2)u.push(r[h]),l.push(r[h+1]);return function(e,t,n){return v(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),n)}(u,l,n)}function q(e,t){var n=t.getExtent(),i=T(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){var r=A(n),a=Math.floor((i[0]-n[0])/r)*r;e[0]-=a,e[2]-=a}return e}function W(e,t){if(t.canWrapX()){var n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];q(e,t);var i=A(n);if(A(e)>i)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+i,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-i,e[3]]]}return[e]}},5909:function(e,t){"use strict";t.Z={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},3281:function(e,t,n){"use strict";n.d(t,{Be:function(){return o},ov:function(){return a}});var i=n(6661),r=!1;function a(e,t,n,i,a,o,s){var u=new XMLHttpRequest;u.open("GET","function"===typeof e?e(n,i,a):e,!0),"arraybuffer"==t.getType()&&(u.responseType="arraybuffer"),u.withCredentials=r,u.onload=function(e){if(!u.status||u.status>=200&&u.status<300){var i,r=t.getType();"json"==r||"text"==r?i=u.responseText:"xml"==r?(i=u.responseXML)||(i=(new DOMParser).parseFromString(u.responseText,"application/xml")):"arraybuffer"==r&&(i=u.response),i?o(t.readFeatures(i,{extent:n,featureProjection:a}),t.readProjection(i)):s()}else s()},u.onerror=s,u.send()}function o(e,t){return function(n,r,o,s,u){var l=this;a(e,t,n,r,o,(function(e,t){l.addFeatures(e),void 0!==s&&s(e)}),u||i.Zn)}}},6661:function(e,t,n){"use strict";n.d(t,{Dv:function(){return a},Zn:function(){return o},qe:function(){return s},uX:function(){return r}});var i=n(7678);function r(){return!0}function a(){return!1}function o(){}function s(e){var t,n,r,a=!1;return function(){var o=Array.prototype.slice.call(arguments);return a&&this===r&&(0,i.fS)(o,n)||(a=!0,r=this,n=o,t=e.apply(this,arguments)),t}}},3263:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(5957),u=n(6006),l=n(6108),h=n(7130),c=n(5172),f=n(6661),d=n(9045),p=(0,l.Ue)(),v=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.call(this)).extent_=(0,h.lJ)(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=(0,f.qe)((function(e,t,n){if(!n)return this.getSimplifiedGeometry(t);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(t)})),e}return(0,r.Z)(n,[{key:"simplifyTransformed",value:function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}},{key:"clone",value:function(){return(0,u.O3)()}},{key:"closestPointXY",value:function(e,t,n,i){return(0,u.O3)()}},{key:"containsXY",value:function(e,t){var n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}},{key:"getClosestPoint",value:function(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}},{key:"intersectsCoordinate",value:function(e){return this.containsXY(e[0],e[1])}},{key:"computeExtent",value:function(e){return(0,u.O3)()}},{key:"getExtent",value:function(e){if(this.extentRevision_!=this.getRevision()){var t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&(0,h.YN)(t),this.extentRevision_=this.getRevision()}return(0,h.EO)(this.extent_,e)}},{key:"rotate",value:function(e,t){(0,u.O3)()}},{key:"scale",value:function(e,t,n){(0,u.O3)()}},{key:"simplify",value:function(e){return this.getSimplifiedGeometry(e*e)}},{key:"getSimplifiedGeometry",value:function(e){return(0,u.O3)()}},{key:"getType",value:function(){return(0,u.O3)()}},{key:"applyTransform",value:function(e){(0,u.O3)()}},{key:"intersectsExtent",value:function(e){return(0,u.O3)()}},{key:"translate",value:function(e,t){(0,u.O3)()}},{key:"transform",value:function(e,t){var n=(0,c.U2)(e),i="tile-pixels"==n.getUnits()?function(e,i,r){var a=n.getExtent(),o=n.getWorldExtent(),s=(0,h.Cr)(o)/(0,h.Cr)(a);return(0,l.qC)(p,o[0],o[3],s,-s,0,0,0),(0,d.vT)(e,0,e.length,r,p,i),(0,c.Ck)(n,t)(e,i,r)}:(0,c.Ck)(n,t);return this.applyTransform(i),this}}]),n}(s.Z);t.Z=v},9409:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(2952),u=n(7130),l=n(538),h=n(2357),c=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var a;return(0,i.Z)(this,n),(a=t.call(this)).setCoordinates(e,r),a}return(0,r.Z)(n,[{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){var r=this.flatCoordinates,a=(0,h.bI)(e,t,r[0],r[1]);if(a<i){for(var o=this.stride,s=0;s<o;++s)n[s]=r[s];return n.length=o,a}return i}},{key:"getCoordinates",value:function(){return this.flatCoordinates?this.flatCoordinates.slice():[]}},{key:"computeExtent",value:function(e){return(0,u.HK)(this.flatCoordinates,e)}},{key:"getType",value:function(){return"Point"}},{key:"intersectsExtent",value:function(e){return(0,u.jE)(e,this.flatCoordinates[0],this.flatCoordinates[1])}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,l.IG)(this.flatCoordinates,0,e,this.stride),this.changed()}}]),n}(s.ZP);t.Z=c},4057:function(e,t,n){"use strict";n.d(t,{ZP:function(){return b},oJ:function(){return C}});var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(2952),u=n(845),l=n(7130),h=n(538),c=n(8026),f=n(6861),d=n(2863),p=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var a;return(0,i.Z)(this,n),(a=t.call(this)).maxDelta_=-1,a.maxDeltaRevision_=-1,void 0===r||Array.isArray(e[0])?a.setCoordinates(e,r):a.setFlatCoordinates(r,e),a}return(0,r.Z)(n,[{key:"clone",value:function(){return new n(this.flatCoordinates.slice(),this.layout)}},{key:"closestPointXY",value:function(e,t,n,i){return i<(0,l.qf)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.Bv)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.H$)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,i))}},{key:"getArea",value:function(){return(0,d.QQ)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinates",value:function(){return(0,f.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[];return t.length=(0,c.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,"XY")}},{key:"getType",value:function(){return"LinearRing"}},{key:"intersectsExtent",value:function(e){return!1}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,h.Sg)(this.flatCoordinates,0,e,this.stride),this.changed()}}]),n}(s.ZP),v=n(9409),g=n(7678),y=n(4777),m=n(3090),_=n(4517),x=n(7756),k=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,a){var o;return(0,i.Z)(this,n),(o=t.call(this)).ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==r&&a?(o.setFlatCoordinates(r,e),o.ends_=a):o.setCoordinates(e,r),o}return(0,r.Z)(n,[{key:"appendLinearRing",value:function(e){this.flatCoordinates?(0,g.l7)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){return i<(0,l.qf)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.Af)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.Xl)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,i))}},{key:"containsXY",value:function(e,t){return(0,x.wY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}},{key:"getArea",value:function(){return(0,d.KP)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}},{key:"getCoordinates",value:function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),(0,_.zX)(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,(0,f.o1)(t,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getFlatInteriorPoint",value:function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=(0,l.qg)(this.getExtent());this.flatInteriorPoint_=(0,y.X)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}},{key:"getInteriorPoint",value:function(){return new v.Z(this.getFlatInteriorPoint(),"XYM")}},{key:"getLinearRingCount",value:function(){return this.ends_.length}},{key:"getLinearRing",value:function(e){return e<0||this.ends_.length<=e?null:new p(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}},{key:"getLinearRings",value:function(){for(var e=this.layout,t=this.flatCoordinates,n=this.ends_,i=[],r=0,a=0,o=n.length;a<o;++a){var s=n[a],u=new p(t.slice(r,s),e);i.push(u),r=s}return i}},{key:"getOrientedFlatCoordinates",value:function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;(0,_.$v)(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=(0,_.zX)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[],i=[];return t.length=(0,c.Zh)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new n(t,"XY",i)}},{key:"getType",value:function(){return"Polygon"}},{key:"intersectsExtent",value:function(e){return(0,m.ac)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,h._5)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}]),n}(s.ZP),b=k;function C(e){var t=e[0],n=e[1],i=e[2],r=e[3],a=[t,n,t,r,i,r,i,n,t,n];return new k(a,"XY",[a.length])}},2952:function(e,t,n){"use strict";n.d(t,{Kr:function(){return d}});var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(3263),u=n(6006),l=n(7130),h=n(9045),c=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.call(this)).layout="XY",e.stride=2,e.flatCoordinates=null,e}return(0,r.Z)(n,[{key:"computeExtent",value:function(e){return(0,l.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}},{key:"getCoordinates",value:function(){return(0,u.O3)()}},{key:"getFirstCoordinate",value:function(){return this.flatCoordinates.slice(0,this.stride)}},{key:"getFlatCoordinates",value:function(){return this.flatCoordinates}},{key:"getLastCoordinate",value:function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}},{key:"getLayout",value:function(){return this.layout}},{key:"getSimplifiedGeometry",value:function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}},{key:"getSimplifiedGeometryInternal",value:function(e){return this}},{key:"getStride",value:function(){return this.stride}},{key:"setFlatCoordinates",value:function(e,t){this.stride=f(e),this.layout=e,this.flatCoordinates=t}},{key:"setCoordinates",value:function(e,t){(0,u.O3)()}},{key:"setLayout",value:function(e,t,n){var i;if(e)i=f(e);else{for(var r=0;r<n;++r){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}e=function(e){var t;2==e?t="XY":3==e?t="XYZ":4==e&&(t="XYZM");return t}(i=t.length)}this.layout=e,this.stride=i}},{key:"applyTransform",value:function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}},{key:"rotate",value:function(e,t){var n=this.getFlatCoordinates();if(n){var i=this.getStride();(0,h.U1)(n,0,n.length,i,e,t,n),this.changed()}}},{key:"scale",value:function(e,t,n){void 0===t&&(t=e),n||(n=(0,l.qg)(this.getExtent()));var i=this.getFlatCoordinates();if(i){var r=this.getStride();(0,h.bA)(i,0,i.length,r,e,t,n,i),this.changed()}}},{key:"translate",value:function(e,t){var n=this.getFlatCoordinates();if(n){var i=this.getStride();(0,h.Iu)(n,0,n.length,i,e,t,n),this.changed()}}}]),n}(s.Z);function f(e){var t;return"XY"==e?t=2:"XYZ"==e||"XYM"==e?t=3:"XYZM"==e&&(t=4),t}function d(e,t,n){var i=e.getFlatCoordinates();if(!i)return null;var r=e.getStride();return(0,h.vT)(i,0,i.length,r,t,n)}t.ZP=c},2863:function(e,t,n){"use strict";function i(e,t,n,i){for(var r=0,a=e[n-i],o=e[n-i+1];t<n;t+=i){var s=e[t],u=e[t+1];r+=o*s-a*u,a=s,o=u}return r/2}function r(e,t,n,r){for(var a=0,o=0,s=n.length;o<s;++o){var u=n[o];a+=i(e,t,u,r),t=u}return a}function a(e,t,n,i){for(var a=0,o=0,s=n.length;o<s;++o){var u=n[o];a+=r(e,t,u,i),t=u[u.length-1]}return a}n.d(t,{Eu:function(){return a},KP:function(){return r},QQ:function(){return i}})},845:function(e,t,n){"use strict";n.d(t,{Af:function(){return o},Bv:function(){return a},H$:function(){return u},Xl:function(){return l},gI:function(){return h},sD:function(){return s}});var i=n(2357);function r(e,t,n,r,a,o,s){var u,l=e[t],h=e[t+1],c=e[n]-l,f=e[n+1]-h;if(0===c&&0===f)u=t;else{var d=((a-l)*c+(o-h)*f)/(c*c+f*f);if(d>1)u=n;else{if(d>0){for(var p=0;p<r;++p)s[p]=(0,i.t7)(e[t+p],e[n+p],d);return void(s.length=r)}u=t}}for(var v=0;v<r;++v)s[v]=e[u+v];s.length=r}function a(e,t,n,r,a){var o=e[t],s=e[t+1];for(t+=r;t<n;t+=r){var u=e[t],l=e[t+1],h=(0,i.bI)(o,s,u,l);h>a&&(a=h),o=u,s=l}return a}function o(e,t,n,i,r){for(var o=0,s=n.length;o<s;++o){var u=n[o];r=a(e,t,u,i,r),t=u}return r}function s(e,t,n,i,r){for(var a=0,s=n.length;a<s;++a){var u=n[a];r=o(e,t,u,i,r),t=u[u.length-1]}return r}function u(e,t,n,a,o,s,u,l,h,c,f){if(t==n)return c;var d,p;if(0===o){if((p=(0,i.bI)(u,l,e[t],e[t+1]))<c){for(d=0;d<a;++d)h[d]=e[t+d];return h.length=a,p}return c}f=f||[NaN,NaN];for(var v=t+a;v<n;)if(r(e,v-a,v,a,u,l,f),(p=(0,i.bI)(u,l,f[0],f[1]))<c){for(c=p,d=0;d<a;++d)h[d]=f[d];h.length=a,v+=a}else v+=a*Math.max((Math.sqrt(p)-Math.sqrt(c))/o|0,1);if(s&&(r(e,n-a,t,a,u,l,f),(p=(0,i.bI)(u,l,f[0],f[1]))<c)){for(c=p,d=0;d<a;++d)h[d]=f[d];h.length=a}return c}function l(e,t,n,i,r,a,o,s,l,h,c){c=c||[NaN,NaN];for(var f=0,d=n.length;f<d;++f){var p=n[f];h=u(e,t,p,i,r,a,o,s,l,h,c),t=p}return h}function h(e,t,n,i,r,a,o,s,u,h,c){c=c||[NaN,NaN];for(var f=0,d=n.length;f<d;++f){var p=n[f];h=l(e,t,p,i,r,a,o,s,u,h,c),t=p[p.length-1]}return h}},7756:function(e,t,n){"use strict";n.d(t,{TG:function(){return a},Zl:function(){return s},uG:function(){return r},wY:function(){return o}});var i=n(7130);function r(e,t,n,r,o){return!(0,i.H6)(o,(function(i){return!a(e,t,n,r,i[0],i[1])}))}function a(e,t,n,i,r,a){for(var o=0,s=e[n-i],u=e[n-i+1];t<n;t+=i){var l=e[t],h=e[t+1];u<=a?h>a&&(l-s)*(a-u)-(r-s)*(h-u)>0&&o++:h<=a&&(l-s)*(a-u)-(r-s)*(h-u)<0&&o--,s=l,u=h}return 0!==o}function o(e,t,n,i,r,o){if(0===n.length)return!1;if(!a(e,t,n[0],i,r,o))return!1;for(var s=1,u=n.length;s<u;++s)if(a(e,n[s-1],n[s],i,r,o))return!1;return!0}function s(e,t,n,i,r,a){if(0===n.length)return!1;for(var s=0,u=n.length;s<u;++s){var l=n[s];if(o(e,t,l,i,r,a))return!0;t=l[l.length-1]}return!1}},538:function(e,t,n){"use strict";function i(e,t,n,i){for(var r=0,a=n.length;r<a;++r)e[t++]=n[r];return t}function r(e,t,n,i){for(var r=0,a=n.length;r<a;++r)for(var o=n[r],s=0;s<i;++s)e[t++]=o[s];return t}function a(e,t,n,i,a){a=a||[];for(var o=0,s=0,u=n.length;s<u;++s){var l=r(e,t,n[s],i);a[o++]=l,t=l}return a.length=o,a}function o(e,t,n,i,r){r=r||[];for(var o=0,s=0,u=n.length;s<u;++s){var l=a(e,t,n[s],i,r[o]);0===l.length&&(l[0]=t),r[o++]=l,t=l[l.length-1]}return r.length=o,r}n.d(t,{IG:function(){return i},QT:function(){return o},Sg:function(){return r},_5:function(){return a}})},6861:function(e,t,n){"use strict";function i(e,t,n,i,r){r=void 0!==r?r:[];for(var a=0,o=t;o<n;o+=i)r[a++]=e.slice(o,o+i);return r.length=a,r}function r(e,t,n,r,a){a=void 0!==a?a:[];for(var o=0,s=0,u=n.length;s<u;++s){var l=n[s];a[o++]=i(e,t,l,r,a[o]),t=l}return a.length=o,a}function a(e,t,n,i,a){a=void 0!==a?a:[];for(var o=0,s=0,u=n.length;s<u;++s){var l=n[s];a[o++]=1===l.length&&l[0]===t?[]:r(e,t,l,i,a[o]),t=l[l.length-1]}return a.length=o,a}n.d(t,{Ml:function(){return i},o1:function(){return r},ug:function(){return a}})},4777:function(e,t,n){"use strict";n.d(t,{U:function(){return o},X:function(){return a}});var i=n(7678),r=n(7756);function a(e,t,n,a,o,s,u){for(var l,h,c,f,d,p,v,g=o[s+1],y=[],m=0,_=n.length;m<_;++m){var x=n[m];for(f=e[x-a],p=e[x-a+1],l=t;l<x;l+=a)d=e[l],v=e[l+1],(g<=p&&v<=g||p<=g&&g<=v)&&(c=(g-p)/(v-p)*(d-f)+f,y.push(c)),f=d,p=v}var k=NaN,b=-1/0;for(y.sort(i.j2),f=y[0],l=1,h=y.length;l<h;++l){d=y[l];var C=Math.abs(d-f);C>b&&(c=(f+d)/2,(0,r.wY)(e,t,n,a,c,g)&&(k=c,b=C)),f=d}return isNaN(k)&&(k=o[s]),u?(u.push(k,g,b),u):[k,g,b]}function o(e,t,n,i,r){for(var o=[],s=0,u=n.length;s<u;++s){var l=n[s];o=a(e,t,l,i,r,2*s,o),t=l[l.length-1]}return o}},3090:function(e,t,n){"use strict";n.d(t,{AW:function(){return s},Kz:function(){return o},ac:function(){return l},mV:function(){return u},oW:function(){return h}});var i=n(7130),r=n(6393),a=n(7756);function o(e,t,n,a,o){var s=(0,i.qP)((0,i.lJ)(),e,t,n,a);return!!(0,i.kK)(o,s)&&(!!(0,i.r4)(o,s)||(s[0]>=o[0]&&s[2]<=o[2]||(s[1]>=o[1]&&s[3]<=o[3]||(0,r.E)(e,t,n,a,(function(e,t){return(0,i.I7)(o,e,t)})))))}function s(e,t,n,i,r){for(var a=0,s=n.length;a<s;++a){if(o(e,t,n[a],i,r))return!0;t=n[a]}return!1}function u(e,t,n,i,r){return!!o(e,t,n,i,r)||(!!(0,a.TG)(e,t,n,i,r[0],r[1])||(!!(0,a.TG)(e,t,n,i,r[0],r[3])||(!!(0,a.TG)(e,t,n,i,r[2],r[1])||!!(0,a.TG)(e,t,n,i,r[2],r[3]))))}function l(e,t,n,i,r){if(!u(e,t,n[0],i,r))return!1;if(1===n.length)return!0;for(var s=1,l=n.length;s<l;++s)if((0,a.uG)(e,n[s-1],n[s],i,r)&&!o(e,n[s-1],n[s],i,r))return!1;return!0}function h(e,t,n,i,r){for(var a=0,o=n.length;a<o;++a){var s=n[a];if(l(e,t,s,i,r))return!0;t=s[s.length-1]}return!1}},7322:function(e,t,n){"use strict";function i(e,t,n,i){for(var r=e[t],a=e[t+1],o=0,s=t+i;s<n;s+=i){var u=e[s],l=e[s+1];o+=Math.sqrt((u-r)*(u-r)+(l-a)*(l-a)),r=u,a=l}return o}n.d(t,{W:function(){return i}})},4517:function(e,t,n){"use strict";function i(e,t,n,i){for(;t<n-i;){for(var r=0;r<i;++r){var a=e[t+r];e[t+r]=e[n-i+r],e[n-i+r]=a}t+=i,n-=i}}function r(e,t,n,i){for(var r=0,a=e[n-i],o=e[n-i+1];t<n;t+=i){var s=e[t],u=e[t+1];r+=(s-a)*(u+o),a=s,o=u}return 0===r?void 0:r>0}function a(e,t,n,i,a){a=void 0!==a&&a;for(var o=0,s=n.length;o<s;++o){var u=n[o],l=r(e,t,u,i);if(0===o){if(a&&l||!a&&!l)return!1}else if(a&&!l||!a&&l)return!1;t=u}return!0}function o(e,t,n,i,r){for(var o=0,s=n.length;o<s;++o){var u=n[o];if(!a(e,t,u,i,r))return!1;u.length&&(t=u[u.length-1])}return!0}function s(e,t,n,a,o){o=void 0!==o&&o;for(var s=0,u=n.length;s<u;++s){var l=n[s],h=r(e,t,l,a);(0===s?o&&h||!o&&!h:o&&!h||!o&&h)&&i(e,t,l,a),t=l}return t}function u(e,t,n,i,r){for(var a=0,o=n.length;a<o;++a)t=s(e,t,n[a],i,r);return t}function l(e,t){for(var n=[],i=0,a=0,o=0,s=t.length;o<s;++o){var u=t[o];if(r(e,i,u,2)){if(0===n.length)continue;n[n.length-1].push(t[a])}else n.push(t.slice(a,o+1));a=o+1,i=u}return n}n.d(t,{Q3:function(){return l},$v:function(){return a},Oj:function(){return o},zX:function(){return s},dL:function(){return u}})},6393:function(e,t,n){"use strict";function i(e,t,n,i,r){var a;for(t+=i;t<n;t+=i)if(a=r(e.slice(t-i,t),e.slice(t,t+i)))return a;return!1}n.d(t,{E:function(){return i}})},8026:function(e,t,n){"use strict";n.d(t,{Pp:function(){return l},UJ:function(){return a},Zh:function(){return u},dt:function(){return r},uZ:function(){return o}});var i=n(2357);function r(e,t,n,r,a,o,s){var u=(n-t)/r;if(u<3){for(;t<n;t+=r)o[s++]=e[t],o[s++]=e[t+1];return s}var l=new Array(u);l[0]=1,l[u-1]=1;for(var h=[t,n-r],c=0;h.length>0;){for(var f=h.pop(),d=h.pop(),p=0,v=e[d],g=e[d+1],y=e[f],m=e[f+1],_=d+r;_<f;_+=r){var x=e[_],k=e[_+1],b=(0,i.rU)(x,k,v,g,y,m);b>p&&(c=_,p=b)}p>a&&(l[(c-t)/r]=1,d+r<c&&h.push(d,c),c+r<f&&h.push(c,f))}for(var C=0;C<u;++C)l[C]&&(o[s++]=e[t+C*r],o[s++]=e[t+C*r+1]);return s}function a(e,t,n,i,a,o,s,u){for(var l=0,h=n.length;l<h;++l){var c=n[l];s=r(e,t,c,i,a,o,s),u.push(s),t=c}return s}function o(e,t){return t*Math.round(e/t)}function s(e,t,n,i,r,a,s){if(t==n)return s;var u,l,h=o(e[t],r),c=o(e[t+1],r);t+=i,a[s++]=h,a[s++]=c;do{if(u=o(e[t],r),l=o(e[t+1],r),(t+=i)==n)return a[s++]=u,a[s++]=l,s}while(u==h&&l==c);for(;t<n;){var f=o(e[t],r),d=o(e[t+1],r);if(t+=i,f!=u||d!=l){var p=u-h,v=l-c,g=f-h,y=d-c;p*y==v*g&&(p<0&&g<p||p==g||p>0&&g>p)&&(v<0&&y<v||v==y||v>0&&y>v)?(u=f,l=d):(a[s++]=u,a[s++]=l,h=u,c=l,u=f,l=d)}}return a[s++]=u,a[s++]=l,s}function u(e,t,n,i,r,a,o,u){for(var l=0,h=n.length;l<h;++l){var c=n[l];o=s(e,t,c,i,r,a,o),u.push(o),t=c}return o}function l(e,t,n,i,r,a,o,s){for(var l=0,h=n.length;l<h;++l){var c=n[l],f=[];o=u(e,t,c,i,r,a,o,f),s.push(f),t=c[c.length-1]}return o}},9045:function(e,t,n){"use strict";function i(e,t,n,i,r,a){a=a||[];for(var o=0,s=t;s<n;s+=i){var u=e[s],l=e[s+1];a[o++]=r[0]*u+r[2]*l+r[4],a[o++]=r[1]*u+r[3]*l+r[5]}return a&&a.length!=o&&(a.length=o),a}function r(e,t,n,i,r,a,o){o=o||[];for(var s=Math.cos(r),u=Math.sin(r),l=a[0],h=a[1],c=0,f=t;f<n;f+=i){var d=e[f]-l,p=e[f+1]-h;o[c++]=l+d*s-p*u,o[c++]=h+d*u+p*s;for(var v=f+2;v<f+i;++v)o[c++]=e[v]}return o&&o.length!=c&&(o.length=c),o}function a(e,t,n,i,r,a,o,s){s=s||[];for(var u=o[0],l=o[1],h=0,c=t;c<n;c+=i){var f=e[c]-u,d=e[c+1]-l;s[h++]=u+r*f,s[h++]=l+a*d;for(var p=c+2;p<c+i;++p)s[h++]=e[p]}return s&&s.length!=h&&(s.length=h),s}function o(e,t,n,i,r,a,o){o=o||[];for(var s=0,u=t;u<n;u+=i){o[s++]=e[u]+r,o[s++]=e[u+1]+a;for(var l=u+2;l<u+i;++l)o[s++]=e[l]}return o&&o.length!=s&&(o.length=s),o}n.d(t,{Iu:function(){return o},U1:function(){return r},bA:function(){return a},vT:function(){return i}})},7288:function(e,t,n){"use strict";n.d(t,{G$:function(){return a},Id:function(){return u},MP:function(){return s},Tp:function(){return l},V:function(){return r},bM:function(){return h},tK:function(){return o}});var i="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",r=i.includes("firefox"),a=(i.includes("safari")&&!i.includes("chrom")&&(i.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(i)),i.includes("webkit")&&!i.includes("edge")),o=i.includes("macintosh"),s="undefined"!==typeof devicePixelRatio?devicePixelRatio:1,u="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,l="undefined"!==typeof Image&&Image.prototype.decode,h=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(n){}return e}()},3976:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(1752),o=n(1120),s=n(136),u=n(9388),l=n(5957),h=n(5728),c=n(6006),f=n(6862),d=n(2357),p=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;(0,i.Z)(this,n),(r=t.call(this)).on,r.once,r.un,r.background_=e.background;var a=Object.assign({},e);return"object"===typeof e.properties&&(delete a.properties,Object.assign(a,e.properties)),a[h.Z.OPACITY]=void 0!==e.opacity?e.opacity:1,(0,f.h)("number"===typeof a[h.Z.OPACITY],64),a[h.Z.VISIBLE]=void 0===e.visible||e.visible,a[h.Z.Z_INDEX]=e.zIndex,a[h.Z.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,a[h.Z.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,a[h.Z.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,a[h.Z.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,r.className_=void 0!==a.className?a.className:"ol-layer",delete a.className,r.setProperties(a),r.state_=null,r}return(0,r.Z)(n,[{key:"getBackground",value:function(){return this.background_}},{key:"getClassName",value:function(){return this.className_}},{key:"getLayerState",value:function(e){var t=this.state_||{layer:this,managed:void 0===e||e},n=this.getZIndex();return t.opacity=(0,d.uZ)(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==n||t.managed?n:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}},{key:"getLayersArray",value:function(e){return(0,c.O3)()}},{key:"getLayerStatesArray",value:function(e){return(0,c.O3)()}},{key:"getExtent",value:function(){return this.get(h.Z.EXTENT)}},{key:"getMaxResolution",value:function(){return this.get(h.Z.MAX_RESOLUTION)}},{key:"getMinResolution",value:function(){return this.get(h.Z.MIN_RESOLUTION)}},{key:"getMinZoom",value:function(){return this.get(h.Z.MIN_ZOOM)}},{key:"getMaxZoom",value:function(){return this.get(h.Z.MAX_ZOOM)}},{key:"getOpacity",value:function(){return this.get(h.Z.OPACITY)}},{key:"getSourceState",value:function(){return(0,c.O3)()}},{key:"getVisible",value:function(){return this.get(h.Z.VISIBLE)}},{key:"getZIndex",value:function(){return this.get(h.Z.Z_INDEX)}},{key:"setBackground",value:function(e){this.background_=e,this.changed()}},{key:"setExtent",value:function(e){this.set(h.Z.EXTENT,e)}},{key:"setMaxResolution",value:function(e){this.set(h.Z.MAX_RESOLUTION,e)}},{key:"setMinResolution",value:function(e){this.set(h.Z.MIN_RESOLUTION,e)}},{key:"setMaxZoom",value:function(e){this.set(h.Z.MAX_ZOOM,e)}},{key:"setMinZoom",value:function(e){this.set(h.Z.MIN_ZOOM,e)}},{key:"setOpacity",value:function(e){(0,f.h)("number"===typeof e,64),this.set(h.Z.OPACITY,e)}},{key:"setVisible",value:function(e){this.set(h.Z.VISIBLE,e)}},{key:"setZIndex",value:function(e){this.set(h.Z.Z_INDEX,e)}},{key:"disposeInternal",value:function(){this.state_&&(this.state_.layer=null,this.state_=null),(0,a.Z)((0,o.Z)(n.prototype),"disposeInternal",this).call(this)}}]),n}(l.Z);t.Z=p},3442:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var i=n(5671),r=n(3144),a=n(1752),o=n(1120),s=n(136),u=n(9388),l=n(4101),h=n(5950),c=n(4665),f=n(5400),d=n(927),p=n(8920),v=n(315),g=n(6233),y=n(9236);function m(e){return new c.ZP({fill:_(e,""),stroke:x(e,""),text:k(e),image:b(e)})}function _(e,t){var n=e[t+"fill-color"];if(n)return new d.Z({color:n})}function x(e,t){var n=e[t+"stroke-width"],i=e[t+"stroke-color"];if(n||i)return new g.Z({width:n,color:i,lineCap:e[t+"stroke-line-cap"],lineJoin:e[t+"stroke-line-join"],lineDash:e[t+"stroke-line-dash"],lineDashOffset:e[t+"stroke-line-dash-offset"],miterLimit:e[t+"stroke-miter-limit"]})}function k(e){var t=e["text-value"];if(t)return new y.Z({text:t,font:e["text-font"],maxAngle:e["text-max-angle"],offsetX:e["text-offset-x"],offsetY:e["text-offset-y"],overflow:e["text-overflow"],placement:e["text-placement"],scale:e["text-scale"],rotateWithView:e["text-rotate-with-view"],rotation:e["text-rotation"],textAlign:e["text-align"],justify:e["text-justify"],textBaseline:e["text-baseline"],padding:e["text-padding"],fill:_(e,"text-"),backgroundFill:_(e,"text-background-"),stroke:x(e,"text-"),backgroundStroke:x(e,"text-background-")})}function b(e){var t=e["icon-src"],n=e["icon-img"];if(t||n)return new p.Z({src:t,img:n,imgSize:e["icon-img-size"],anchor:e["icon-anchor"],anchorOrigin:e["icon-anchor-origin"],anchorXUnits:e["icon-anchor-x-units"],anchorYUnits:e["icon-anchor-y-units"],color:e["icon-color"],crossOrigin:e["icon-cross-origin"],offset:e["icon-offset"],displacement:e["icon-displacement"],opacity:e["icon-opacity"],scale:e["icon-scale"],rotation:e["icon-rotation"],rotateWithView:e["icon-rotate-with-view"],size:e["icon-size"],declutterMode:e["icon-declutter-mode"]});var i=e["shape-points"];if(i){var r="shape-";return new v.Z({points:i,fill:_(e,r),stroke:x(e,r),radius:e["shape-radius"],radius1:e["shape-radius1"],radius2:e["shape-radius2"],angle:e["shape-angle"],displacement:e["shape-displacement"],rotation:e["shape-rotation"],rotateWithView:e["shape-rotate-with-view"],scale:e["shape-scale"],declutterMode:e["shape-declutter-mode"]})}var a=e["circle-radius"];if(a){var o="circle-";return new f.Z({radius:a,fill:_(e,o),stroke:x(e,o),displacement:e["circle-displacement"],scale:e["circle-scale"],rotation:e["circle-rotation"],rotateWithView:e["circle-rotate-with-view"],declutterMode:e["circle-declutter-mode"]})}}var C="renderOrder",w=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;(0,i.Z)(this,n),e=e||{};var a=Object.assign({},e);return delete a.style,delete a.renderBuffer,delete a.updateWhileAnimating,delete a.updateWhileInteracting,(r=t.call(this,a)).declutter_=void 0!==e.declutter&&e.declutter,r.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(e.style),r.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,r.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting,r}return(0,r.Z)(n,[{key:"getDeclutter",value:function(){return this.declutter_}},{key:"getFeatures",value:function(e){return(0,a.Z)((0,o.Z)(n.prototype),"getFeatures",this).call(this,e)}},{key:"getRenderBuffer",value:function(){return this.renderBuffer_}},{key:"getRenderOrder",value:function(){return this.get(C)}},{key:"getStyle",value:function(){return this.style_}},{key:"getStyleFunction",value:function(){return this.styleFunction_}},{key:"getUpdateWhileAnimating",value:function(){return this.updateWhileAnimating_}},{key:"getUpdateWhileInteracting",value:function(){return this.updateWhileInteracting_}},{key:"renderDeclutter",value:function(e){e.declutterTree||(e.declutterTree=new h(9)),this.getRenderer().renderDeclutter(e)}},{key:"setRenderOrder",value:function(e){this.set(C,e)}},{key:"setStyle",value:function(e){var t;if(void 0===e)t=c.yF;else if(null===e)t=null;else if("function"===typeof e)t=e;else if(e instanceof c.ZP)t=e;else if(Array.isArray(e)){for(var n=e.length,i=new Array(n),r=0;r<n;++r){var a=e[r];a instanceof c.ZP?i[r]=a:i[r]=m(a)}t=i}else t=m(e);this.style_=t,this.styleFunction_=null===e?void 0:(0,c.J$)(this.style_),this.changed()}}]),n}(l.Z)},4101:function(e,t,n){"use strict";n.d(t,{j:function(){return g}});var i=n(5671),r=n(3144),a=n(1752),o=n(1120),s=n(136),u=n(9388),l=n(3976),h=n(5947),c=n(5728),f=n(6875),d=n(6862),p=n(923),v=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;(0,i.Z)(this,n);var a=Object.assign({},e);delete a.source,(r=t.call(this,a)).on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.sourceReady_=!1,r.rendered=!1,e.render&&(r.render=e.render),e.map&&r.setMap(e.map),r.addChangeListener(c.Z.SOURCE,r.handleSourcePropertyChange_);var o=e.source?e.source:null;return r.setSource(o),r}return(0,r.Z)(n,[{key:"getLayersArray",value:function(e){return(e=e||[]).push(this),e}},{key:"getLayerStatesArray",value:function(e){return(e=e||[]).push(this.getLayerState()),e}},{key:"getSource",value:function(){return this.get(c.Z.SOURCE)||null}},{key:"getRenderSource",value:function(){return this.getSource()}},{key:"getSourceState",value:function(){var e=this.getSource();return e?e.getState():"undefined"}},{key:"handleSourceChange_",value:function(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}},{key:"handleSourcePropertyChange_",value:function(){var e=this;this.sourceChangeKey_&&((0,p.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;var t=this.getSource();t&&(this.sourceChangeKey_=(0,p.oL)(t,h.Z.CHANGE,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((function(){e.dispatchEvent("sourceready")}),0))),this.changed()}},{key:"getFeatures",value:function(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}},{key:"getData",value:function(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}},{key:"render",value:function(e,t){var n=this.getRenderer();if(n.prepareFrame(e))return this.rendered=!0,n.renderFrame(e,t)}},{key:"unrender",value:function(){this.rendered=!1}},{key:"setMapInternal",value:function(e){e||this.unrender(),this.set(c.Z.MAP,e)}},{key:"getMapInternal",value:function(){return this.get(c.Z.MAP)}},{key:"setMap",value:function(e){this.mapPrecomposeKey_&&((0,p.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&((0,p.bN)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=(0,p.oL)(e,f.Z.PRECOMPOSE,(function(e){var t=e.frameState.layerStatesArray,n=this.getLayerState(!1);(0,d.h)(!t.some((function(e){return e.layer===n.layer})),67),t.push(n)}),this),this.mapRenderKey_=(0,p.oL)(this,h.Z.CHANGE,e.render,e),this.changed())}},{key:"setSource",value:function(e){this.set(c.Z.SOURCE,e)}},{key:"getRenderer",value:function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}},{key:"hasRenderer",value:function(){return!!this.renderer_}},{key:"createRenderer",value:function(){return null}},{key:"disposeInternal",value:function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),(0,a.Z)((0,o.Z)(n.prototype),"disposeInternal",this).call(this)}}]),n}(l.Z);function g(e,t){if(!e.visible)return!1;var n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;var i=t.zoom;return i>e.minZoom&&i<=e.maxZoom}t.Z=v},5728:function(e,t){"use strict";t.Z={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},3822:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(3442),u=n(7326),l=n(8933),h=n(8831),c=n(9988),f=n(4265),d=n(8418),p=n(6108),v=n(7130),g=n(1408),y=n(1787),m=n(7678),_=n(5172),x=n(6006),k=n(2024),b=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).boundHandleStyleImageChange_=r.handleStyleImageChange_.bind((0,u.Z)(r)),r.animatingOrInteracting_,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=(0,v.lJ)(),r.wrappedRenderedExtent_=(0,v.lJ)(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r.compositionContext_=null,r.opacity_=1,r}return(0,r.Z)(n,[{key:"renderWorlds",value:function(e,t,n){var i=t.extent,r=t.viewState,a=r.center,o=r.resolution,s=r.projection,u=r.rotation,l=s.getExtent(),h=this.getLayer().getSource(),c=t.pixelRatio,d=t.viewHints,p=!(d[f.Z.ANIMATING]||d[f.Z.INTERACTING]),g=this.compositionContext_,y=Math.round(t.size[0]*c),m=Math.round(t.size[1]*c),_=h.getWrapX()&&s.canWrapX(),x=_?(0,v.dz)(l):null,k=_?Math.ceil((i[2]-l[2])/x)+1:1,b=_?Math.floor((i[0]-l[0])/x):0;do{var C=this.getRenderTransform(a,o,u,c,y,m,b*x);e.execute(g,1,C,u,p,void 0,n)}while(++b<k)}},{key:"setupCompositionContext_",value:function(){if(1!==this.opacity_){var e=(0,g.E4)(this.context.canvas.width,this.context.canvas.height,h.r);this.compositionContext_=e}else this.compositionContext_=this.context}},{key:"releaseCompositionContext_",value:function(){if(1!==this.opacity_){var e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,(0,g.jy)(this.compositionContext_),h.r.push(this.compositionContext_.canvas),this.compositionContext_=null}}},{key:"renderDeclutter",value:function(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}},{key:"renderFrame",value:function(e,t){var n=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];(0,p.n3)(this.pixelTransform,1/n,1/n),(0,p.nb)(this.inversePixelTransform,this.pixelTransform);var r=(0,p.BB)(this.pixelTransform);this.useContainer(t,r,this.getBackground(e));var a=this.context,o=a.canvas,s=this.replayGroup_,u=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!u||u.isEmpty()))return null;var l=Math.round(e.size[0]*n),h=Math.round(e.size[1]*n);o.width!=l||o.height!=h?(o.width=l,o.height=h,o.style.transform!==r&&(o.style.transform=r)):this.containerReused||a.clearRect(0,0,l,h),this.preRender(a,e);var c=e.viewState,f=c.projection;this.opacity_=i.opacity,this.setupCompositionContext_();var d=!1,g=!0;if(i.extent&&this.clipping){var y=(0,_.dY)(i.extent,f);(d=(g=(0,v.kK)(y,e.extent))&&!(0,v.r4)(y,e.extent))&&this.clipUnrotated(this.compositionContext_,e,y)}return g&&this.renderWorlds(s,e),d&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(a,e),this.renderedRotation_!==c.rotation&&(this.renderedRotation_=c.rotation,this.hitDetectionImageData_=null),this.container}},{key:"getFeatures",value:function(e){var t=this;return new Promise((function(n){if(!t.hitDetectionImageData_&&!t.animatingOrInteracting_){var i=[t.context.canvas.width,t.context.canvas.height];(0,p.nn)(t.pixelTransform,i);var r=t.renderedCenter_,a=t.renderedResolution_,o=t.renderedRotation_,s=t.renderedProjection_,u=t.wrappedRenderedExtent_,l=t.getLayer(),h=[],c=i[0]*d.UN,f=i[1]*d.UN;h.push(t.getRenderTransform(r,a,o,d.UN,c,f,0).slice());var g=l.getSource(),y=s.getExtent();if(g.getWrapX()&&s.canWrapX()&&!(0,v.r4)(y,u)){for(var m,_=u[0],x=(0,v.dz)(y),k=0;_<y[0];)m=x*--k,h.push(t.getRenderTransform(r,a,o,d.UN,c,f,m).slice()),_+=x;for(k=0,_=u[2];_>y[2];)m=x*++k,h.push(t.getRenderTransform(r,a,o,d.UN,c,f,m).slice()),_-=x}t.hitDetectionImageData_=(0,d.TU)(i,h,t.renderedFeatures_,l.getStyleFunction(),u,a,o)}n((0,d.ix)(e,t.renderedFeatures_,t.hitDetectionImageData_))}))}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r){var a=this;if(this.replayGroup_){var o,s=t.viewState.resolution,u=t.viewState.rotation,l=this.getLayer(),h={},c=function(e,t,n){var a=(0,x.sq)(e),o=h[a];if(o){if(!0!==o&&n<o.distanceSq){if(0===n)return h[a]=!0,r.splice(r.lastIndexOf(o),1),i(e,l,t);o.geometry=t,o.distanceSq=n}}else{if(0===n)return h[a]=!0,i(e,l,t);r.push(h[a]={feature:e,layer:l,geometry:t,distanceSq:n,callback:i})}},f=[this.replayGroup_];return this.declutterExecutorGroup&&f.push(this.declutterExecutorGroup),f.some((function(i){return o=i.forEachFeatureAtCoordinate(e,s,u,n,c,i===a.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map((function(e){return e.value})):null)})),o}}},{key:"handleFontsChanged",value:function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}},{key:"handleStyleImageChange_",value:function(e){this.renderIfReadyAndVisible()}},{key:"prepareFrame",value:function(e){var t=this,n=this.getLayer(),i=n.getSource();if(!i)return!1;var r=e.viewHints[f.Z.ANIMATING],a=e.viewHints[f.Z.INTERACTING],o=n.getUpdateWhileAnimating(),s=n.getUpdateWhileInteracting();if(this.ready&&!o&&r||!s&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var u=e.extent,h=e.viewState,d=h.projection,p=h.resolution,g=e.pixelRatio,x=n.getRevision(),b=n.getRenderBuffer(),C=n.getRenderOrder();void 0===C&&(C=y.eR);var w=h.center.slice(),E=(0,v.f3)(u,b*p),S=E.slice(),Z=[E.slice()],T=d.getExtent();if(i.getWrapX()&&d.canWrapX()&&!(0,v.r4)(T,e.extent)){var R=(0,v.dz)(T),I=Math.max((0,v.dz)(E)/2,R);E[0]=T[0]-I,E[2]=T[2]+I,(0,k.Cf)(w,d);var P=(0,v.Cf)(Z[0],d);P[0]<T[0]&&P[2]<T[2]?Z.push([P[0]+R,P[1],P[2]+R,P[3]]):P[0]>T[0]&&P[2]>T[2]&&Z.push([P[0]-R,P[1],P[2]-R,P[3]])}if(this.ready&&this.renderedResolution_==p&&this.renderedRevision_==x&&this.renderedRenderOrder_==C&&(0,v.r4)(this.wrappedRenderedExtent_,E))return(0,m.fS)(this.renderedExtent_,S)||(this.hitDetectionImageData_=null,this.renderedExtent_=S),this.renderedCenter_=w,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var M,O=new l.Z((0,y.Qz)(p,g),E,p,g);this.getLayer().getDeclutter()&&(M=new l.Z((0,y.Qz)(p,g),E,p,g));var F,L=(0,_.Cs)();if(L){for(var A=0,D=Z.length;A<D;++A){var z=Z[A],N=(0,_.Fj)(z,d);i.loadFeatures(N,(0,_.on)(p,d),L)}F=(0,_.WO)(L,d)}else for(var G=0,j=Z.length;G<j;++G)i.loadFeatures(Z[G],p,d);var q=(0,y.se)(p,g),W=!0,X=function(e){var i,r=e.getStyleFunction()||n.getStyleFunction();if(r&&(i=r(e,p)),i){var a=t.renderFeature(e,q,i,O,F,M);W=W&&!a}},V=(0,_.Fj)(E,d),Y=i.getFeaturesInExtent(V);C&&Y.sort(C);for(var U=0,B=Y.length;U<B;++U)X(Y[U]);this.renderedFeatures_=Y,this.ready=W;var K=O.finish(),H=new c.Z(E,p,g,i.getOverlaps(),K,n.getRenderBuffer());return M&&(this.declutterExecutorGroup=new c.Z(E,p,g,i.getOverlaps(),M.finish(),n.getRenderBuffer())),this.renderedResolution_=p,this.renderedRevision_=x,this.renderedRenderOrder_=C,this.renderedExtent_=S,this.wrappedRenderedExtent_=E,this.renderedCenter_=w,this.renderedProjection_=d,this.replayGroup_=H,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}},{key:"renderFeature",value:function(e,t,n,i,r,a){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var s=0,u=n.length;s<u;++s)o=(0,y.Pn)(i,e,n[s],t,this.boundHandleStyleImageChange_,r,a)||o;else o=(0,y.Pn)(i,e,n,t,this.boundHandleStyleImageChange_,r,a);return o}}]),n}(h.Z),C=b,w=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,i.Z)(this,n),t.call(this,e)}return(0,r.Z)(n,[{key:"createRenderer",value:function(){return new C(this)}}]),n}(s.Z)},8562:function(e,t,n){"use strict";n.d(t,{$6:function(){return i},VW:function(){return r}});n(5172);function i(e,t){return[[-1/0,-1/0,1/0,1/0]]}function r(e,t){return[e]}},2357:function(e,t,n){"use strict";function i(e,t,n){return Math.min(Math.max(e,t),n)}function r(e,t,n,i,r,o){var s=r-n,u=o-i;if(0!==s||0!==u){var l=((e-n)*s+(t-i)*u)/(s*s+u*u);l>1?(n=r,i=o):l>0&&(n+=s*l,i+=u*l)}return a(e,t,n,i)}function a(e,t,n,i){var r=n-e,a=i-t;return r*r+a*a}function o(e){for(var t=e.length,n=0;n<t;n++){for(var i=n,r=Math.abs(e[n][n]),a=n+1;a<t;a++){var o=Math.abs(e[a][n]);o>r&&(r=o,i=a)}if(0===r)return null;var s=e[i];e[i]=e[n],e[n]=s;for(var u=n+1;u<t;u++)for(var l=-e[u][n]/e[n][n],h=n;h<t+1;h++)n==h?e[u][h]=0:e[u][h]+=l*e[n][h]}for(var c=new Array(t),f=t-1;f>=0;f--){c[f]=e[f][t]/e[f][f];for(var d=f-1;d>=0;d--)e[d][t]-=e[d][f]*c[f]}return c}function s(e){return e*Math.PI/180}function u(e,t){var n=e%t;return n*t<0?n+t:n}function l(e,t,n){return e+n*(t-e)}function h(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function c(e,t){return Math.floor(h(e,t))}function f(e,t){return Math.ceil(h(e,t))}n.d(t,{$W:function(){return u},FH:function(){return h},GW:function(){return c},SV:function(){return o},Yr:function(){return s},bI:function(){return a},mD:function(){return f},rU:function(){return r},t7:function(){return l},uZ:function(){return i}})},6841:function(e,t,n){"use strict";function i(e){for(var t in e)delete e[t]}function r(e){var t;for(t in e)return!1;return!t}n.d(t,{Z:function(){return i},x:function(){return r}})},5172:function(e,t,n){"use strict";n.d(t,{Wm:function(){return k.W},UQ:function(){return N},h_:function(){return M},OP:function(){return j},mi:function(){return G},Vs:function(){return K},dY:function(){return J},U2:function(){return A},_Q:function(){return D},Ck:function(){return W},WO:function(){return q},Cs:function(){return U},lO:function(){return B},Fj:function(){return H},on:function(){return $},vs:function(){return X}});var i=n(3144),r=n(5671),a=n(136),o=n(9388),s=n(4958),u=6378137,l=Math.PI*u,h=[-l,-l,l,l],c=[-180,-85,180,85],f=u*Math.log(Math.tan(Math.PI/2)),d=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,{code:e,units:"m",extent:h,global:!0,worldExtent:c,getPointResolution:function(e,t){return e/Math.cosh(t[1]/u)}})}return(0,i.Z)(n)}(s.Z),p=[new d("EPSG:3857"),new d("EPSG:102100"),new d("EPSG:102113"),new d("EPSG:900913"),new d("http://www.opengis.net/def/crs/EPSG/0/3857"),new d("http://www.opengis.net/gml/srs/epsg.xml#3857")];function v(e,t,n){var i=e.length;n=n>1?n:2,void 0===t&&(t=n>2?e.slice():new Array(i));for(var r=0;r<i;r+=n){t[r]=l*e[r]/180;var a=u*Math.log(Math.tan(Math.PI*(+e[r+1]+90)/360));a>f?a=f:a<-f&&(a=-f),t[r+1]=a}return t}function g(e,t,n){var i=e.length;n=n>1?n:2,void 0===t&&(t=n>2?e.slice():new Array(i));for(var r=0;r<i;r+=n)t[r]=180*e[r]/l,t[r+1]=360*Math.atan(Math.exp(e[r+1]/u))/Math.PI-90;return t}var y=[-180,-90,180,90],m=6378137*Math.PI/180,_=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){return(0,r.Z)(this,n),t.call(this,{code:e,units:"degrees",extent:y,axisOrientation:i,global:!0,metersPerUnit:m,worldExtent:y})}return(0,i.Z)(n)}(s.Z),x=[new _("CRS:84"),new _("EPSG:4326","neu"),new _("urn:ogc:def:crs:OGC:1.3:CRS84"),new _("urn:ogc:def:crs:OGC:2:84"),new _("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new _("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new _("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],k=n(1684),b={};var C={};function w(e,t,n){var i=e.getCode(),r=t.getCode();i in C||(C[i]={}),C[i][r]=n}var E=n(7130),S=n(2024),Z=n(2357),T=6371008.8;function R(e,t,n){n=n||T;var i=(0,Z.Yr)(e[1]),r=(0,Z.Yr)(t[1]),a=(r-i)/2,o=(0,Z.Yr)(t[0]-e[0])/2,s=Math.sin(a)*Math.sin(a)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))}var I=n(9972),P=!0;function M(e){P=!(void 0===e||e)}function O(e,t){if(void 0!==t)for(var n=0,i=e.length;n<i;++n)t[n]=e[n];else t=e.slice();return t}function F(e,t){if(void 0!==t&&e!==t){for(var n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function L(e){!function(e,t){b[e]=t}(e.getCode(),e),w(e,e,O)}function A(e){return"string"===typeof e?b[t=e]||b[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:e||null;var t}function D(e,t,n,i){var r,a=(e=A(e)).getPointResolutionFunc();if(a){if(r=a(t,n),i&&i!==e.getUnits()){var o=e.getMetersPerUnit();o&&(r=r*o/k.W[i])}}else{var s=e.getUnits();if("degrees"==s&&!i||"degrees"==i)r=t;else{var u=q(e,A("EPSG:4326"));if(u===F&&"degrees"!==s)r=t*e.getMetersPerUnit();else{var l=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];r=(R((l=u(l,l,2)).slice(0,2),l.slice(2,4))+R(l.slice(4,6),l.slice(6,8)))/2}var h=i?k.W[i]:e.getMetersPerUnit();void 0!==h&&(r/=h)}}return r}function z(e){!function(e){e.forEach(L)}(e),e.forEach((function(t){e.forEach((function(e){t!==e&&w(t,e,O)}))}))}function N(e,t){return e?"string"===typeof e?A(e):e:A(t)}function G(e,t){return M(),X(e,"EPSG:4326",void 0!==t?t:"EPSG:3857")}function j(e,t){if(e===t)return!0;var n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||q(e,t)===O)&&n}function q(e,t){var n=function(e,t){var n;return e in C&&t in C[e]&&(n=C[e][t]),n}(e.getCode(),t.getCode());return n||(n=F),n}function W(e,t){return q(A(e),A(t))}function X(e,t,n){return W(t,n)(e,void 0,e.length)}function V(e,t,n,i){var r=W(t,n);return(0,E.Ne)(e,r,void 0,i)}var Y=null;function U(){return Y}function B(e,t){return Y?X(e,t,Y):e}function K(e,t){return Y?X(e,Y,t):(P&&!(0,S.fS)(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(P=!1,(0,I.ZK)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function H(e,t){return Y?V(e,t,Y):e}function J(e,t){return Y?V(e,Y,t):e}function $(e,t){if(!Y)return e;var n=A(t).getUnits(),i=Y.getUnits();return n&&i?e*k.W[n]/k.W[i]:e}!function(){var e,t,n;z(p),z(x),e=p,t=v,n=g,x.forEach((function(i){e.forEach((function(e){w(i,e,t),w(e,i,n)}))}))}()},4958:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(1684),o=function(){function e(t){(0,i.Z)(this,e),this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return(0,r.Z)(e,[{key:"canWrapX",value:function(){return this.canWrapX_}},{key:"getCode",value:function(){return this.code_}},{key:"getExtent",value:function(){return this.extent_}},{key:"getUnits",value:function(){return this.units_}},{key:"getMetersPerUnit",value:function(){return this.metersPerUnit_||a.W[this.units_]}},{key:"getWorldExtent",value:function(){return this.worldExtent_}},{key:"getAxisOrientation",value:function(){return this.axisOrientation_}},{key:"isGlobal",value:function(){return this.global_}},{key:"setGlobal",value:function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}},{key:"getDefaultTileGrid",value:function(){return this.defaultTileGrid_}},{key:"setDefaultTileGrid",value:function(e){this.defaultTileGrid_=e}},{key:"setExtent",value:function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}},{key:"setWorldExtent",value:function(e){this.worldExtent_=e}},{key:"setGetPointResolution",value:function(e){this.getPointResolutionFunc_=e}},{key:"getPointResolutionFunc",value:function(){return this.getPointResolutionFunc_}}]),e}();t.Z=o},1684:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var i={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937}},3384:function(e,t,n){"use strict";var i=n(3144),r=n(5671),a=n(136),o=n(9388),s=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).inversePixelTransform=i,s.frameState=a,s.context=o,s}return(0,i.Z)(n)}(n(5326).ZP);t.Z=s},6875:function(e,t){"use strict";t.Z={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},5259:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,[{key:"drawCustom",value:function(e,t,n,i){}},{key:"drawGeometry",value:function(e){}},{key:"setStyle",value:function(e){}},{key:"drawCircle",value:function(e,t){}},{key:"drawFeature",value:function(e,t){}},{key:"drawGeometryCollection",value:function(e,t){}},{key:"drawLineString",value:function(e,t){}},{key:"drawMultiLineString",value:function(e,t){}},{key:"drawMultiPoint",value:function(e,t){}},{key:"drawMultiPolygon",value:function(e,t){}},{key:"drawPoint",value:function(e,t){}},{key:"drawPolygon",value:function(e,t){}},{key:"drawText",value:function(e,t){}},{key:"setFillStrokeStyle",value:function(e,t){}},{key:"setImageStyle",value:function(e,t){}},{key:"setTextStyle",value:function(e,t){}}]),e}();t.Z=a},7907:function(e,t,n){"use strict";n.d(t,{Df:function(){return l},He:function(){return d},Kd:function(){return T},PH:function(){return y},Qx:function(){return w},Tx:function(){return g},V4:function(){return v},X9:function(){return f},Zw:function(){return R},_f:function(){return I},bL:function(){return h},mb:function(){return c},oB:function(){return _},rc:function(){return p},ru:function(){return m},sG:function(){return k},yC:function(){return x}});var i,r=n(5957),a=n(7288),o=n(6841),s=n(1408),u=n(9148),l="10px sans-serif",h="#000",c="round",f=[],d=0,p="round",v=10,g="#000",y="center",m="middle",_=[0,0,0,0],x=1,k=new r.Z,b=null,C={},w=function(){var e,t,n=100,r="32px ",a=["monospace","serif"],s=a.length,l="wmytzilWMYTZIL@#/&?$%10\uf013";function h(e,n,i){for(var o=!0,u=0;u<s;++u){var h=a[u];if(t=Z(e+" "+n+" "+r+h,l),i!=h){var c=Z(e+" "+n+" "+r+i+","+h,l);o=o&&c!=t}}return!!o}function c(){for(var t=!0,r=k.getKeys(),a=0,s=r.length;a<s;++a){var u=r[a];k.get(u)<n&&(h.apply(this,u.split("\n"))?((0,o.Z)(C),b=null,i=void 0,k.set(u,n)):(k.set(u,k.get(u)+1,!0),t=!1))}t&&(clearInterval(e),e=void 0)}return function(t){var i=(0,u.p)(t);if(i)for(var r=i.families,a=0,o=r.length;a<o;++a){var s=r[a],l=i.style+"\n"+i.weight+"\n"+s;void 0===k.get(l)&&(k.set(l,n,!0),h(i.style,i.weight,s)||(k.set(l,0,!0),void 0===e&&(e=setInterval(c,32))))}}}(),E=function(){var e;return function(t){var n=C[t];if(void 0==n){if(a.Id){var i=(0,u.p)(t),r=S(t,"\u017dg");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else e||((e=document.createElement("div")).innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);C[t]=n}return n}}();function S(e,t){return b||(b=(0,s.E4)(1,1)),e!=i&&(b.font=e,i=b.font),b.measureText(t)}function Z(e,t){return S(e,t).width}function T(e,t,n){if(t in n)return n[t];var i=t.split("\n").reduce((function(t,n){return Math.max(t,Z(e,n))}),0);return n[t]=i,i}function R(e,t){for(var n=[],i=[],r=[],a=0,o=0,s=0,u=0,l=0,h=t.length;l<=h;l+=2){var c=t[l];if("\n"!==c&&l!==h){var f=t[l+1]||e.font,d=Z(f,c);n.push(d),o+=d;var p=E(f);i.push(p),u=Math.max(u,p)}else a=Math.max(a,o),r.push(o),o=0,s+=u}return{width:a,height:s,widths:n,heights:i,lineWidths:r}}function I(e,t,n,i,r,a,o,s,u,l,h){e.save(),1!==n&&(e.globalAlpha*=n),t&&e.setTransform.apply(e,t),i.contextInstructions?(e.translate(u,l),e.scale(h[0],h[1]),function(e,t){for(var n=e.contextInstructions,i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?t[n[i]].apply(t,n[i+1]):t[n[i]]=n[i+1]}(i,e)):h[0]<0||h[1]<0?(e.translate(u,l),e.scale(h[0],h[1]),e.drawImage(i,r,a,o,s,0,0,o,s)):e.drawImage(i,r,a,o,s,u,l,o*h[0],s*h[1]),e.restore()}},5992:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(7819),u=n(5909),l=n(5259),h=n(1679),c=n(7130),f=n(7907),d=n(7678),p=n(6861),v=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,a,o){var s;return(0,i.Z)(this,n),(s=t.call(this)).tolerance=e,s.maxExtent=r,s.pixelRatio=o,s.maxLineWidth=0,s.resolution=a,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return(0,r.Z)(n,[{key:"applyPixelRatio",value:function(e){var t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))}},{key:"appendFlatPointCoordinates",value:function(e,t){for(var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates,a=r.length,o=0,s=e.length;o<s;o+=t)i[0]=e[o],i[1]=e[o+1],(0,c.b8)(n,i)&&(r[a++]=i[0],r[a++]=i[1]);return a}},{key:"appendFlatLineCoordinates",value:function(e,t,n,i,r,a){var o=this.coordinates,s=o.length,l=this.getBufferedMaxExtent();a&&(t+=i);var h,f,d,p=e[t],v=e[t+1],g=this.tmpCoordinate_,y=!0;for(h=t+i;h<n;h+=i)g[0]=e[h],g[1]=e[h+1],(d=(0,c.pX)(l,g))!==f?(y&&(o[s++]=p,o[s++]=v,y=!1),o[s++]=g[0],o[s++]=g[1]):d===u.Z.INTERSECTING?(o[s++]=g[0],o[s++]=g[1],y=!1):y=!0,p=g[0],v=g[1],f=d;return(r&&y||h===t+i)&&(o[s++]=p,o[s++]=v),s}},{key:"drawCustomCoordinates_",value:function(e,t,n,i,r){for(var a=0,o=n.length;a<o;++a){var s=n[a],u=this.appendFlatLineCoordinates(e,t,s,i,!1,!1);r.push(u),t=s}return t}},{key:"drawCustom",value:function(e,t,n,i){this.beginGeometry(e,t);var r,a,o,u,l,h=e.getType(),c=e.getStride(),f=this.coordinates.length;switch(h){case"MultiPolygon":r=e.getOrientedFlatCoordinates(),u=[];var d=e.getEndss();l=0;for(var v=0,g=d.length;v<g;++v){var y=[];l=this.drawCustomCoordinates_(r,l,d[v],c,y),u.push(y)}this.instructions.push([s.ZP.CUSTOM,f,u,e,n,p.ug]),this.hitDetectionInstructions.push([s.ZP.CUSTOM,f,u,e,i||n,p.ug]);break;case"Polygon":case"MultiLineString":o=[],r="Polygon"==h?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),l=this.drawCustomCoordinates_(r,0,e.getEnds(),c,o),this.instructions.push([s.ZP.CUSTOM,f,o,e,n,p.o1]),this.hitDetectionInstructions.push([s.ZP.CUSTOM,f,o,e,i||n,p.o1]);break;case"LineString":case"Circle":r=e.getFlatCoordinates(),a=this.appendFlatLineCoordinates(r,0,r.length,c,!1,!1),this.instructions.push([s.ZP.CUSTOM,f,a,e,n,p.Ml]),this.hitDetectionInstructions.push([s.ZP.CUSTOM,f,a,e,i||n,p.Ml]);break;case"MultiPoint":r=e.getFlatCoordinates(),(a=this.appendFlatPointCoordinates(r,c))>f&&(this.instructions.push([s.ZP.CUSTOM,f,a,e,n,p.Ml]),this.hitDetectionInstructions.push([s.ZP.CUSTOM,f,a,e,i||n,p.Ml]));break;case"Point":r=e.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),a=this.coordinates.length,this.instructions.push([s.ZP.CUSTOM,f,a,e,n]),this.hitDetectionInstructions.push([s.ZP.CUSTOM,f,a,e,i||n])}this.endGeometry(t)}},{key:"beginGeometry",value:function(e,t){this.beginGeometryInstruction1_=[s.ZP.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[s.ZP.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}},{key:"finish",value:function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}},{key:"reverseHitDetectionInstructions",value:function(){var e,t=this.hitDetectionInstructions;t.reverse();var n,i,r=t.length,a=-1;for(e=0;e<r;++e)(i=(n=t[e])[0])==s.ZP.END_GEOMETRY?a=e:i==s.ZP.BEGIN_GEOMETRY&&(n[2]=e,(0,d.FZ)(this.hitDetectionInstructions,a,e),a=-1)}},{key:"setFillStrokeStyle",value:function(e,t){var n=this.state;if(e){var i=e.getColor();n.fillStyle=(0,h.y)(i||f.bL)}else n.fillStyle=void 0;if(t){var r=t.getColor();n.strokeStyle=(0,h.y)(r||f.Tx);var a=t.getLineCap();n.lineCap=void 0!==a?a:f.mb;var o=t.getLineDash();n.lineDash=o?o.slice():f.X9;var s=t.getLineDashOffset();n.lineDashOffset=s||f.He;var u=t.getLineJoin();n.lineJoin=void 0!==u?u:f.rc;var l=t.getWidth();n.lineWidth=void 0!==l?l:f.yC;var c=t.getMiterLimit();n.miterLimit=void 0!==c?c:f.V4,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}},{key:"createFill",value:function(e){var t=e.fillStyle,n=[s.ZP.SET_FILL_STYLE,t];return"string"!==typeof t&&n.push(!0),n}},{key:"applyStroke",value:function(e){this.instructions.push(this.createStroke(e))}},{key:"createStroke",value:function(e){return[s.ZP.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}},{key:"updateFillStyle",value:function(e,t){var n=e.fillStyle;"string"===typeof n&&e.currentFillStyle==n||(void 0!==n&&this.instructions.push(t.call(this,e)),e.currentFillStyle=n)}},{key:"updateStrokeStyle",value:function(e,t){var n=e.strokeStyle,i=e.lineCap,r=e.lineDash,a=e.lineDashOffset,o=e.lineJoin,s=e.lineWidth,u=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=i||r!=e.currentLineDash&&!(0,d.fS)(e.currentLineDash,r)||e.currentLineDashOffset!=a||e.currentLineJoin!=o||e.currentLineWidth!=s||e.currentMiterLimit!=u)&&(void 0!==n&&t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=i,e.currentLineDash=r,e.currentLineDashOffset=a,e.currentLineJoin=o,e.currentLineWidth=s,e.currentMiterLimit=u)}},{key:"endGeometry",value:function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[s.ZP.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}},{key:"getBufferedMaxExtent",value:function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,c.d9)(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;(0,c.f3)(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}]),n}(l.Z);t.Z=v},8933:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n(5671),r=n(3144),a=n(5992),o=n(1752),s=n(1120),u=n(136),l=n(9388),h=n(7819),c=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,a,o){var s;return(0,i.Z)(this,n),(s=t.call(this,e,r,a,o)).hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterMode_=void 0,s.declutterImageWithText_=void 0,s}return(0,r.Z)(n,[{key:"drawPoint",value:function(e,t){if(this.image_){this.beginGeometry(e,t);var n=e.getFlatCoordinates(),i=e.getStride(),r=this.coordinates.length,a=this.appendFlatPointCoordinates(n,i);this.instructions.push([h.ZP.DRAW_IMAGE,r,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([h.ZP.DRAW_IMAGE,r,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}}},{key:"drawMultiPoint",value:function(e,t){if(this.image_){this.beginGeometry(e,t);var n=e.getFlatCoordinates(),i=e.getStride(),r=this.coordinates.length,a=this.appendFlatPointCoordinates(n,i);this.instructions.push([h.ZP.DRAW_IMAGE,r,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([h.ZP.DRAW_IMAGE,r,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}}},{key:"finish",value:function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,(0,o.Z)((0,s.Z)(n.prototype),"finish",this).call(this)}},{key:"setImageStyle",value:function(e,t){var n=e.getAnchor(),i=e.getSize(),r=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}]),n}(a.Z),f=n(7907),d=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,a,o){return(0,i.Z)(this,n),t.call(this,e,r,a,o)}return(0,r.Z)(n,[{key:"drawFlatCoordinates_",value:function(e,t,n,i){var r=this.coordinates.length,a=this.appendFlatLineCoordinates(e,t,n,i,!1,!1),o=[h.ZP.MOVE_TO_LINE_TO,r,a];return this.instructions.push(o),this.hitDetectionInstructions.push(o),n}},{key:"drawLineString",value:function(e,t){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([h.ZP.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,f.X9,f.He],h.$O);var a=e.getFlatCoordinates(),o=e.getStride();this.drawFlatCoordinates_(a,0,a.length,o),this.hitDetectionInstructions.push(h.Yc),this.endGeometry(t)}}},{key:"drawMultiLineString",value:function(e,t){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([h.ZP.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],h.$O);for(var a=e.getEnds(),o=e.getFlatCoordinates(),s=e.getStride(),u=0,l=0,c=a.length;l<c;++l)u=this.drawFlatCoordinates_(o,u,a[l],s);this.hitDetectionInstructions.push(h.Yc),this.endGeometry(t)}}},{key:"finish",value:function(){var e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(h.Yc),this.reverseHitDetectionInstructions(),this.state=null,(0,o.Z)((0,s.Z)(n.prototype),"finish",this).call(this)}},{key:"applyStroke",value:function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(h.Yc),e.lastStroke=this.coordinates.length),e.lastStroke=0,(0,o.Z)((0,s.Z)(n.prototype),"applyStroke",this).call(this,e),this.instructions.push(h.$O)}}]),n}(a.Z),p=n(8026),v=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,a,o){return(0,i.Z)(this,n),t.call(this,e,r,a,o)}return(0,r.Z)(n,[{key:"drawFlatCoordinatess_",value:function(e,t,n,i){var r=this.state,a=void 0!==r.fillStyle,o=void 0!==r.strokeStyle,s=n.length;this.instructions.push(h.$O),this.hitDetectionInstructions.push(h.$O);for(var u=0;u<s;++u){var l=n[u],c=this.coordinates.length,f=this.appendFlatLineCoordinates(e,t,l,i,!0,!o),d=[h.ZP.MOVE_TO_LINE_TO,c,f];this.instructions.push(d),this.hitDetectionInstructions.push(d),o&&(this.instructions.push(h.s3),this.hitDetectionInstructions.push(h.s3)),t=l}return a&&(this.instructions.push(h.gO),this.hitDetectionInstructions.push(h.gO)),o&&(this.instructions.push(h.Yc),this.hitDetectionInstructions.push(h.Yc)),t}},{key:"drawCircle",value:function(e,t){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([h.ZP.SET_FILL_STYLE,f.bL]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([h.ZP.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var a=e.getFlatCoordinates(),o=e.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,o,!1,!1);var u=[h.ZP.CIRCLE,s];this.instructions.push(h.$O,u),this.hitDetectionInstructions.push(h.$O,u),void 0!==n.fillStyle&&(this.instructions.push(h.gO),this.hitDetectionInstructions.push(h.gO)),void 0!==n.strokeStyle&&(this.instructions.push(h.Yc),this.hitDetectionInstructions.push(h.Yc)),this.endGeometry(t)}}},{key:"drawPolygon",value:function(e,t){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([h.ZP.SET_FILL_STYLE,f.bL]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([h.ZP.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var a=e.getEnds(),o=e.getOrientedFlatCoordinates(),s=e.getStride();this.drawFlatCoordinatess_(o,0,a,s),this.endGeometry(t)}}},{key:"drawMultiPolygon",value:function(e,t){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([h.ZP.SET_FILL_STYLE,f.bL]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([h.ZP.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var a=e.getEndss(),o=e.getOrientedFlatCoordinates(),s=e.getStride(),u=0,l=0,c=a.length;l<c;++l)u=this.drawFlatCoordinatess_(o,u,a[l],s);this.endGeometry(t)}}},{key:"finish",value:function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var t=this.coordinates,i=0,r=t.length;i<r;++i)t[i]=(0,p.uZ)(t[i],e);return(0,o.Z)((0,s.Z)(n.prototype),"finish",this).call(this)}},{key:"setFillStrokeStyles_",value:function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)}}]),n}(a.Z),g=n(6665),y={Circle:v,Default:a.Z,Image:c,LineString:d,Polygon:v,Text:g.Z},m=function(){function e(t,n,r,a){(0,i.Z)(this,e),this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=a,this.resolution_=r,this.buildersByZIndex_={}}return(0,r.Z)(e,[{key:"finish",value:function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var n=this.buildersByZIndex_[t];for(var i in n){var r=n[i].finish();e[t][i]=r}}return e}},{key:"getBuilder",value:function(e,t){var n=void 0!==e?e.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);var r=i[t];void 0===r&&(r=new(0,y[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=r);return r}}]),e}()},9988:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var i=n(3433),r=n(5671),a=n(3144),o=n(7819),s=n(6665),u=n(6108),l=n(7130),h=n(7907),c=n(2357),f=n(9045);function d(e,t,n,i,r,a,o,s,u,l,h,d){var p=e[t],v=e[t+1],g=0,y=0,m=0,_=0;function x(){g=p,y=v,p=e[t+=i],v=e[t+1],_+=m,m=Math.sqrt((p-g)*(p-g)+(v-y)*(v-y))}do{x()}while(t<n-i&&_+m<a);for(var k=0===m?0:(a-_)/m,b=(0,c.t7)(g,p,k),C=(0,c.t7)(y,v,k),w=t-i,E=_,S=a+s*u(l,r,h);t<n-i&&_+m<S;)x();k=0===m?0:(S-_)/m;var Z,T=(0,c.t7)(g,p,k),R=(0,c.t7)(y,v,k);if(d){var I=[b,C,T,R];(0,f.U1)(I,0,4,2,d,I,I),Z=I[0]>I[2]}else Z=b>T;var P,M=Math.PI,O=[],F=w+i===t;if(m=0,_=E,p=e[t=w],v=e[t+1],F){x(),P=Math.atan2(v-y,p-g),Z&&(P+=P>0?-M:M);var L=(T+b)/2,A=(R+C)/2;return O[0]=[L,A,(S-a)/2,P,r],O}for(var D=0,z=(r=r.replace(/\n/g," ")).length;D<z;){x();var N=Math.atan2(v-y,p-g);if(Z&&(N+=N>0?-M:M),void 0!==P){var G=N-P;if(G+=G>M?-2*M:G<-M?2*M:0,Math.abs(G)>o)return null}P=N;for(var j=D,q=0;D<z;++D){var W=s*u(l,r[Z?z-D-1:D],h);if(t+i<n&&_+m<a+q+W/2)break;q+=W}if(D!==j){var X=Z?r.substring(z-j,z-D):r.substring(j,D);k=0===m?0:(a+q/2-_)/m;var V=(0,c.t7)(g,p,k),Y=(0,c.t7)(y,v,k);O.push([V,Y,q/2,N,X]),a+=q}}return O}var p=n(7678),v=n(7322),g=(0,l.lJ)(),y=[],m=[],_=[],x=[];function k(e){return e[3].declutterBox}var b=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function C(e,t){return"start"!==t&&"end"!==t||b.test(e)||(t="start"===t?"left":"right"),s.I[t]}function w(e,t,n){return n>0&&e.push("\n",""),e.push(t,""),e}var E=function(){function e(t,n,i,a){(0,r.Z)(this,e),this.overlaps=i,this.pixelRatio=n,this.resolution=t,this.alignFill_,this.instructions=a.instructions,this.coordinates=a.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,u.Ue)(),this.hitDetectionInstructions=a.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=a.fillStates||{},this.strokeStates=a.strokeStates||{},this.textStates=a.textStates||{},this.widths_={},this.labels_={}}return(0,a.Z)(e,[{key:"createLabel",value:function(e,t,n,i){var r=e+t+n+i;if(this.labels_[r])return this.labels_[r];var a=i?this.strokeStates[i]:null,o=n?this.fillStates[n]:null,u=this.textStates[t],l=this.pixelRatio,c=[u.scale[0]*l,u.scale[1]*l],f=Array.isArray(e),d=u.justify?s.I[u.justify]:C(Array.isArray(e)?e[0]:e,u.textAlign||h.PH),p=i&&a.lineWidth?a.lineWidth:0,v=f?e:e.split("\n").reduce(w,[]),g=(0,h.Zw)(u,v),y=g.width,m=g.height,_=g.widths,x=g.heights,k=g.lineWidths,b=y+p,E=[],S=(b+2)*c[0],Z=(m+p)*c[1],T={width:S<0?Math.floor(S):Math.ceil(S),height:Z<0?Math.floor(Z):Math.ceil(Z),contextInstructions:E};1==c[0]&&1==c[1]||E.push("scale",c),i&&(E.push("strokeStyle",a.strokeStyle),E.push("lineWidth",p),E.push("lineCap",a.lineCap),E.push("lineJoin",a.lineJoin),E.push("miterLimit",a.miterLimit),E.push("setLineDash",[a.lineDash]),E.push("lineDashOffset",a.lineDashOffset)),n&&E.push("fillStyle",o.fillStyle),E.push("textBaseline","middle"),E.push("textAlign","center");for(var R,I=.5-d,P=d*b+I*p,M=[],O=[],F=0,L=0,A=0,D=0,z=0,N=v.length;z<N;z+=2){var G=v[z];if("\n"!==G){var j=v[z+1]||u.font;j!==R&&(i&&M.push("font",j),n&&O.push("font",j),R=j),F=Math.max(F,x[A]);var q=[G,P+I*_[A]+d*(_[A]-k[D]),.5*(p+F)+L];P+=_[A],i&&M.push("strokeText",q),n&&O.push("fillText",q),++A}else L+=F,F=0,P=d*b+I*p,++D}return Array.prototype.push.apply(E,M),Array.prototype.push.apply(E,O),this.labels_[r]=T,T}},{key:"replayTextBackground_",value:function(e,t,n,i,r,a,o){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,t),a&&(this.alignFill_=a[2],this.fill_(e)),o&&(this.setStrokeStyle_(e,o),e.stroke())}},{key:"calculateImageOrLabelDimensions_",value:function(e,t,n,i,r,a,o,s,h,c,f,d,p,v,k,b){var C,w=n-(o*=d[0]),E=i-(s*=d[1]),S=r+h>e?e-h:r,Z=a+c>t?t-c:a,T=v[3]+S*d[0]+v[1],R=v[0]+Z*d[1]+v[2],I=w-v[3],P=E-v[0];return(k||0!==f)&&(y[0]=I,x[0]=I,y[1]=P,m[1]=P,m[0]=I+T,_[0]=m[0],_[1]=P+R,x[1]=_[1]),0!==f?(C=(0,u.qC)((0,u.Ue)(),n,i,1,1,f,-n,-i),(0,u.nn)(C,y),(0,u.nn)(C,m),(0,u.nn)(C,_),(0,u.nn)(C,x),(0,l.T9)(Math.min(y[0],m[0],_[0],x[0]),Math.min(y[1],m[1],_[1],x[1]),Math.max(y[0],m[0],_[0],x[0]),Math.max(y[1],m[1],_[1],x[1]),g)):(0,l.T9)(Math.min(I,I+T),Math.min(P,P+R),Math.max(I,I+T),Math.max(P,P+R),g),p&&(w=Math.round(w),E=Math.round(E)),{drawImageX:w,drawImageY:E,drawImageW:S,drawImageH:Z,originX:h,originY:c,declutterBox:{minX:g[0],minY:g[1],maxX:g[2],maxY:g[3],value:b},canvasTransform:C,scale:d}}},{key:"replayImageOrLabel_",value:function(e,t,n,i,r,a,o){var s=!(!a&&!o),u=i.declutterBox,l=e.canvas,c=o?o[2]*i.scale[0]/2:0;return u.minX-c<=l.width/t&&u.maxX+c>=0&&u.minY-c<=l.height/t&&u.maxY+c>=0&&(s&&this.replayTextBackground_(e,y,m,_,x,a,o),(0,h._f)(e,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}},{key:"fill_",value:function(e){if(this.alignFill_){var t=(0,u.nn)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;e.save(),e.translate(t[0]%n,t[1]%n),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}},{key:"setStrokeStyle_",value:function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}},{key:"drawLabelWithPointPlacement_",value:function(e,t,n,i){var r=this.textStates[t],a=this.createLabel(e,t,i,n),o=this.strokeStates[n],u=this.pixelRatio,l=C(Array.isArray(e)?e[0]:e,r.textAlign||h.PH),c=s.I[r.textBaseline||h.ru],f=o&&o.lineWidth?o.lineWidth:0;return{label:a,anchorX:l*(a.width/u-2*r.scale[0])+2*(.5-l)*f,anchorY:c*a.height/u+2*(.5-c)*f}}},{key:"execute_",value:function(e,t,n,i,r,a,c,g){var y;this.pixelCoordinates_&&(0,p.fS)(n,this.renderedTransform_)?y=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),y=(0,f.vT)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(0,u.lk)(this.renderedTransform_,n));for(var m,_,x,b,C,w,E,S,Z,T,R,I,P,M,O,F,L=0,A=i.length,D=0,z=0,N=0,G=null,j=null,q=this.coordinateCache_,W=this.viewRotation_,X=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,V={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:W},Y=this.instructions!=i||this.overlaps?0:200;L<A;){var U=i[L];switch(U[0]){case o.ZP.BEGIN_GEOMETRY:P=U[1],F=U[3],P.getGeometry()?void 0===c||(0,l.kK)(c,F.getExtent())?++L:L=U[2]+1:L=U[2];break;case o.ZP.BEGIN_PATH:z>Y&&(this.fill_(e),z=0),N>Y&&(e.stroke(),N=0),z||N||(e.beginPath(),b=NaN,C=NaN),++L;break;case o.ZP.CIRCLE:var B=y[D=U[1]],K=y[D+1],H=y[D+2]-B,J=y[D+3]-K,$=Math.sqrt(H*H+J*J);e.moveTo(B+$,K),e.arc(B,K,$,0,2*Math.PI,!0),++L;break;case o.ZP.CLOSE_PATH:e.closePath(),++L;break;case o.ZP.CUSTOM:D=U[1],m=U[2];var Q=U[3],ee=U[4],te=6==U.length?U[5]:void 0;V.geometry=Q,V.feature=P,L in q||(q[L]=[]);var ne=q[L];te?te(y,D,m,2,ne):(ne[0]=y[D],ne[1]=y[D+1],ne.length=2),ee(ne,V),++L;break;case o.ZP.DRAW_IMAGE:D=U[1],m=U[2],S=U[3],_=U[4],x=U[5];var ie=U[6],re=U[7],ae=U[8],oe=U[9],se=U[10],ue=U[11],le=U[12],he=U[13],ce=U[14],fe=U[15];if(!S&&U.length>=20){Z=U[19],T=U[20],R=U[21],I=U[22];var de=this.drawLabelWithPointPlacement_(Z,T,R,I);S=de.label,U[3]=S;var pe=U[23];_=(de.anchorX-pe)*this.pixelRatio,U[4]=_;var ve=U[24];x=(de.anchorY-ve)*this.pixelRatio,U[5]=x,ie=S.height,U[6]=ie,he=S.width,U[13]=he}var ge=void 0;U.length>25&&(ge=U[25]);var ye=void 0,me=void 0,_e=void 0;U.length>17?(ye=U[16],me=U[17],_e=U[18]):(ye=h.oB,me=!1,_e=!1),se&&X?ue+=W:se||X||(ue-=W);for(var xe=0;D<m;D+=2)if(!(ge&&ge[xe++]<he/this.pixelRatio)){var ke=this.calculateImageOrLabelDimensions_(S.width,S.height,y[D],y[D+1],he,ie,_,x,ae,oe,ue,le,r,ye,me||_e,P),be=[e,t,S,ke,re,me?G:null,_e?j:null];if(g){if("none"===ce)continue;if("obstacle"===ce){g.insert(ke.declutterBox);continue}var Ce=void 0,we=void 0;if(fe){var Ee=m-D;if(!fe[Ee]){fe[Ee]=be;continue}if(Ce=fe[Ee],delete fe[Ee],we=k(Ce),g.collides(we))continue}if(g.collides(ke.declutterBox))continue;Ce&&(g.insert(we),this.replayImageOrLabel_.apply(this,Ce)),g.insert(ke.declutterBox)}this.replayImageOrLabel_.apply(this,be)}++L;break;case o.ZP.DRAW_CHARS:var Se=U[1],Ze=U[2],Te=U[3],Re=U[4];I=U[5];var Ie=U[6],Pe=U[7],Me=U[8];R=U[9];var Oe=U[10];Z=U[11],T=U[12];var Fe=[U[13],U[13]],Le=this.textStates[T],Ae=Le.font,De=[Le.scale[0]*Pe,Le.scale[1]*Pe],ze=void 0;Ae in this.widths_?ze=this.widths_[Ae]:(ze={},this.widths_[Ae]=ze);var Ne=(0,v.W)(y,Se,Ze,2),Ge=Math.abs(De[0])*(0,h.Kd)(Ae,Z,ze);if(Re||Ge<=Ne){var je=this.textStates[T].textAlign,qe=d(y,Se,Ze,2,Z,(Ne-Ge)*s.I[je],Ie,Math.abs(De[0]),h.Kd,Ae,ze,X?0:this.viewRotation_);e:if(qe){var We=[],Xe=void 0,Ve=void 0,Ye=void 0,Ue=void 0,Be=void 0;if(R)for(Xe=0,Ve=qe.length;Xe<Ve;++Xe){Ye=(Be=qe[Xe])[4],Ue=this.createLabel(Ye,T,"",R),_=Be[2]+(De[0]<0?-Oe:Oe),x=Te*Ue.height+2*(.5-Te)*Oe*De[1]/De[0]-Me;var Ke=this.calculateImageOrLabelDimensions_(Ue.width,Ue.height,Be[0],Be[1],Ue.width,Ue.height,_,x,0,0,Be[3],Fe,!1,h.oB,!1,P);if(g&&g.collides(Ke.declutterBox))break e;We.push([e,t,Ue,Ke,1,null,null])}if(I)for(Xe=0,Ve=qe.length;Xe<Ve;++Xe){Ye=(Be=qe[Xe])[4],Ue=this.createLabel(Ye,T,I,""),_=Be[2],x=Te*Ue.height-Me;var He=this.calculateImageOrLabelDimensions_(Ue.width,Ue.height,Be[0],Be[1],Ue.width,Ue.height,_,x,0,0,Be[3],Fe,!1,h.oB,!1,P);if(g&&g.collides(He.declutterBox))break e;We.push([e,t,Ue,He,1,null,null])}g&&g.load(We.map(k));for(var Je=0,$e=We.length;Je<$e;++Je)this.replayImageOrLabel_.apply(this,We[Je])}}++L;break;case o.ZP.END_GEOMETRY:if(void 0!==a){var Qe=a(P=U[1],F);if(Qe)return Qe}++L;break;case o.ZP.FILL:Y?z++:this.fill_(e),++L;break;case o.ZP.MOVE_TO_LINE_TO:for(D=U[1],m=U[2],M=y[D],E=(O=y[D+1])+.5|0,(w=M+.5|0)===b&&E===C||(e.moveTo(M,O),b=w,C=E),D+=2;D<m;D+=2)w=(M=y[D])+.5|0,E=(O=y[D+1])+.5|0,D!=m-2&&w===b&&E===C||(e.lineTo(M,O),b=w,C=E);++L;break;case o.ZP.SET_FILL_STYLE:G=U,this.alignFill_=U[2],z&&(this.fill_(e),z=0,N&&(e.stroke(),N=0)),e.fillStyle=U[1],++L;break;case o.ZP.SET_STROKE_STYLE:j=U,N&&(e.stroke(),N=0),this.setStrokeStyle_(e,U),++L;break;case o.ZP.STROKE:Y?N++:e.stroke(),++L;break;default:++L}}z&&this.fill_(e),N&&e.stroke()}},{key:"execute",value:function(e,t,n,i,r,a){this.viewRotation_=i,this.execute_(e,t,n,this.instructions,r,void 0,void 0,a)}},{key:"executeHitDetection",value:function(e,t,n,i,r){return this.viewRotation_=n,this.execute_(e,1,t,this.hitDetectionInstructions,!0,i,r)}}]),e}(),S=n(1408),Z=n(6841),T=["Polygon","Circle","LineString","Image","Text","Default"],R=function(){function e(t,n,i,a,o,s){(0,r.Z)(this,e),this.maxExtent_=t,this.overlaps_=a,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,u.Ue)(),this.createExecutors_(o)}return(0,a.Z)(e,[{key:"clip",value:function(e,t){var n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()}},{key:"createExecutors_",value:function(e){for(var t in e){var n=this.executorsByZIndex_[t];void 0===n&&(n={},this.executorsByZIndex_[t]=n);var i=e[t];for(var r in i){var a=i[r];n[r]=new E(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}}},{key:"hasExecutors",value:function(e){for(var t in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[t],i=0,r=e.length;i<r;++i)if(e[i]in n)return!0;return!1}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,r,a,o){var s=2*(r=Math.round(r))+1,h=(0,u.qC)(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-n,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=(0,S.E4)(s,s,void 0,{willReadFrequently:!0}));var f,d=this.hitDetectionContext_;d.canvas.width!==s||d.canvas.height!==s?(d.canvas.width=s,d.canvas.height=s):c||d.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(f=(0,l.lJ)(),(0,l.Wj)(f,e),(0,l.f3)(f,t*(this.renderBuffer_+r),f));var v,g=function(e){if(void 0!==I[e])return I[e];for(var t=2*e+1,n=e*e,r=new Array(n+1),a=0;a<=e;++a)for(var o=0;o<=e;++o){var s=a*a+o*o;if(s>n)break;var u=r[s];u||(u=[],r[s]=u),u.push(4*((e+a)*t+(e+o))+3),a>0&&u.push(4*((e-a)*t+(e+o))+3),o>0&&(u.push(4*((e+a)*t+(e-o))+3),a>0&&u.push(4*((e-a)*t+(e-o))+3))}for(var l=[],h=0,c=r.length;h<c;++h)r[h]&&l.push.apply(l,(0,i.Z)(r[h]));return I[e]=l,l}(r);function y(e,t){for(var n=d.getImageData(0,0,s,s).data,i=0,u=g.length;i<u;i++)if(n[g[i]]>0){if(!o||"Image"!==v&&"Text"!==v||o.includes(e)){var l=(g[i]-3)/4,h=r-l%s,c=r-(l/s|0),f=a(e,t,h*h+c*c);if(f)return f}d.clearRect(0,0,s,s);break}}var m,_,x,k,b,C=Object.keys(this.executorsByZIndex_).map(Number);for(C.sort(p.j2),m=C.length-1;m>=0;--m){var w=C[m].toString();for(x=this.executorsByZIndex_[w],_=T.length-1;_>=0;--_)if(void 0!==(k=x[v=T[_]])&&(b=k.executeHitDetection(d,h,n,y,f)))return b}}},{key:"getClipCoords",value:function(e){var t=this.maxExtent_;if(!t)return null;var n=t[0],i=t[1],r=t[2],a=t[3],o=[n,i,n,a,r,a,r,i];return(0,f.vT)(o,0,8,2,e,o),o}},{key:"isEmpty",value:function(){return(0,Z.x)(this.executorsByZIndex_)}},{key:"execute",value:function(e,t,n,i,r,a,o){var s,u,l,h,c,f,d=Object.keys(this.executorsByZIndex_).map(Number);for(d.sort(p.j2),this.maxExtent_&&(e.save(),this.clip(e,n)),a=a||T,o&&d.reverse(),s=0,u=d.length;s<u;++s){var v=d[s].toString();for(c=this.executorsByZIndex_[v],l=0,h=a.length;l<h;++l){void 0!==(f=c[a[l]])&&f.execute(e,t,n,i,r,o)}}this.maxExtent_&&e.restore()}}]),e}(),I={};var P=R},7819:function(e,t,n){"use strict";n.d(t,{$O:function(){return o},Yc:function(){return a},gO:function(){return r},s3:function(){return s}});var i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},r=[i.FILL],a=[i.STROKE],o=[i.BEGIN_PATH],s=[i.CLOSE_PATH];t.ZP=i},6665:function(e,t,n){"use strict";n.d(t,{I:function(){return g},Z:function(){return y}});var i=n(5671),r=n(3144),a=n(1752),o=n(1120),s=n(136),u=n(9388),l=n(5992),h=n(7819),c=n(1679),f=n(7907),d=n(6006),p=n(7130);function v(e,t,n,i,r){var a,o,s,u,l,h,c,f,d,p=n,v=n,g=0,y=0,m=n;for(a=n;a<i;a+=r){var _=t[a],x=t[a+1];void 0!==u&&(f=_-u,d=x-l,s=Math.sqrt(f*f+d*d),void 0!==h&&(y+=o,Math.acos((h*f+c*d)/(o*s))>e&&(y>g&&(g=y,p=m,v=a),y=0,m=a-r)),o=s,h=f,c=d),u=_,l=x}return(y+=s)>g?[m,a]:[p,v]}var g={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},y=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,a,o){var s;return(0,i.Z)(this,n),(s=t.call(this,e,r,a,o)).labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return(0,r.Z)(n,[{key:"finish",value:function(){var e=(0,a.Z)((0,o.Z)(n.prototype),"finish",this).call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}},{key:"drawText",value:function(e,t){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var a=this.coordinates,o=a.length,s=e.getType(),u=null,l=e.getStride();if("line"!==r.placement||"LineString"!=s&&"MultiLineString"!=s&&"Polygon"!=s&&"MultiPolygon"!=s){var c=r.overflow?null:[];switch(s){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),l=2;break;case"Polygon":u=e.getFlatInteriorPoint(),r.overflow||c.push(u[2]/this.resolution),l=3;break;case"MultiPolygon":var d=e.getFlatInteriorPoints();u=[];for(var g=0,y=d.length;g<y;g+=3)r.overflow||c.push(d[g+2]/this.resolution),u.push(d[g],d[g+1]);if(0===u.length)return;l=2}var m=this.appendFlatPointCoordinates(u,l);if(m===o)return;if(c&&(m-o)/2!==u.length/l){var _=o/2;c=c.filter((function(e,t){var n=a[2*(_+t)]===u[t*l]&&a[2*(_+t)+1]===u[t*l+1];return n||--_,n}))}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);var x=r.padding;if(x!=f.oB&&(r.scale[0]<0||r.scale[1]<0)){var k=r.padding[0],b=r.padding[1],C=r.padding[2],w=r.padding[3];r.scale[0]<0&&(b=-b,w=-w),r.scale[1]<0&&(k=-k,C=-C),x=[k,b,C,w]}var E=this.pixelRatio;this.instructions.push([h.ZP.DRAW_IMAGE,o,m,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,x==f.oB?f.oB:x.map((function(e){return e*E})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var S=1/E;this.hitDetectionInstructions.push([h.ZP.DRAW_IMAGE,o,m,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[S,S],NaN,void 0,this.declutterImageWithText_,x,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(t)}else{if(!(0,p.kK)(this.getBufferedMaxExtent(),e.getExtent()))return;var Z;if(u=e.getFlatCoordinates(),"LineString"==s)Z=[u.length];else if("MultiLineString"==s)Z=e.getEnds();else if("Polygon"==s)Z=e.getEnds().slice(0,1);else if("MultiPolygon"==s){var T=e.getEndss();Z=[];for(var R=0,I=T.length;R<I;++R)Z.push(T[R][0])}this.beginGeometry(e,t);for(var P,M=r.textAlign,O=0,F=0,L=Z.length;F<L;++F){if(void 0==M){var A=v(r.maxAngle,u,O,Z[F],l);O=A[0],P=A[1]}else P=Z[F];for(var D=O;D<P;D+=l)a.push(u[D],u[D+1]);var z=a.length;O=Z[F],this.drawChars_(o,z),o=z}this.endGeometry(t)}}}},{key:"saveTextStates_",value:function(){var e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:t.font,textAlign:t.textAlign||f.PH,justify:t.justify,textBaseline:t.textBaseline||f.ru,scale:t.scale});var a=this.fillKey_;n&&(a in this.fillStates||(this.fillStates[a]={fillStyle:n.fillStyle}))}},{key:"drawChars_",value:function(e,t){var n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,a=this.textKey_,o=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,u=g[i.textBaseline],l=this.textOffsetY_*s,c=this.text_,f=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([h.ZP.DRAW_CHARS,e,t,u,i.overflow,o,i.maxAngle,s,l,r,f*s,c,a,1]),this.hitDetectionInstructions.push([h.ZP.DRAW_CHARS,e,t,u,i.overflow,o,i.maxAngle,1,l,r,f,c,a,1/s])}},{key:"setTextStyle",value:function(e,t){var n,i,r;if(e){var a=e.getFill();a?((i=this.textFillState_)||(i={},this.textFillState_=i),i.fillStyle=(0,c.y)(a.getColor()||f.bL)):(i=null,this.textFillState_=i);var o=e.getStroke();if(o){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);var s=o.getLineDash(),u=o.getLineDashOffset(),l=o.getWidth(),h=o.getMiterLimit();r.lineCap=o.getLineCap()||f.mb,r.lineDash=s?s.slice():f.X9,r.lineDashOffset=void 0===u?f.He:u,r.lineJoin=o.getLineJoin()||f.rc,r.lineWidth=void 0===l?f.yC:l,r.miterLimit=void 0===h?f.V4:h,r.strokeStyle=(0,c.y)(o.getColor()||f.Tx)}else r=null,this.textStrokeState_=r;n=this.textState_;var p=e.getFont()||f.Df;(0,f.Qx)(p);var v=e.getScaleArray();n.overflow=e.getOverflow(),n.font=p,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.justify=e.getJustify(),n.textBaseline=e.getTextBaseline()||f.ru,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||f.oB,n.scale=void 0===v?[1,1]:v;var g=e.getOffsetX(),y=e.getOffsetY(),m=e.getRotateWithView(),_=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===g?0:g,this.textOffsetY_=void 0===y?0:y,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0===_?0:_,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:(0,d.sq)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+(0,d.sq)(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=t}}]),n}(l.Z)},8418:function(e,t,n){"use strict";n.d(t,{UN:function(){return x},TU:function(){return k},ix:function(){return b}});var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(5259),u=n(1679),l=n(6108),h=n(7907),c=n(7678),f=n(7130),d=n(2357),p=n(9045),v=n(2952),g=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,a,o,s,u,h){var c;return(0,i.Z)(this,n),(c=t.call(this)).context_=e,c.pixelRatio_=r,c.extent_=a,c.transform_=o,c.transformRotation_=o?(0,d.FH)(Math.atan2(o[1],o[0]),10):0,c.viewRotation_=s,c.squaredTolerance_=u,c.userTransform_=h,c.contextFillState_=null,c.contextStrokeState_=null,c.contextTextState_=null,c.fillState_=null,c.strokeState_=null,c.image_=null,c.imageAnchorX_=0,c.imageAnchorY_=0,c.imageHeight_=0,c.imageOpacity_=0,c.imageOriginX_=0,c.imageOriginY_=0,c.imageRotateWithView_=!1,c.imageRotation_=0,c.imageScale_=[0,0],c.imageWidth_=0,c.text_="",c.textOffsetX_=0,c.textOffsetY_=0,c.textRotateWithView_=!1,c.textRotation_=0,c.textScale_=[0,0],c.textFillState_=null,c.textStrokeState_=null,c.textState_=null,c.pixelCoordinates_=[],c.tmpLocalTransform_=(0,l.Ue)(),c}return(0,r.Z)(n,[{key:"drawImages_",value:function(e,t,n,i){if(this.image_){var r=(0,p.vT)(e,t,n,i,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.tmpLocalTransform_,s=a.globalAlpha;1!=this.imageOpacity_&&(a.globalAlpha=s*this.imageOpacity_);var u=this.imageRotation_;0===this.transformRotation_&&(u-=this.viewRotation_),this.imageRotateWithView_&&(u+=this.viewRotation_);for(var h=0,c=r.length;h<c;h+=2){var f=r[h]-this.imageAnchorX_,d=r[h+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var v=f+this.imageAnchorX_,g=d+this.imageAnchorY_;(0,l.qC)(o,v,g,1,1,u,-v,-g),a.setTransform.apply(a,o),a.translate(v,g),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.setTransform(1,0,0,1,0,0)}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,d,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(a.globalAlpha=s)}}},{key:"drawText_",value:function(e,t,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=(0,p.vT)(e,t,n,i,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.textRotation_;for(0===this.transformRotation_&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);t<n;t+=i){var s=r[t]+this.textOffsetX_,u=r[t+1]+this.textOffsetY_;0!==o||1!=this.textScale_[0]||1!=this.textScale_[1]?(a.translate(s-this.textOffsetX_,u-this.textOffsetY_),a.rotate(o),a.translate(this.textOffsetX_,this.textOffsetY_),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&a.strokeText(this.text_,s,u),this.textFillState_&&a.fillText(this.text_,s,u))}}}},{key:"moveToLineTo_",value:function(e,t,n,i,r){var a=this.context_,o=(0,p.vT)(e,t,n,i,this.transform_,this.pixelCoordinates_);a.moveTo(o[0],o[1]);var s=o.length;r&&(s-=2);for(var u=2;u<s;u+=2)a.lineTo(o[u],o[u+1]);return r&&a.closePath(),n}},{key:"drawRings_",value:function(e,t,n,i){for(var r=0,a=n.length;r<a;++r)t=this.moveToLineTo_(e,t,n[r],i,!0);return t}},{key:"drawCircle",value:function(e){if((0,f.kK)(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=(0,v.Kr)(e,this.transform_,this.pixelCoordinates_),n=t[2]-t[0],i=t[3]-t[1],r=Math.sqrt(n*n+i*i),a=this.context_;a.beginPath(),a.arc(t[0],t[1],r,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}},{key:"setStyle",value:function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}},{key:"setTransform",value:function(e){this.transform_=e}},{key:"drawGeometry",value:function(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}},{key:"drawFeature",value:function(e,t){var n=t.getGeometryFunction()(e);n&&(0,f.kK)(this.extent_,n.getExtent())&&(this.setStyle(t),this.drawGeometry(n))}},{key:"drawGeometryCollection",value:function(e){for(var t=e.getGeometriesArray(),n=0,i=t.length;n<i;++n)this.drawGeometry(t[n])}},{key:"drawPoint",value:function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}},{key:"drawMultiPoint",value:function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}},{key:"drawLineString",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,f.kK)(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,n=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){var i=e.getFlatMidpoint();this.drawText_(i,0,2,2)}}}},{key:"drawMultiLineString",value:function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getExtent();if((0,f.kK)(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getFlatCoordinates(),r=0,a=e.getEnds(),o=e.getStride();n.beginPath();for(var s=0,u=a.length;s<u;++s)r=this.moveToLineTo_(i,r,a[s],o,!1);n.stroke()}if(""!==this.text_){var l=e.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}}},{key:"drawPolygon",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,f.kK)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}},{key:"drawMultiPolygon",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,f.kK)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_,n=e.getOrientedFlatCoordinates(),i=0,r=e.getEndss(),a=e.getStride();t.beginPath();for(var o=0,s=r.length;o<s;++o){var u=r[o];i=this.drawRings_(n,i,u,a)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var l=e.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}}},{key:"setContextFillState_",value:function(e){var t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}},{key:"setContextStrokeState_",value:function(e){var t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),(0,c.fS)(n.lineDash,e.lineDash)||t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}},{key:"setContextTextState_",value:function(e){var t=this.context_,n=this.contextTextState_,i=e.textAlign?e.textAlign:h.PH;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=i&&(n.textAlign=i,t.textAlign=i),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=i,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}},{key:"setFillStrokeStyle",value:function(e,t){var n=this;if(e){var i=e.getColor();this.fillState_={fillStyle:(0,u.y)(i||h.bL)}}else this.fillState_=null;if(t){var r=t.getColor(),a=t.getLineCap(),o=t.getLineDash(),s=t.getLineDashOffset(),l=t.getLineJoin(),c=t.getWidth(),f=t.getMiterLimit(),d=o||h.X9;this.strokeState_={lineCap:void 0!==a?a:h.mb,lineDash:1===this.pixelRatio_?d:d.map((function(e){return e*n.pixelRatio_})),lineDashOffset:(s||h.He)*this.pixelRatio_,lineJoin:void 0!==l?l:h.rc,lineWidth:(void 0!==c?c:h.yC)*this.pixelRatio_,miterLimit:void 0!==f?f:h.V4,strokeStyle:(0,u.y)(r||h.Tx)}}else this.strokeState_=null}},{key:"setImageStyle",value:function(e){var t;if(e&&(t=e.getSize())){var n=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),r=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*n,this.imageAnchorY_=i[1]*n,this.imageHeight_=t[1]*n,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();var a=e.getScaleArray();this.imageScale_=[a[0]*this.pixelRatio_/n,a[1]*this.pixelRatio_/n],this.imageWidth_=t[0]*n}else this.image_=null}},{key:"setTextStyle",value:function(e){if(e){var t=e.getFill();if(t){var n=t.getColor();this.textFillState_={fillStyle:(0,u.y)(n||h.bL)}}else this.textFillState_=null;var i=e.getStroke();if(i){var r=i.getColor(),a=i.getLineCap(),o=i.getLineDash(),s=i.getLineDashOffset(),l=i.getLineJoin(),c=i.getWidth(),f=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:h.mb,lineDash:o||h.X9,lineDashOffset:s||h.He,lineJoin:void 0!==l?l:h.rc,lineWidth:void 0!==c?c:h.yC,miterLimit:void 0!==f?f:h.V4,strokeStyle:(0,u.y)(r||h.Tx)}}else this.textStrokeState_=null;var d=e.getFont(),p=e.getOffsetX(),v=e.getOffsetY(),g=e.getRotateWithView(),y=e.getRotation(),m=e.getScaleArray(),_=e.getText(),x=e.getTextAlign(),k=e.getTextBaseline();this.textState_={font:void 0!==d?d:h.Df,textAlign:void 0!==x?x:h.PH,textBaseline:void 0!==k?k:h.ru},this.text_=void 0!==_?Array.isArray(_)?_.reduce((function(e,t,n){return e+(n%2?" ":t)}),""):_:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==v?this.pixelRatio_*v:0,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0!==y?y:0,this.textScale_=[this.pixelRatio_*m[0],this.pixelRatio_*m[1]]}else this.text_=""}}]),n}(s.Z),y=g,m=n(8920),_=n(1408),x=.5;function k(e,t,n,i,r,a,o){var s=e[0]*x,u=e[1]*x,l=(0,_.E4)(s,u);l.imageSmoothingEnabled=!1;for(var h=l.canvas,d=new y(l,x,r,null,o),p=n.length,v=Math.floor(16777215/p),g={},k=1;k<=p;++k){var b=n[k-1],C=b.getStyleFunction()||i;if(i){var w=C(b,a);if(w){Array.isArray(w)||(w=[w]);for(var E=(k*v).toString(16).padStart(7,"#00000"),S=0,Z=w.length;S<Z;++S){var T=w[S],R=T.getGeometryFunction()(b);if(R&&(0,f.kK)(r,R.getExtent())){var I=T.clone(),P=I.getFill();P&&P.setColor(E);var M=I.getStroke();M&&(M.setColor(E),M.setLineDash(null)),I.setText(void 0);var O=T.getImage();if(O&&0!==O.getOpacity()){var F=O.getImageSize();if(!F)continue;var L=(0,_.E4)(F[0],F[1],void 0,{alpha:!1}),A=L.canvas;L.fillStyle=E,L.fillRect(0,0,A.width,A.height),I.setImage(new m.Z({img:A,imgSize:F,anchor:O.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:O.getOrigin(),opacity:1,size:O.getSize(),scale:O.getScale(),rotation:O.getRotation(),rotateWithView:O.getRotateWithView()}))}var D=I.getZIndex()||0,z=g[D];z||(z={},g[D]=z,z.Polygon=[],z.Circle=[],z.LineString=[],z.Point=[]);var N=R.getType();if("GeometryCollection"===N)for(var G=R.getGeometriesArrayRecursive(),j=0,q=G.length;j<q;++j){var W=G[j];z[W.getType().replace("Multi","")].push(W,I)}else z[N.replace("Multi","")].push(R,I)}}}}}for(var X=Object.keys(g).map(Number).sort(c.j2),V=0,Y=X.length;V<Y;++V){var U=g[X[V]];for(var B in U)for(var K=U[B],H=0,J=K.length;H<J;H+=2){d.setStyle(K[H+1]);for(var $=0,Q=t.length;$<Q;++$)d.setTransform(t[$]),d.drawGeometry(K[H])}}return l.getImageData(0,0,h.width,h.height)}function b(e,t,n){var i=[];if(n){var r=Math.floor(Math.round(e[0])*x),a=Math.floor(Math.round(e[1])*x),o=4*((0,d.uZ)(r,0,n.width-1)+(0,d.uZ)(a,0,n.height-1)*n.width),s=n.data[o],u=n.data[o+1],l=n.data[o+2]+256*(u+256*s),h=Math.floor(16777215/t.length);l&&l%h===0&&i.push(t[l/h-1])}return i}},8831:function(e,t,n){"use strict";n.d(t,{r:function(){return b},Z:function(){return w}});var i=n(5671),r=n(3144),a=n(1752),o=n(1120),s=n(136),u=n(9388),l=n(7326),h=n(5947),c=n(688),f=n(5201),d=n(6006),p=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this)).ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind((0,l.Z)(r)),r.layer_=e,r.declutterExecutorGroup=null,r}return(0,r.Z)(n,[{key:"getFeatures",value:function(e){return(0,d.O3)()}},{key:"getData",value:function(e){return null}},{key:"prepareFrame",value:function(e){return(0,d.O3)()}},{key:"renderFrame",value:function(e,t){return(0,d.O3)()}},{key:"loadedTileCallback",value:function(e,t,n){e[t]||(e[t]={}),e[t][n.tileCoord.toString()]=n}},{key:"createLoadedTileFinder",value:function(e,t,n){var i=this;return function(r,a){var o=i.loadedTileCallback.bind(i,n,r);return e.forEachLoadedTile(t,r,a,o)}}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r){}},{key:"getLayer",value:function(){return this.layer_}},{key:"handleFontsChanged",value:function(){}},{key:"handleImageChange_",value:function(e){e.target.getState()===c.Z.LOADED&&this.renderIfReadyAndVisible()}},{key:"loadImage",value:function(e){var t=e.getState();return t!=c.Z.LOADED&&t!=c.Z.ERROR&&e.addEventListener(h.Z.CHANGE,this.boundHandleImageChange_),t==c.Z.IDLE&&(e.load(),t=e.getState()),t==c.Z.LOADED}},{key:"renderIfReadyAndVisible",value:function(){var e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}},{key:"disposeInternal",value:function(){delete this.layer_,(0,a.Z)((0,o.Z)(n.prototype),"disposeInternal",this).call(this)}}]),n}(f.Z),v=n(3384),g=n(6875),y=n(6108),m=n(6838),_=n(1408),x=n(7678),k=n(7130),b=[],C=null;var w=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).container=null,r.renderedResolution,r.tempTransform=(0,y.Ue)(),r.pixelTransform=(0,y.Ue)(),r.inversePixelTransform=(0,y.Ue)(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return(0,r.Z)(n,[{key:"getImageData",value:function(e,t,n){var i;C||(C=(0,_.E4)(1,1,void 0,{willReadFrequently:!0})),C.clearRect(0,0,1,1);try{C.drawImage(e,t,n,1,1,0,0,1,1),i=C.getImageData(0,0,1,1).data}catch(r){return C=null,null}return i}},{key:"getBackground",value:function(e){var t=this.getLayer().getBackground();return"function"===typeof t&&(t=t(e.viewState.resolution)),t||void 0}},{key:"useContainer",value:function(e,t,n){var i,r,a=this.getLayer().getClassName();if(e&&e.className===a&&(!n||e&&e.style.backgroundColor&&(0,x.fS)((0,m._2)(e.style.backgroundColor),(0,m._2)(n)))){var o=e.firstElementChild;o instanceof HTMLCanvasElement&&(r=o.getContext("2d"))}if(r&&r.canvas.style.transform===t?(this.container=e,this.context=r,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(i=document.createElement("div")).className=a;var s=i.style;s.position="absolute",s.width="100%",s.height="100%";var u=(r=(0,_.E4)()).canvas;i.appendChild(u),(s=u.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=i,this.context=r}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}},{key:"clipUnrotated",value:function(e,t,n){var i=(0,k.rL)(n),r=(0,k.Xv)(n),a=(0,k.w$)(n),o=(0,k.hC)(n);(0,y.nn)(t.coordinateToPixelTransform,i),(0,y.nn)(t.coordinateToPixelTransform,r),(0,y.nn)(t.coordinateToPixelTransform,a),(0,y.nn)(t.coordinateToPixelTransform,o);var s=this.inversePixelTransform;(0,y.nn)(s,i),(0,y.nn)(s,r),(0,y.nn)(s,a),(0,y.nn)(s,o),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.clip()}},{key:"dispatchRenderEvent_",value:function(e,t,n){var i=this.getLayer();if(i.hasListener(e)){var r=new v.Z(e,this.inversePixelTransform,n,t);i.dispatchEvent(r)}}},{key:"preRender",value:function(e,t){this.frameState=t,this.dispatchRenderEvent_(g.Z.PRERENDER,e,t)}},{key:"postRender",value:function(e,t){this.dispatchRenderEvent_(g.Z.POSTRENDER,e,t)}},{key:"getRenderTransform",value:function(e,t,n,i,r,a,o){var s=r/2,u=a/2,l=i/t,h=-l,c=-e[0]+o,f=-e[1];return(0,y.qC)(this.tempTransform,s,u,l,h,-n,c,f)}},{key:"disposeInternal",value:function(){delete this.frameState,(0,a.Z)((0,o.Z)(n.prototype),"disposeInternal",this).call(this)}}]),n}(p)},1787:function(e,t,n){"use strict";n.d(t,{Pn:function(){return h},Qz:function(){return l},eR:function(){return s},se:function(){return u}});var i=n(688),r=n(6006),a=.5,o={Point:function(e,t,n,r,a){var o,s=n.getImage(),u=n.getText();if(s){if(s.getImageState()!=i.Z.LOADED)return;var l=e;if(a){var h=s.getDeclutterMode();if("none"!==h)if(l=a,"obstacle"===h){var c=e.getBuilder(n.getZIndex(),"Image");c.setImageStyle(s,o),c.drawPoint(t,r)}else u&&u.getText()&&(o={})}var f=l.getBuilder(n.getZIndex(),"Image");f.setImageStyle(s,o),f.drawPoint(t,r)}if(u&&u.getText()){var d=e;a&&(d=a);var p=d.getBuilder(n.getZIndex(),"Text");p.setTextStyle(u,o),p.drawText(t,r)}},LineString:function(e,t,n,i,r){var a=n.getStroke();if(a){var o=e.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawLineString(t,i)}var s=n.getText();if(s&&s.getText()){var u=(r||e).getBuilder(n.getZIndex(),"Text");u.setTextStyle(s),u.drawText(t,i)}},Polygon:function(e,t,n,i,r){var a=n.getFill(),o=n.getStroke();if(a||o){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawPolygon(t,i)}var u=n.getText();if(u&&u.getText()){var l=(r||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(u),l.drawText(t,i)}},MultiPoint:function(e,t,n,r,a){var o,s=n.getImage(),u=n.getText();if(s){if(s.getImageState()!=i.Z.LOADED)return;var l=e;if(a){var h=s.getDeclutterMode();if("none"!==h)if(l=a,"obstacle"===h){var c=e.getBuilder(n.getZIndex(),"Image");c.setImageStyle(s,o),c.drawMultiPoint(t,r)}else u&&u.getText()&&(o={})}var f=l.getBuilder(n.getZIndex(),"Image");f.setImageStyle(s,o),f.drawMultiPoint(t,r)}if(u&&u.getText()){var d=e;a&&(d=a);var p=d.getBuilder(n.getZIndex(),"Text");p.setTextStyle(u,o),p.drawText(t,r)}},MultiLineString:function(e,t,n,i,r){var a=n.getStroke();if(a){var o=e.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawMultiLineString(t,i)}var s=n.getText();if(s&&s.getText()){var u=(r||e).getBuilder(n.getZIndex(),"Text");u.setTextStyle(s),u.drawText(t,i)}},MultiPolygon:function(e,t,n,i,r){var a=n.getFill(),o=n.getStroke();if(o||a){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawMultiPolygon(t,i)}var u=n.getText();if(u&&u.getText()){var l=(r||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(u),l.drawText(t,i)}},GeometryCollection:function(e,t,n,i,r){var a,s,u=t.getGeometriesArray();for(a=0,s=u.length;a<s;++a){(0,o[u[a].getType()])(e,u[a],n,i,r)}},Circle:function(e,t,n,i,r){var a=n.getFill(),o=n.getStroke();if(a||o){var s=e.getBuilder(n.getZIndex(),"Circle");s.setFillStrokeStyle(a,o),s.drawCircle(t,i)}var u=n.getText();if(u&&u.getText()){var l=(r||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(u),l.drawText(t,i)}}};function s(e,t){return parseInt((0,r.sq)(e),10)-parseInt((0,r.sq)(t),10)}function u(e,t){var n=l(e,t);return n*n}function l(e,t){return a*e/t}function h(e,t,n,r,a,s,u){var l=!1,h=n.getImage();if(h){var f=h.getImageState();f==i.Z.LOADED||f==i.Z.ERROR?h.unlistenImageChange(a):(f==i.Z.IDLE&&h.load(),h.listenImageChange(a),l=!0)}return function(e,t,n,i,r,a){var s=n.getGeometryFunction()(t);if(!s)return;var u=s.simplifyTransformed(i,r),l=n.getRenderer();if(l)c(e,u,n,t);else{(0,o[u.getType()])(e,u,n,t,a)}}(e,t,n,r,s,u),l}function c(e,t,n,i){if("GeometryCollection"!=t.getType())e.getBuilder(n.getZIndex(),"Default").drawCustom(t,i,n.getRenderer(),n.getHitDetectionRenderer());else for(var r=t.getGeometries(),a=0,o=r.length;a<o;++a)c(e,r[a],n,i)}},3901:function(e,t,n){"use strict";n.d(t,{Gw:function(){return s},YP:function(){return a},gE:function(){return o},h$:function(){return r}});var i=n(2357);function r(e){if(void 0!==e)return 0}function a(e){if(void 0!==e)return e}function o(e){var t=2*Math.PI/e;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}function s(e){return e=e||(0,i.Yr)(5),function(t,n){return n?t:void 0!==t?Math.abs(t)<=e?0:t:void 0}}},4046:function(e,t,n){"use strict";function i(e){return e[0]>0&&e[1]>0}function r(e,t,n){return void 0===n&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function a(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}n.d(t,{Pq:function(){return a},bA:function(){return r},py:function(){return i}})},8716:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(7326),o=n(136),s=n(9388),u=n(5957),l=n(5172),h=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;(0,i.Z)(this,n),(r=t.call(this)).projection=(0,l.U2)(e.projection),r.attributions_=c(e.attributions),r.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,r.loading=!1,r.state_=void 0!==e.state?e.state:"ready",r.wrapX_=void 0!==e.wrapX&&e.wrapX,r.interpolate_=!!e.interpolate,r.viewResolver=null,r.viewRejector=null;var o=(0,a.Z)(r);return r.viewPromise_=new Promise((function(e,t){o.viewResolver=e,o.viewRejector=t})),r}return(0,r.Z)(n,[{key:"getAttributions",value:function(){return this.attributions_}},{key:"getAttributionsCollapsible",value:function(){return this.attributionsCollapsible_}},{key:"getProjection",value:function(){return this.projection}},{key:"getResolutions",value:function(e){return null}},{key:"getView",value:function(){return this.viewPromise_}},{key:"getState",value:function(){return this.state_}},{key:"getWrapX",value:function(){return this.wrapX_}},{key:"getInterpolate",value:function(){return this.interpolate_}},{key:"refresh",value:function(){this.changed()}},{key:"setAttributions",value:function(e){this.attributions_=c(e),this.changed()}},{key:"setState",value:function(e){this.state_=e,this.changed()}}]),n}(u.Z);function c(e){return e?Array.isArray(e)?function(t){return e}:"function"===typeof e?e:function(t){return[e]}:null}t.Z=h},2901:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var i=n(3433),r=n(1752),a=n(1120),o=n(3144),s=n(5671),u=n(136),l=n(9388),h=n(8789),c=n(6289),f=n(5326),d=n(5947),p=n(6594),v=n(5950),g=n(7130),y=n(6006),m=n(6841),_=function(){function e(t){(0,s.Z)(this,e),this.rbush_=new v(t),this.items_={}}return(0,o.Z)(e,[{key:"insert",value:function(e,t){var n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[(0,y.sq)(t)]=n}},{key:"load",value:function(e,t){for(var n=new Array(t.length),i=0,r=t.length;i<r;i++){var a=e[i],o=t[i],s={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:o};n[i]=s,this.items_[(0,y.sq)(o)]=s}this.rbush_.load(n)}},{key:"remove",value:function(e){var t=(0,y.sq)(e),n=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(n)}},{key:"update",value:function(e,t){var n=this.items_[(0,y.sq)(t)],i=[n.minX,n.minY,n.maxX,n.maxY];(0,g.fS)(i,e)||(this.remove(t),this.insert(e,t))}},{key:"getAll",value:function(){return this.rbush_.all().map((function(e){return e.value}))}},{key:"getInExtent",value:function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map((function(e){return e.value}))}},{key:"forEach",value:function(e){return this.forEach_(this.getAll(),e)}},{key:"forEachInExtent",value:function(e,t){return this.forEach_(this.getInExtent(e),t)}},{key:"forEach_",value:function(e,t){for(var n,i=0,r=e.length;i<r;i++)if(n=t(e[i]))return n;return n}},{key:"isEmpty",value:function(){return(0,m.x)(this.items_)}},{key:"clear",value:function(){this.rbush_.clear(),this.items_={}}},{key:"getExtent",value:function(e){var t=this.rbush_.toJSON();return(0,g.T9)(t.minX,t.minY,t.maxX,t.maxY,e)}},{key:"concat",value:function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]}}]),e}(),x=n(8716),k="addfeature",b="changefeature",C="clear",w="removefeature",E="featuresloadstart",S="featuresloadend",Z="featuresloaderror",T=n(6661),R=n(8562),I=n(6862),P=n(7678),M=n(923),O=n(3281),F=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,i,r){var a;return(0,s.Z)(this,n),(a=t.call(this,e)).feature=i,a.features=r,a}return(0,o.Z)(n)}(f.ZP),L=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;(0,s.Z)(this,n),e=e||{},(i=t.call(this,{attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX})).on,i.once,i.un,i.loader_=T.Zn,i.format_=e.format,i.overlaps_=void 0===e.overlaps||e.overlaps,i.url_=e.url,void 0!==e.loader?i.loader_=e.loader:void 0!==i.url_&&((0,I.h)(i.format_,7),i.loader_=(0,O.Be)(i.url_,i.format_)),i.strategy_=void 0!==e.strategy?e.strategy:R.$6;var r,a,o=void 0===e.useSpatialIndex||e.useSpatialIndex;return i.featuresRtree_=o?new _:null,i.loadedExtentsRtree_=new _,i.loadingExtentsCount_=0,i.nullGeometryFeatures_={},i.idIndex_={},i.uidIndex_={},i.featureChangeKeys_={},i.featuresCollection_=null,Array.isArray(e.features)?a=e.features:e.features&&(a=(r=e.features).getArray()),o||void 0!==r||(r=new h.Z(a)),void 0!==a&&i.addFeaturesInternal(a),void 0!==r&&i.bindFeaturesCollection_(r),i}return(0,o.Z)(n,[{key:"addFeature",value:function(e){this.addFeatureInternal(e),this.changed()}},{key:"addFeatureInternal",value:function(e){var t=(0,y.sq)(e);if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var n=e.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new F(k,e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)}},{key:"setupChangeEvents_",value:function(e,t){this.featureChangeKeys_[e]=[(0,M.oL)(t,d.Z.CHANGE,this.handleFeatureChange_,this),(0,M.oL)(t,p.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]}},{key:"addToIndex_",value:function(e,t){var n=!0,i=t.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=t),n&&((0,I.h)(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),n}},{key:"addFeatures",value:function(e){this.addFeaturesInternal(e),this.changed()}},{key:"addFeaturesInternal",value:function(e){for(var t=[],n=[],i=[],r=0,a=e.length;r<a;r++){var o=e[r],s=(0,y.sq)(o);this.addToIndex_(s,o)&&n.push(o)}for(var u=0,l=n.length;u<l;u++){var h=n[u],c=(0,y.sq)(h);this.setupChangeEvents_(c,h);var f=h.getGeometry();if(f){var d=f.getExtent();t.push(d),i.push(h)}else this.nullGeometryFeatures_[c]=h}if(this.featuresRtree_&&this.featuresRtree_.load(t,i),this.hasListener(k))for(var p=0,v=n.length;p<v;p++)this.dispatchEvent(new F(k,n[p]))}},{key:"bindFeaturesCollection_",value:function(e){var t=this,n=!1;this.addEventListener(k,(function(t){n||(n=!0,e.push(t.feature),n=!1)})),this.addEventListener(w,(function(t){n||(n=!0,e.remove(t.feature),n=!1)})),e.addEventListener(c.Z.ADD,(function(e){n||(n=!0,t.addFeature(e.element),n=!1)})),e.addEventListener(c.Z.REMOVE,(function(e){n||(n=!0,t.removeFeature(e.element),n=!1)})),this.featuresCollection_=e}},{key:"clear",value:function(e){var t=this;if(e){for(var n in this.featureChangeKeys_){this.featureChangeKeys_[n].forEach(M.bN)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){for(var i in this.featuresRtree_.forEach((function(e){t.removeFeatureInternal(e)})),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var r=new F(C);this.dispatchEvent(r),this.changed()}},{key:"forEachFeature",value:function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}},{key:"forEachFeatureAtCoordinateDirect",value:function(e,t){var n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,(function(n){if(n.getGeometry().intersectsCoordinate(e))return t(n)}))}},{key:"forEachFeatureInExtent",value:function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}},{key:"forEachFeatureIntersectingExtent",value:function(e,t){return this.forEachFeatureInExtent(e,(function(n){if(n.getGeometry().intersectsExtent(e)){var i=t(n);if(i)return i}}))}},{key:"getFeaturesCollection",value:function(){return this.featuresCollection_}},{key:"getFeatures",value:function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),(0,m.x)(this.nullGeometryFeatures_)||(0,P.l7)(e,Object.values(this.nullGeometryFeatures_))),e}},{key:"getFeaturesAtCoordinate",value:function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t}},{key:"getFeaturesInExtent",value:function(e,t){var n=this;if(this.featuresRtree_){var r;if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);var a=(0,g.MV)(e,t);return(r=[]).concat.apply(r,(0,i.Z)(a.map((function(e){return n.featuresRtree_.getInExtent(e)}))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}},{key:"getClosestFeatureToCoordinate",value:function(e,t){var n=e[0],i=e[1],r=null,a=[NaN,NaN],o=1/0,s=[-1/0,-1/0,1/0,1/0];return t=t||T.uX,this.featuresRtree_.forEachInExtent(s,(function(e){if(t(e)){var u=e.getGeometry(),l=o;if((o=u.closestPointXY(n,i,a,o))<l){r=e;var h=Math.sqrt(o);s[0]=n-h,s[1]=i-h,s[2]=n+h,s[3]=i+h}}})),r}},{key:"getExtent",value:function(e){return this.featuresRtree_.getExtent(e)}},{key:"getFeatureById",value:function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null}},{key:"getFeatureByUid",value:function(e){var t=this.uidIndex_[e];return void 0!==t?t:null}},{key:"getFormat",value:function(){return this.format_}},{key:"getOverlaps",value:function(){return this.overlaps_}},{key:"getUrl",value:function(){return this.url_}},{key:"handleFeatureChange_",value:function(e){var t=e.target,n=(0,y.sq)(t),i=t.getGeometry();if(i){var r=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,t)):this.featuresRtree_&&this.featuresRtree_.update(r,t)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);var a=t.getId();if(void 0!==a){var o=a.toString();this.idIndex_[o]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[o]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new F(b,t))}},{key:"hasFeature",value:function(e){var t=e.getId();return void 0!==t?t in this.idIndex_:(0,y.sq)(e)in this.uidIndex_}},{key:"isEmpty",value:function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,m.x)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}},{key:"loadFeatures",value:function(e,t,n){for(var i=this,r=this.loadedExtentsRtree_,a=this.strategy_(e,t,n),o=function(){var e=a[s];r.forEachInExtent(e,(function(t){return(0,g.r4)(t.extent,e)}))||(++i.loadingExtentsCount_,i.dispatchEvent(new F(E)),i.loader_.call(i,e,t,n,(function(e){--i.loadingExtentsCount_,i.dispatchEvent(new F(S,void 0,e))}),(function(){--i.loadingExtentsCount_,i.dispatchEvent(new F(Z))})),r.insert(e,{extent:e.slice()}))},s=0,u=a.length;s<u;++s)o();this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}},{key:"refresh",value:function(){this.clear(!0),this.loadedExtentsRtree_.clear(),(0,r.Z)((0,a.Z)(n.prototype),"refresh",this).call(this)}},{key:"removeLoadedExtent",value:function(e){var t,n=this.loadedExtentsRtree_;n.forEachInExtent(e,(function(n){if((0,g.fS)(n.extent,e))return t=n,!0})),t&&n.remove(t)}},{key:"removeFeature",value:function(e){if(e){var t=(0,y.sq)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}}},{key:"removeFeatureInternal",value:function(e){var t=(0,y.sq)(e),n=this.featureChangeKeys_[t];if(n){n.forEach(M.bN),delete this.featureChangeKeys_[t];var i=e.getId();return void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[t],this.dispatchEvent(new F(w,e)),e}}},{key:"removeFromIdIndex_",value:function(e){var t=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n],t=!0;break}return t}},{key:"setLoader",value:function(e){this.loader_=e}},{key:"setUrl",value:function(e){(0,I.h)(this.format_,7),this.url_=e,this.setLoader((0,O.Be)(e,this.format_))}}]),n}(x.Z),A=L},5400:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,i.Z)(this,n),e=e||{radius:5},t.call(this,{points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}return(0,r.Z)(n,[{key:"clone",value:function(){var e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}},{key:"setRadius",value:function(e){this.radius_=e,this.render()}}]),n}(n(315).Z);t.Z=s},927:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=function(){function e(t){(0,i.Z)(this,e),t=t||{},this.color_=void 0!==t.color?t.color:null}return(0,r.Z)(e,[{key:"clone",value:function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})}},{key:"getColor",value:function(){return this.color_}},{key:"setColor",value:function(e){this.color_=e}}]),e}();t.Z=a},8920:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var i=n(5671),r=n(3144),a=n(1752),o=n(1120),s=n(136),u=n(9388),l=n(5947),h=n(688),c=n(846),f=n(6838),d=n(6862),p=n(2064),v=n(1408),g=n(862),y=n(7356),m=null,_=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,a,o,s,u){var l;return(0,i.Z)(this,n),(l=t.call(this)).hitDetectionImage_=null,l.image_=e,l.crossOrigin_=o,l.canvas_={},l.color_=u,l.unlisten_=null,l.imageState_=s,l.size_=a,l.src_=r,l.tainted_,l}return(0,r.Z)(n,[{key:"initializeImage_",value:function(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}},{key:"isTainted_",value:function(){if(void 0===this.tainted_&&this.imageState_===h.Z.LOADED){m||(m=(0,v.E4)(1,1,void 0,{willReadFrequently:!0})),m.drawImage(this.image_,0,0);try{m.getImageData(0,0,1,1),this.tainted_=!1}catch(e){m=null,this.tainted_=!0}}return!0===this.tainted_}},{key:"dispatchChangeEvent_",value:function(){this.dispatchEvent(l.Z.CHANGE)}},{key:"handleImageError_",value:function(){this.imageState_=h.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}},{key:"handleImageLoad_",value:function(){this.imageState_=h.Z.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}},{key:"getImage",value:function(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}},{key:"getPixelRatio",value:function(e){return this.replaceColor_(e),this.canvas_[e]?e:1}},{key:"getImageState",value:function(){return this.imageState_}},{key:"getHitDetectionImage",value:function(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],t=this.size_[1],n=(0,v.E4)(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}},{key:"getSize",value:function(){return this.size_}},{key:"getSrc",value:function(){return this.src_}},{key:"load",value:function(){if(this.imageState_===h.Z.IDLE){this.image_||this.initializeImage_(),this.imageState_=h.Z.LOADING;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=(0,y.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}},{key:"replaceColor_",value:function(e){if(this.color_&&!this.canvas_[e]&&this.imageState_===h.Z.LOADED){var t=this.image_,n=document.createElement("canvas");n.width=Math.ceil(t.width*e),n.height=Math.ceil(t.height*e);var i=n.getContext("2d");i.scale(e,e),i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=(0,f.XC)(this.color_),i.fillRect(0,0,n.width/e,n.height/e),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),this.canvas_[e]=n}}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}]),n}(p.Z);var x=n(6006),k=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;(0,i.Z)(this,n);var a=void 0!==(e=e||{}).opacity?e.opacity:1,o=void 0!==e.rotation?e.rotation:0,s=void 0!==e.scale?e.scale:1,u=void 0!==e.rotateWithView&&e.rotateWithView;(r=t.call(this,{opacity:a,rotation:o,scale:s,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:u,declutterMode:e.declutterMode})).anchor_=void 0!==e.anchor?e.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",r.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",r.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",r.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var l=void 0!==e.img?e.img:null;r.imgSize_=e.imgSize;var c=e.src;(0,d.h)(!(void 0!==c&&l),4),(0,d.h)(!l||l&&r.imgSize_,5),void 0!==c&&0!==c.length||!l||(c=l.src||(0,x.sq)(l)),(0,d.h)(void 0!==c&&c.length>0,6),(0,d.h)(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),69);var p=void 0!==e.src?h.Z.IDLE:h.Z.LOADED;if(r.color_=void 0!==e.color?(0,f._2)(e.color):null,r.iconImage_=function(e,t,n,i,r,a){var o=g.c.get(t,i,a);return o||(o=new _(e,t,n,i,r,a),g.c.set(t,i,a,o)),o}(l,c,void 0!==r.imgSize_?r.imgSize_:null,r.crossOrigin_,p,r.color_),r.offset_=void 0!==e.offset?e.offset:[0,0],r.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",r.origin_=null,r.size_=void 0!==e.size?e.size:null,r.width_=e.width,r.height_=e.height,void 0!==r.width_||void 0!==r.height_){var v=r.getImage(1);v.width>0?r.updateScaleFromWidthAndHeight(r.width_,r.height_):v.addEventListener("load",(function(){r.updateScaleFromWidthAndHeight(r.width_,r.height_)}))}return r}return(0,r.Z)(n,[{key:"clone",value:function(){var e=this.getScale();return new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(e)?e.slice():e,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}},{key:"updateScaleFromWidthAndHeight",value:function(e,t){var i=this.getImage(1);void 0!==e&&void 0!==t?(0,a.Z)((0,o.Z)(n.prototype),"setScale",this).call(this,[e/i.width,t/i.height]):void 0!==e?(0,a.Z)((0,o.Z)(n.prototype),"setScale",this).call(this,[e/i.width,e/i.width]):void 0!==t?(0,a.Z)((0,o.Z)(n.prototype),"setScale",this).call(this,[t/i.height,t/i.height]):(0,a.Z)((0,o.Z)(n.prototype),"setScale",this).call(this,[1,1])}},{key:"getAnchor",value:function(){var e=this.normalizedAnchor_;if(!e){e=this.anchor_;var t=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!t)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=t[0]),"fraction"==this.anchorYUnits_&&(e[1]*=t[1])}if("top-left"!=this.anchorOrigin_){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[0]=-e[0]+t[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}var n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}},{key:"setAnchor",value:function(e){this.anchor_=e,this.normalizedAnchor_=null}},{key:"getColor",value:function(){return this.color_}},{key:"getImage",value:function(e){return this.iconImage_.getImage(e)}},{key:"getPixelRatio",value:function(e){return this.iconImage_.getPixelRatio(e)}},{key:"getImageSize",value:function(){return this.iconImage_.getSize()}},{key:"getImageState",value:function(){return this.iconImage_.getImageState()}},{key:"getHitDetectionImage",value:function(){return this.iconImage_.getHitDetectionImage()}},{key:"getOrigin",value:function(){if(this.origin_)return this.origin_;var e=this.offset_;if("top-left"!=this.offsetOrigin_){var t=this.getSize(),n=this.iconImage_.getSize();if(!t||!n)return null;e=e.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[0]=n[0]-t[0]-e[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[1]=n[1]-t[1]-e[1])}return this.origin_=e,this.origin_}},{key:"getSrc",value:function(){return this.iconImage_.getSrc()}},{key:"getSize",value:function(){return this.size_?this.size_:this.iconImage_.getSize()}},{key:"getWidth",value:function(){return this.width_}},{key:"getHeight",value:function(){return this.height_}},{key:"setWidth",value:function(e){this.width_=e,this.updateScaleFromWidthAndHeight(e,this.height_)}},{key:"setHeight",value:function(e){this.height_=e,this.updateScaleFromWidthAndHeight(this.width_,e)}},{key:"setScale",value:function(e){(0,a.Z)((0,o.Z)(n.prototype),"setScale",this).call(this,e);var t=this.getImage(1);if(t){var i=Array.isArray(e)?e[0]:e;void 0!==i&&(this.width_=i*t.width);var r=Array.isArray(e)?e[1]:e;void 0!==r&&(this.height_=r*t.height)}}},{key:"listenImageChange",value:function(e){this.iconImage_.addEventListener(l.Z.CHANGE,e)}},{key:"load",value:function(){this.iconImage_.load()}},{key:"unlistenImageChange",value:function(e){this.iconImage_.removeEventListener(l.Z.CHANGE,e)}}]),n}(c.Z),b=k},862:function(e,t,n){"use strict";n.d(t,{c:function(){return u}});var i=n(5671),r=n(3144),a=n(6838),o=function(){function e(){(0,i.Z)(this,e),this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return(0,r.Z)(e,[{key:"clear",value:function(){this.cache_={},this.cacheSize_=0}},{key:"canExpireCache",value:function(){return this.cacheSize_>this.maxCacheSize_}},{key:"expire",value:function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var n=this.cache_[t];0!==(3&e++)||n.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}}},{key:"get",value:function(e,t,n){var i=s(e,t,n);return i in this.cache_?this.cache_[i]:null}},{key:"set",value:function(e,t,n,i){var r=s(e,t,n);this.cache_[r]=i,++this.cacheSize_}},{key:"setSize",value:function(e){this.maxCacheSize_=e,this.expire()}}]),e}();function s(e,t,n){return t+":"+e+":"+(n?(0,a.XC)(n):"null")}var u=new o},846:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(6006),o=n(4046),s=function(){function e(t){(0,i.Z)(this,e),this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=(0,o.Pq)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return(0,r.Z)(e,[{key:"clone",value:function(){var t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}},{key:"getOpacity",value:function(){return this.opacity_}},{key:"getRotateWithView",value:function(){return this.rotateWithView_}},{key:"getRotation",value:function(){return this.rotation_}},{key:"getScale",value:function(){return this.scale_}},{key:"getScaleArray",value:function(){return this.scaleArray_}},{key:"getDisplacement",value:function(){return this.displacement_}},{key:"getDeclutterMode",value:function(){return this.declutterMode_}},{key:"getAnchor",value:function(){return(0,a.O3)()}},{key:"getImage",value:function(e){return(0,a.O3)()}},{key:"getHitDetectionImage",value:function(){return(0,a.O3)()}},{key:"getPixelRatio",value:function(e){return 1}},{key:"getImageState",value:function(){return(0,a.O3)()}},{key:"getImageSize",value:function(){return(0,a.O3)()}},{key:"getOrigin",value:function(){return(0,a.O3)()}},{key:"getSize",value:function(){return(0,a.O3)()}},{key:"setDisplacement",value:function(e){this.displacement_=e}},{key:"setOpacity",value:function(e){this.opacity_=e}},{key:"setRotateWithView",value:function(e){this.rotateWithView_=e}},{key:"setRotation",value:function(e){this.rotation_=e}},{key:"setScale",value:function(e){this.scale_=e,this.scaleArray_=(0,o.Pq)(e)}},{key:"listenImageChange",value:function(e){(0,a.O3)()}},{key:"load",value:function(){(0,a.O3)()}},{key:"unlistenImageChange",value:function(e){(0,a.O3)()}}]),e}();t.Z=s},315:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(136),o=n(9388),s=n(688),u=n(846),l=n(6838),h=n(1679),c=n(1408),f=n(7907),d=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;(0,i.Z)(this,n);var a=void 0!==e.rotateWithView&&e.rotateWithView;return(r=t.call(this,{opacity:1,rotateWithView:a,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})).canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=void 0!==e.fill?e.fill:null,r.origin_=[0,0],r.points_=e.points,r.radius_=void 0!==e.radius?e.radius:e.radius1,r.radius2_=e.radius2,r.angle_=void 0!==e.angle?e.angle:0,r.stroke_=void 0!==e.stroke?e.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return(0,r.Z)(n,[{key:"clone",value:function(){var e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}},{key:"getAnchor",value:function(){var e=this.size_;if(!e)return null;var t=this.getDisplacement(),n=this.getScaleArray();return[e[0]/2-t[0]/n[0],e[1]/2+t[1]/n[1]]}},{key:"getAngle",value:function(){return this.angle_}},{key:"getFill",value:function(){return this.fill_}},{key:"setFill",value:function(e){this.fill_=e,this.render()}},{key:"getHitDetectionImage",value:function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}},{key:"getImage",value:function(e){var t=this.canvas_[e];if(!t){var n=this.renderOptions_,i=(0,c.E4)(n.size*e,n.size*e);this.draw_(n,i,e),t=i.canvas,this.canvas_[e]=t}return t}},{key:"getPixelRatio",value:function(e){return e}},{key:"getImageSize",value:function(){return this.size_}},{key:"getImageState",value:function(){return s.Z.LOADED}},{key:"getOrigin",value:function(){return this.origin_}},{key:"getPoints",value:function(){return this.points_}},{key:"getRadius",value:function(){return this.radius_}},{key:"getRadius2",value:function(){return this.radius2_}},{key:"getSize",value:function(){return this.size_}},{key:"getStroke",value:function(){return this.stroke_}},{key:"setStroke",value:function(e){this.stroke_=e,this.render()}},{key:"listenImageChange",value:function(e){}},{key:"load",value:function(){}},{key:"unlistenImageChange",value:function(e){}},{key:"calculateLineJoinSize_",value:function(e,t,n){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;var i=this.radius_,r=void 0===this.radius2_?i:this.radius2_;if(i<r){var a=i;i=r,r=a}var o=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/o,u=r*Math.sin(s),l=i-Math.sqrt(r*r-u*u),h=Math.sqrt(u*u+l*l),c=h/u;if("miter"===e&&c<=n)return c*t;var f=t/2/c,d=t/2*(l/h),p=Math.sqrt((i+f)*(i+f)+d*d)-i;if(void 0===this.radius2_||"bevel"===e)return 2*p;var v=i*Math.sin(s),g=r-Math.sqrt(i*i-v*v),y=Math.sqrt(v*v+g*g)/v;if(y<=n){var m=y*t/2-r-i;return 2*Math.max(p,m)}return 2*p}},{key:"createRenderOptions",value:function(){var e,t=f.rc,n=0,i=null,r=0,a=0;this.stroke_&&(null===(e=this.stroke_.getColor())&&(e=f.Tx),e=(0,h.y)(e),void 0===(a=this.stroke_.getWidth())&&(a=f.yC),i=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),void 0===(t=this.stroke_.getLineJoin())&&(t=f.rc),void 0===(n=this.stroke_.getMiterLimit())&&(n=f.V4));var o=this.calculateLineJoinSize_(t,a,n),s=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:e,strokeWidth:a,size:Math.ceil(2*s+o),lineDash:i,lineDashOffset:r,lineJoin:t,miterLimit:n}}},{key:"render",value:function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}},{key:"draw_",value:function(e,t,n){if(t.scale(n,n),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){var i=this.fill_.getColor();null===i&&(i=f.bL),t.fillStyle=(0,h.y)(i),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}},{key:"createHitDetectionCanvas_",value:function(e){if(this.fill_){var t=this.fill_.getColor(),n=0;if("string"===typeof t&&(t=(0,l._2)(t)),null===t?n=1:Array.isArray(t)&&(n=4===t.length?t[3]:1),0===n){var i=(0,c.E4)(e.size,e.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(e,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}},{key:"createPath_",value:function(e){var t=this.points_,n=this.radius_;if(t===1/0)e.arc(0,0,n,0,2*Math.PI);else{var i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(t*=2);for(var r=this.angle_-Math.PI/2,a=2*Math.PI/t,o=0;o<t;o++){var s=r+o*a,u=o%2===0?n:i;e.lineTo(u*Math.cos(s),u*Math.sin(s))}e.closePath()}}},{key:"drawHitDetectionCanvas_",value:function(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=f.bL,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}]),n}(u.Z);t.Z=d},6233:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=function(){function e(t){(0,i.Z)(this,e),t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return(0,r.Z)(e,[{key:"clone",value:function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}},{key:"getColor",value:function(){return this.color_}},{key:"getLineCap",value:function(){return this.lineCap_}},{key:"getLineDash",value:function(){return this.lineDash_}},{key:"getLineDashOffset",value:function(){return this.lineDashOffset_}},{key:"getLineJoin",value:function(){return this.lineJoin_}},{key:"getMiterLimit",value:function(){return this.miterLimit_}},{key:"getWidth",value:function(){return this.width_}},{key:"setColor",value:function(e){this.color_=e}},{key:"setLineCap",value:function(e){this.lineCap_=e}},{key:"setLineDash",value:function(e){this.lineDash_=e}},{key:"setLineDashOffset",value:function(e){this.lineDashOffset_=e}},{key:"setLineJoin",value:function(e){this.lineJoin_=e}},{key:"setMiterLimit",value:function(e){this.miterLimit_=e}},{key:"setWidth",value:function(e){this.width_=e}}]),e}();t.Z=a},4665:function(e,t,n){"use strict";n.d(t,{J$:function(){return h},yF:function(){return f}});var i=n(5671),r=n(3144),a=n(5400),o=n(927),s=n(6233),u=n(6862),l=function(){function e(t){(0,i.Z)(this,e),t=t||{},this.geometry_=null,this.geometryFunction_=d,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}return(0,r.Z)(e,[{key:"clone",value:function(){var t=this.getGeometry();return t&&"object"===typeof t&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"setRenderer",value:function(e){this.renderer_=e}},{key:"setHitDetectionRenderer",value:function(e){this.hitDetectionRenderer_=e}},{key:"getHitDetectionRenderer",value:function(){return this.hitDetectionRenderer_}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"getGeometryFunction",value:function(){return this.geometryFunction_}},{key:"getFill",value:function(){return this.fill_}},{key:"setFill",value:function(e){this.fill_=e}},{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(e){this.image_=e}},{key:"getStroke",value:function(){return this.stroke_}},{key:"setStroke",value:function(e){this.stroke_=e}},{key:"getText",value:function(){return this.text_}},{key:"setText",value:function(e){this.text_=e}},{key:"getZIndex",value:function(){return this.zIndex_}},{key:"setGeometry",value:function(e){"function"===typeof e?this.geometryFunction_=e:"string"===typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=d,this.geometry_=e}},{key:"setZIndex",value:function(e){this.zIndex_=e}}]),e}();function h(e){var t;if("function"===typeof e)t=e;else{var n;if(Array.isArray(e))n=e;else(0,u.h)("function"===typeof e.getZIndex,41),n=[e];t=function(){return n}}return t}var c=null;function f(e,t){if(!c){var n=new o.Z({color:"rgba(255,255,255,0.4)"}),i=new s.Z({color:"#3399CC",width:1.25});c=[new l({image:new a.Z({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return c}function d(e){return e.getGeometry()}t.ZP=l},9236:function(e,t,n){"use strict";var i=n(5671),r=n(3144),a=n(927),o=n(4046),s="#333",u=function(){function e(t){(0,i.Z)(this,e),t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=(0,o.Pq)(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new a.Z({color:s}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}return(0,r.Z)(e,[{key:"clone",value:function(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}},{key:"getOverflow",value:function(){return this.overflow_}},{key:"getFont",value:function(){return this.font_}},{key:"getMaxAngle",value:function(){return this.maxAngle_}},{key:"getPlacement",value:function(){return this.placement_}},{key:"getOffsetX",value:function(){return this.offsetX_}},{key:"getOffsetY",value:function(){return this.offsetY_}},{key:"getFill",value:function(){return this.fill_}},{key:"getRotateWithView",value:function(){return this.rotateWithView_}},{key:"getRotation",value:function(){return this.rotation_}},{key:"getScale",value:function(){return this.scale_}},{key:"getScaleArray",value:function(){return this.scaleArray_}},{key:"getStroke",value:function(){return this.stroke_}},{key:"getText",value:function(){return this.text_}},{key:"getTextAlign",value:function(){return this.textAlign_}},{key:"getJustify",value:function(){return this.justify_}},{key:"getTextBaseline",value:function(){return this.textBaseline_}},{key:"getBackgroundFill",value:function(){return this.backgroundFill_}},{key:"getBackgroundStroke",value:function(){return this.backgroundStroke_}},{key:"getPadding",value:function(){return this.padding_}},{key:"setOverflow",value:function(e){this.overflow_=e}},{key:"setFont",value:function(e){this.font_=e}},{key:"setMaxAngle",value:function(e){this.maxAngle_=e}},{key:"setOffsetX",value:function(e){this.offsetX_=e}},{key:"setOffsetY",value:function(e){this.offsetY_=e}},{key:"setPlacement",value:function(e){this.placement_=e}},{key:"setRotateWithView",value:function(e){this.rotateWithView_=e}},{key:"setFill",value:function(e){this.fill_=e}},{key:"setRotation",value:function(e){this.rotation_=e}},{key:"setScale",value:function(e){this.scale_=e,this.scaleArray_=(0,o.Pq)(void 0!==e?e:1)}},{key:"setStroke",value:function(e){this.stroke_=e}},{key:"setText",value:function(e){this.text_=e}},{key:"setTextAlign",value:function(e){this.textAlign_=e}},{key:"setJustify",value:function(e){this.justify_=e}},{key:"setTextBaseline",value:function(e){this.textBaseline_=e}},{key:"setBackgroundFill",value:function(e){this.backgroundFill_=e}},{key:"setBackgroundStroke",value:function(e){this.backgroundStroke_=e}},{key:"setPadding",value:function(e){this.padding_=e}}]),e}();t.Z=u},794:function(e,t,n){"use strict";n.d(t,{S:function(){return r},e:function(){return i}});var i=42,r=256},6108:function(e,t,n){"use strict";n.d(t,{BB:function(){return m},Iu:function(){return v},Jp:function(){return l},Ue:function(){return s},bA:function(){return d},lk:function(){return c},mc:function(){return u},n3:function(){return p},nb:function(){return y},nn:function(){return f},qC:function(){return g}});var i,r=n(7288),a=n(6862),o=new Array(6);function s(){return[1,0,0,1,0,0]}function u(e){return h(e,1,0,0,1,0,0)}function l(e,t){var n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],u=t[0],l=t[1],h=t[2],c=t[3],f=t[4],d=t[5];return e[0]=n*u+r*l,e[1]=i*u+a*l,e[2]=n*h+r*c,e[3]=i*h+a*c,e[4]=n*f+r*d+o,e[5]=i*f+a*d+s,e}function h(e,t,n,i,r,a,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=a,e[5]=o,e}function c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function f(e,t){var n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function d(e,t,n){return l(e,h(o,t,0,0,n,0,0))}function p(e,t,n){return h(e,t,0,0,n,0,0)}function v(e,t,n){return l(e,h(o,1,0,0,1,t,n))}function g(e,t,n,i,r,a,o,s){var u=Math.sin(a),l=Math.cos(a);return e[0]=i*l,e[1]=r*u,e[2]=-i*u,e[3]=r*l,e[4]=o*i*l-s*i*u+t,e[5]=o*r*u+s*r*l+n,e}function y(e,t){var n,i=(n=t)[0]*n[3]-n[1]*n[2];(0,a.h)(0!==i,32);var r=t[0],o=t[1],s=t[2],u=t[3],l=t[4],h=t[5];return e[0]=u/i,e[1]=-o/i,e[2]=-s/i,e[3]=r/i,e[4]=(s*h-u*l)/i,e[5]=-(r*h-o*l)/i,e}function m(e){var t="matrix("+e.join(", ")+")";if(r.Id)return t;var n=i||(i=document.createElement("div"));return n.style.transform=t,n.style.transform}},6006:function(e,t,n){"use strict";function i(){throw new Error("Unimplemented abstract method.")}n.d(t,{O3:function(){return i},sq:function(){return a}});var r=0;function a(e){return e.ol_uid||(e.ol_uid=String(++r))}}}]);
//# sourceMappingURL=925.88f820c7.chunk.js.map