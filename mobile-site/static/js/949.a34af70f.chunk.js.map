{"version":3,"file":"static/js/949.a34af70f.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/react-photo-album/dist/index.mjs","../node_modules/yet-another-react-lightbox/dist/core/components/IconButton.js","../node_modules/yet-another-react-lightbox/dist/core/components/Icons.js","../node_modules/yet-another-react-lightbox/dist/core/components/ImageSlide.js","../node_modules/yet-another-react-lightbox/dist/core/config.js","../node_modules/yet-another-react-lightbox/dist/core/consts.js","../node_modules/yet-another-react-lightbox/dist/core/contexts/Events.js","../node_modules/yet-another-react-lightbox/dist/core/contexts/LightboxState.js","../node_modules/yet-another-react-lightbox/dist/core/contexts/Timeouts.js","../node_modules/yet-another-react-lightbox/dist/core/hooks/useContainerRect.js","../node_modules/yet-another-react-lightbox/dist/core/hooks/useEventCallback.js","../node_modules/yet-another-react-lightbox/dist/core/hooks/useLayoutEffect.js","../node_modules/yet-another-react-lightbox/dist/core/hooks/useMotionPreference.js","../node_modules/yet-another-react-lightbox/dist/core/hooks/useRTL.js","../node_modules/yet-another-react-lightbox/dist/core/modules/controller/index.js","../node_modules/yet-another-react-lightbox/dist/core/hooks/useForkRef.js","../node_modules/yet-another-react-lightbox/dist/core/modules/controller/usePreventSwipeNavigation.js","../node_modules/yet-another-react-lightbox/dist/core/modules/controller/usePointerSwipe.js","../node_modules/yet-another-react-lightbox/dist/core/modules/controller/useWheelSwipe.js","../node_modules/yet-another-react-lightbox/dist/core/modules/Controller.js","../node_modules/yet-another-react-lightbox/dist/core/hooks/useSensors.js","../node_modules/yet-another-react-lightbox/dist/core/utils.js","../node_modules/yet-another-react-lightbox/dist/props.js","../node_modules/yet-another-react-lightbox/dist/core/modules/Portal.js","../node_modules/yet-another-react-lightbox/dist/core/modules/NoScroll.js","../node_modules/yet-another-react-lightbox/dist/core/modules/Carousel.js","../node_modules/yet-another-react-lightbox/dist/core/modules/Toolbar.js","../node_modules/yet-another-react-lightbox/dist/core/modules/Navigation.js","../node_modules/yet-another-react-lightbox/dist/core/modules/Core.js","../node_modules/yet-another-react-lightbox/dist/Lightbox.js","../node_modules/yet-another-react-lightbox/dist/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/captions/CaptionsContext.js","../node_modules/yet-another-react-lightbox/dist/plugins/captions/utils.js","../node_modules/yet-another-react-lightbox/dist/plugins/captions/Description.js","../node_modules/yet-another-react-lightbox/dist/plugins/captions/Title.js","../node_modules/yet-another-react-lightbox/dist/plugins/captions/Captions.js","../node_modules/yet-another-react-lightbox/dist/plugins/captions/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/zoom/ZoomContext.js","../node_modules/yet-another-react-lightbox/dist/plugins/zoom/ZoomButton.js","../node_modules/yet-another-react-lightbox/dist/plugins/zoom/ZoomButtonsGroup.js","../node_modules/yet-another-react-lightbox/dist/plugins/zoom/ResponsiveImage.js","../node_modules/yet-another-react-lightbox/dist/plugins/zoom/ZoomContainer.js","../node_modules/yet-another-react-lightbox/dist/plugins/zoom/Zoom.js","../node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js"],"sourcesContent":["import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import * as React from 'react';\n\nconst ratio = ({ width, height }) => width / height;\n\nconst round = (value, decimals = 0) => {\n    const factor = 10 ** decimals;\n    return Math.round((value + Number.EPSILON) * factor) / factor;\n};\n\nconst RankingFunctionComparator = (rank) => (a, b) => rank(b) - rank(a);\nconst MinHeap = (comparator) => {\n    const heap = [];\n    const compare = comparator;\n    let n = 0;\n    const greater = (i, j) => compare(heap[i], heap[j]) < 0;\n    const swap = (i, j) => {\n        const temp = heap[i];\n        heap[i] = heap[j];\n        heap[j] = temp;\n    };\n    const swim = (i) => {\n        let k = i;\n        let k2 = Math.floor(k / 2);\n        while (k > 1 && greater(k2, k)) {\n            swap(k2, k);\n            k = k2;\n            k2 = Math.floor(k / 2);\n        }\n    };\n    const sink = (i) => {\n        let k = i;\n        let k2 = k * 2;\n        while (k2 <= n) {\n            if (k2 < n && greater(k2, k2 + 1))\n                k2 += 1;\n            if (!greater(k, k2))\n                break;\n            swap(k, k2);\n            k = k2;\n            k2 = k * 2;\n        }\n    };\n    return {\n        push: (element) => {\n            n += 1;\n            heap[n] = element;\n            swim(n);\n        },\n        pop: () => {\n            if (n === 0)\n                return undefined;\n            swap(1, n);\n            n -= 1;\n            const max = heap.pop();\n            sink(1);\n            return max;\n        },\n        size: () => n,\n    };\n};\n\nconst buildPrecedentsMap = (graph, startNode, endNode) => {\n    const precedentsMap = new Map();\n    const visited = new Set();\n    const storedShortestPaths = new Map();\n    storedShortestPaths.set(startNode, 0);\n    const pQueue = MinHeap(RankingFunctionComparator((el) => el.weight));\n    pQueue.push({ id: startNode, weight: 0 });\n    while (pQueue.size() > 0) {\n        const { id, weight } = pQueue.pop();\n        if (!visited.has(id)) {\n            const neighboringNodes = graph(id);\n            visited.add(id);\n            neighboringNodes.forEach((neighborWeight, neighbor) => {\n                const newWeight = weight + neighborWeight;\n                const currentId = precedentsMap.get(neighbor);\n                const currentWeight = storedShortestPaths.get(neighbor);\n                if (currentWeight === undefined ||\n                    (currentWeight > newWeight &&\n                        (currentWeight / newWeight > 1.005 || (currentId !== undefined && currentId < id)))) {\n                    storedShortestPaths.set(neighbor, newWeight);\n                    pQueue.push({ id: neighbor, weight: newWeight });\n                    precedentsMap.set(neighbor, id);\n                }\n            });\n        }\n    }\n    return storedShortestPaths.has(endNode) ? precedentsMap : undefined;\n};\nconst getPathFromPrecedentsMap = (precedentsMap, endNode) => {\n    const nodes = [];\n    for (let node = endNode; node !== undefined; node = precedentsMap.get(node)) {\n        nodes.push(node);\n    }\n    return nodes.reverse();\n};\nconst findShortestPath = (graph, startNode, endNode) => {\n    const precedentsMap = buildPrecedentsMap(graph, startNode, endNode);\n    return precedentsMap ? getPathFromPrecedentsMap(precedentsMap, endNode) : undefined;\n};\n\nconst findIdealNodeSearch = ({ photos, targetRowHeight, containerWidth, }) => {\n    const minRatio = photos.reduce((acc, photo) => Math.min(ratio(photo), acc), Number.MAX_VALUE);\n    return round(containerWidth / targetRowHeight / minRatio) + 2;\n};\nconst getCommonHeight = (row, containerWidth, spacing, padding) => {\n    const rowWidth = containerWidth - (row.length - 1) * spacing - 2 * padding * row.length;\n    const totalAspectRatio = row.reduce((acc, photo) => acc + ratio(photo), 0);\n    return rowWidth / totalAspectRatio;\n};\nconst cost = (photos, i, j, width, targetRowHeight, spacing, padding) => {\n    const row = photos.slice(i, j);\n    const commonHeight = getCommonHeight(row, width, spacing, padding);\n    return commonHeight > 0 ? (commonHeight - targetRowHeight) ** 2 * row.length : undefined;\n};\nconst makeGetRowNeighbors = ({ photos, layoutOptions, targetRowHeight, limitNodeSearch, rowConstraints, }) => (node) => {\n    var _a, _b;\n    const { containerWidth, spacing, padding } = layoutOptions;\n    const results = new Map();\n    results.set(node, 0);\n    const startOffset = (_a = rowConstraints === null || rowConstraints === void 0 ? void 0 : rowConstraints.minPhotos) !== null && _a !== void 0 ? _a : 1;\n    const endOffset = Math.min(limitNodeSearch, (_b = rowConstraints === null || rowConstraints === void 0 ? void 0 : rowConstraints.maxPhotos) !== null && _b !== void 0 ? _b : Infinity);\n    for (let i = node + startOffset; i < photos.length + 1; i += 1) {\n        if (i - node > endOffset)\n            break;\n        const currentCost = cost(photos, node, i, containerWidth, targetRowHeight, spacing, padding);\n        if (currentCost === undefined)\n            break;\n        results.set(i, currentCost);\n    }\n    return results;\n};\nconst computeRowsLayout = ({ photos, layoutOptions, }) => {\n    const { spacing, padding, containerWidth, targetRowHeight, rowConstraints } = layoutOptions;\n    const limitNodeSearch = findIdealNodeSearch({ photos, containerWidth, targetRowHeight });\n    const getNeighbors = makeGetRowNeighbors({\n        photos,\n        layoutOptions,\n        targetRowHeight,\n        limitNodeSearch,\n        rowConstraints,\n    });\n    const path = findShortestPath(getNeighbors, 0, photos.length);\n    if (path === undefined)\n        return undefined;\n    const layout = [];\n    for (let i = 1; i < path.length; i += 1) {\n        const row = photos.map((photo, index) => ({ photo, index })).slice(path[i - 1], path[i]);\n        const height = getCommonHeight(row.map(({ photo }) => photo), containerWidth, spacing, padding);\n        layout.push(row.map(({ photo, index }, photoIndex) => ({\n            photo,\n            layout: {\n                height,\n                width: height * ratio(photo),\n                index,\n                photoIndex,\n                photosCount: row.length,\n            },\n        })));\n    }\n    return layout;\n};\n\nconst calcWidth = (base, { width, photosCount }, { spacing, padding, containerWidth }) => {\n    const gaps = spacing * (photosCount - 1) + 2 * padding * photosCount;\n    return `calc((${base} - ${gaps}px) / ${round((containerWidth - gaps) / width, 5)})`;\n};\nconst cssPhotoWidth = (layout, layoutOptions) => layoutOptions.layout !== \"rows\"\n    ? `calc(100% - ${2 * layoutOptions.padding}px)`\n    : calcWidth(\"100%\", layout, layoutOptions);\nconst calculateSizesValue = (size, layout, layoutOptions) => { var _a, _b; return calcWidth((_b = (_a = size.match(/calc\\((.*)\\)/)) === null || _a === void 0 ? void 0 : _a[1]) !== null && _b !== void 0 ? _b : size, layout, layoutOptions); };\nconst srcSetAndSizes = (photo, layout, layoutOptions) => {\n    let srcSet;\n    let sizes;\n    if (photo.images && photo.images.length > 0) {\n        srcSet = photo.images\n            .concat(!photo.images.find(({ width }) => width === photo.width)\n            ? [{ src: photo.src, width: photo.width, height: photo.height }]\n            : [])\n            .sort((first, second) => first.width - second.width)\n            .map((image) => `${image.src} ${image.width}w`)\n            .join(\", \");\n        if (layoutOptions.sizes) {\n            sizes = (layoutOptions.sizes.sizes || [])\n                .map(({ viewport, size }) => `${viewport} ${calculateSizesValue(size, layout, layoutOptions)}`)\n                .concat(calculateSizesValue(layoutOptions.sizes.size, layout, layoutOptions))\n                .join(\", \");\n        }\n        else {\n            sizes = `${Math.ceil((layout.width / layoutOptions.containerWidth) * 100)}vw`;\n        }\n    }\n    return { srcSet, sizes };\n};\nconst PhotoRenderer = (props) => {\n    var _a, _b;\n    const { photo, layout, layoutOptions, imageProps: { style, ...restImageProps } = {}, renderPhoto } = props;\n    const { onClick } = layoutOptions;\n    const imageStyle = {\n        display: \"block\",\n        boxSizing: \"content-box\",\n        width: cssPhotoWidth(layout, layoutOptions),\n        height: \"auto\",\n        aspectRatio: `${photo.width} / ${photo.height}`,\n        ...(layoutOptions.padding ? { padding: `${layoutOptions.padding}px` } : null),\n        ...((layoutOptions.layout === \"columns\" || layoutOptions.layout === \"masonry\") &&\n            layout.photoIndex < layout.photosCount - 1\n            ? { marginBottom: `${layoutOptions.spacing}px` }\n            : null),\n        ...(onClick ? { cursor: \"pointer\" } : null),\n        ...style,\n    };\n    const handleClick = onClick\n        ? (event) => {\n            onClick({ event, photo, index: layout.index });\n        }\n        : undefined;\n    const imageProps = {\n        src: photo.src,\n        alt: (_a = photo.alt) !== null && _a !== void 0 ? _a : \"\",\n        title: photo.title,\n        onClick: handleClick,\n        style: imageStyle,\n        className: \"react-photo-album--photo\",\n        loading: \"lazy\",\n        decoding: \"async\",\n        ...srcSetAndSizes(photo, layout, layoutOptions),\n        ...restImageProps,\n    };\n    const renderDefaultPhoto = ({ wrapped } = {}) => {\n        const { src, alt, srcSet, sizes, style: unwrappedStyle, ...rest } = imageProps;\n        return (React.createElement(\"img\", { alt: alt, ...(srcSet ? { srcSet, sizes } : null), src: src, style: wrapped ? { display: \"block\", width: \"100%\", height: \"100%\" } : unwrappedStyle, ...rest }));\n    };\n    const wrapperStyle = (({ display, boxSizing, width, aspectRatio, padding, marginBottom }) => ({\n        display,\n        boxSizing,\n        width,\n        aspectRatio,\n        padding,\n        marginBottom,\n    }))(imageStyle);\n    return (React.createElement(React.Fragment, null, (_b = renderPhoto === null || renderPhoto === void 0 ? void 0 : renderPhoto({\n        photo,\n        layout,\n        layoutOptions,\n        imageProps,\n        renderDefaultPhoto,\n        wrapperStyle,\n    })) !== null && _b !== void 0 ? _b : renderDefaultPhoto()));\n};\n\nconst defaultRenderRowContainer = ({ rowContainerProps, children, }) => React.createElement(\"div\", { ...rowContainerProps }, children);\nconst RowContainerRenderer = (props) => {\n    const { layoutOptions, rowIndex, rowsCount, renderRowContainer, rowContainerProps: { style, ...restRowContainerProps } = {}, children, } = props;\n    const rowContainerProps = {\n        className: \"react-photo-album--row\",\n        style: {\n            display: \"flex\",\n            flexDirection: \"row\",\n            flexWrap: \"nowrap\",\n            alignItems: \"flex-start\",\n            justifyContent: \"space-between\",\n            ...(rowIndex < rowsCount - 1 ? { marginBottom: `${layoutOptions.spacing}px` } : null),\n            ...style,\n        },\n        ...restRowContainerProps,\n    };\n    return (React.createElement(React.Fragment, null, (renderRowContainer !== null && renderRowContainer !== void 0 ? renderRowContainer : defaultRenderRowContainer)({\n        layoutOptions,\n        rowIndex,\n        rowsCount,\n        rowContainerProps,\n        children,\n    })));\n};\n\nconst RowsLayout = (props) => {\n    const { photos, layoutOptions, renderPhoto, renderRowContainer, componentsProps } = props;\n    const rowsLayout = computeRowsLayout({ photos, layoutOptions });\n    if (!rowsLayout)\n        return null;\n    return (React.createElement(React.Fragment, null, rowsLayout.map((row, rowIndex) => (React.createElement(RowContainerRenderer, { key: `row-${rowIndex}`, layoutOptions: layoutOptions, rowIndex: rowIndex, rowsCount: rowsLayout.length, renderRowContainer: renderRowContainer, rowContainerProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.rowContainerProps }, row.map(({ photo, layout }) => (React.createElement(PhotoRenderer, { key: photo.key || photo.src, photo: photo, layout: layout, layoutOptions: layoutOptions, renderPhoto: renderPhoto, imageProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.imageProps }))))))));\n};\n\nconst computeShortestPath = (graph, pathLength, startNode, endNode) => {\n    const matrix = new Map();\n    const queue = new Set();\n    queue.add(startNode);\n    for (let length = 0; length < pathLength; length += 1) {\n        const currentQueue = [...queue.keys()];\n        queue.clear();\n        currentQueue.forEach((node) => {\n            const accumulatedWeight = length > 0 ? matrix.get(node)[length].weight : 0;\n            graph(node).forEach(({ neighbor, weight }) => {\n                let paths = matrix.get(neighbor);\n                if (!paths) {\n                    paths = [];\n                    matrix.set(neighbor, paths);\n                }\n                const newWeight = accumulatedWeight + weight;\n                const nextPath = paths[length + 1];\n                if (!nextPath ||\n                    (nextPath.weight > newWeight && (nextPath.weight / newWeight > 1.0001 || node < nextPath.node))) {\n                    paths[length + 1] = { node, weight: newWeight };\n                }\n                if (length < pathLength - 1 && neighbor !== endNode) {\n                    queue.add(neighbor);\n                }\n            });\n        });\n    }\n    return matrix;\n};\nconst reconstructShortestPath = (matrix, pathLength, endNode) => {\n    const path = [endNode];\n    for (let node = endNode, length = pathLength; length > 0; length -= 1) {\n        node = matrix.get(node)[length].node;\n        path.push(node);\n    }\n    return path.reverse();\n};\nconst findShortestPathLengthN = (graph, pathLength, startNode, endNode) => reconstructShortestPath(computeShortestPath(graph, pathLength, startNode, endNode), pathLength, endNode);\n\nconst makeGetColumnNeighbors = ({ photos, spacing, padding, targetColumnWidth, targetColumnHeight, }) => (node) => {\n    const results = [];\n    const cutOffHeight = targetColumnHeight * 1.5;\n    let height = targetColumnWidth / ratio(photos[node]) + 2 * padding;\n    for (let i = node + 1; i < photos.length + 1; i += 1) {\n        results.push({ neighbor: i, weight: (targetColumnHeight - height) ** 2 });\n        if (height > cutOffHeight || i === photos.length) {\n            break;\n        }\n        height += targetColumnWidth / ratio(photos[i]) + spacing + 2 * padding;\n    }\n    return results;\n};\nconst buildColumnsModel = ({ path, photos, containerWidth, columnsGaps, columnsRatios, spacing, padding, }) => {\n    const columnsModel = [];\n    const totalRatio = columnsRatios.reduce((total, columnRatio) => total + columnRatio, 0);\n    for (let i = 0; i < path.length - 1; i += 1) {\n        const column = photos.map((photo, index) => ({ photo, index })).slice(path[i], path[i + 1]);\n        const totalAdjustedGaps = columnsRatios.reduce((total, columnRatio, index) => total + (columnsGaps[i] - columnsGaps[index]) * columnRatio, 0);\n        const columnWidth = ((containerWidth - (path.length - 2) * spacing - 2 * (path.length - 1) * padding - totalAdjustedGaps) *\n            columnsRatios[i]) /\n            totalRatio;\n        columnsModel.push(column.map(({ photo, index }, photoIndex) => ({\n            photo,\n            layout: {\n                width: columnWidth,\n                height: columnWidth / ratio(photo),\n                index,\n                photoIndex,\n                photosCount: column.length,\n            },\n        })));\n    }\n    return columnsModel;\n};\nconst computeColumnsModel = ({ photos, layoutOptions, targetColumnWidth, }) => {\n    const { columns, spacing, padding, containerWidth } = layoutOptions;\n    const columnsGaps = [];\n    const columnsRatios = [];\n    if (photos.length <= columns) {\n        const averageRatio = photos.length > 0 ? photos.reduce((acc, photo) => acc + ratio(photo), 0) / photos.length : 1;\n        for (let i = 0; i < columns; i += 1) {\n            columnsGaps[i] = 2 * padding;\n            columnsRatios[i] = i < photos.length ? ratio(photos[i]) : averageRatio;\n        }\n        const columnsModel = buildColumnsModel({\n            path: Array.from({ length: columns + 1 }).map((_, index) => Math.min(index, photos.length)),\n            photos,\n            columnsRatios,\n            columnsGaps,\n            containerWidth,\n            spacing,\n            padding,\n        });\n        return { columnsGaps, columnsRatios, columnsModel };\n    }\n    const targetColumnHeight = (photos.reduce((acc, photo) => acc + targetColumnWidth / ratio(photo), 0) +\n        spacing * (photos.length - columns) +\n        2 * padding * photos.length) /\n        columns;\n    const getNeighbors = makeGetColumnNeighbors({\n        photos,\n        targetColumnWidth,\n        targetColumnHeight,\n        spacing,\n        padding,\n    });\n    const path = findShortestPathLengthN(getNeighbors, columns, 0, photos.length);\n    for (let i = 0; i < path.length - 1; i += 1) {\n        const column = photos.slice(path[i], path[i + 1]);\n        columnsGaps[i] = spacing * (column.length - 1) + 2 * padding * column.length;\n        columnsRatios[i] = 1 / column.reduce((acc, photo) => acc + 1 / ratio(photo), 0);\n    }\n    const columnsModel = buildColumnsModel({\n        path,\n        photos,\n        columnsRatios,\n        columnsGaps,\n        containerWidth,\n        spacing,\n        padding,\n    });\n    return { columnsGaps, columnsRatios, columnsModel };\n};\nconst computeLayout = (props) => {\n    const { photos, layoutOptions } = props;\n    const { columns, spacing, padding, containerWidth } = layoutOptions;\n    const targetColumnWidth = (containerWidth - spacing * (columns - 1) - 2 * padding * columns) / columns;\n    const { columnsGaps, columnsRatios, columnsModel } = computeColumnsModel({\n        photos,\n        layoutOptions,\n        targetColumnWidth,\n    });\n    if (columnsModel.findIndex((columnModel) => columnModel.findIndex(({ layout: { width, height } }) => width < 0 || height < 0) >= 0) >= 0) {\n        if (columns > 1) {\n            return computeLayout({ photos, layoutOptions: { ...layoutOptions, columns: columns - 1 } });\n        }\n        return undefined;\n    }\n    return { columnsModel, columnsGaps, columnsRatios };\n};\nconst computeColumnsLayout = ({ photos, layoutOptions, }) => computeLayout({\n    photos,\n    layoutOptions,\n});\n\nconst defaultRenderColumnContainer = ({ columnContainerProps, children, }) => React.createElement(\"div\", { ...columnContainerProps }, children);\nconst cssColumnWidth = (props) => {\n    const { layoutOptions, columnIndex, columnsCount, columnsGaps, columnsRatios } = props;\n    const { layout, spacing, padding } = layoutOptions;\n    if (layout === \"masonry\" || !columnsGaps || !columnsRatios) {\n        return `calc((100% - ${spacing * (columnsCount - 1)}px) / ${columnsCount})`;\n    }\n    const totalRatio = columnsRatios.reduce((acc, ratio) => acc + ratio, 0);\n    const totalAdjustedGaps = columnsRatios.reduce((acc, ratio, index) => acc + (columnsGaps[columnIndex] - columnsGaps[index]) * ratio, 0);\n    return `calc((100% - ${round((columnsCount - 1) * spacing + 2 * columnsCount * padding + totalAdjustedGaps, 3)}px) * ${round(columnsRatios[columnIndex] / totalRatio, 5)} + ${2 * padding}px)`;\n};\nconst ColumnContainerRenderer = (props) => {\n    const { layoutOptions, renderColumnContainer, children, columnContainerProps: { style, ...restColumnContainerProps } = {}, ...rest } = props;\n    const columnContainerProps = {\n        className: \"react-photo-album--column\",\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            flexWrap: \"nowrap\",\n            alignItems: \"flex-start\",\n            width: cssColumnWidth(props),\n            justifyContent: layoutOptions.layout === \"columns\" ? \"space-between\" : \"flex-start\",\n            ...style,\n        },\n        ...restColumnContainerProps,\n    };\n    return (React.createElement(React.Fragment, null, (renderColumnContainer !== null && renderColumnContainer !== void 0 ? renderColumnContainer : defaultRenderColumnContainer)({\n        layoutOptions,\n        columnContainerProps,\n        children,\n        ...rest,\n    })));\n};\n\nconst ColumnsLayout = (props) => {\n    const { photos, layoutOptions, renderPhoto, renderColumnContainer, componentsProps } = props;\n    const columnsLayout = computeColumnsLayout({ photos, layoutOptions });\n    if (!columnsLayout)\n        return null;\n    const { columnsModel, columnsRatios, columnsGaps } = columnsLayout;\n    return (React.createElement(React.Fragment, null, columnsModel.map((column, columnIndex) => (React.createElement(ColumnContainerRenderer, { key: `column-${columnIndex}`, layoutOptions: layoutOptions, columnIndex: columnIndex, columnsCount: columnsModel.length, columnsGaps: columnsGaps, columnsRatios: columnsRatios, renderColumnContainer: renderColumnContainer, columnContainerProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.columnContainerProps }, column.map(({ photo, layout }) => (React.createElement(PhotoRenderer, { key: photo.key || photo.src, photo: photo, layout: layout, layoutOptions: layoutOptions, renderPhoto: renderPhoto, imageProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.imageProps }))))))));\n};\n\nconst computeMasonryLayout = (props) => {\n    const { photos, layoutOptions } = props;\n    const { columns, spacing, padding, containerWidth } = layoutOptions;\n    const columnWidth = (containerWidth - spacing * (columns - 1) - 2 * padding * columns) / columns;\n    if (columnWidth <= 0) {\n        return columns > 1\n            ? computeMasonryLayout({\n                ...props,\n                layoutOptions: { ...layoutOptions, columns: columns - 1 },\n            })\n            : undefined;\n    }\n    const columnsCurrentTopPositions = [];\n    for (let i = 0; i < columns; i += 1) {\n        columnsCurrentTopPositions[i] = 0;\n    }\n    const columnsModel = photos.reduce((model, photo, index) => {\n        const shortestColumn = columnsCurrentTopPositions.reduce((currentShortestColumn, item, i) => item < columnsCurrentTopPositions[currentShortestColumn] - 1 ? i : currentShortestColumn, 0);\n        columnsCurrentTopPositions[shortestColumn] =\n            columnsCurrentTopPositions[shortestColumn] + columnWidth / ratio(photo) + spacing + 2 * padding;\n        model[shortestColumn].push({ photo, index });\n        return model;\n    }, Array.from({ length: columns }).map(() => []));\n    return columnsModel.map((column) => column.map(({ photo, index }, photoIndex) => ({\n        photo,\n        layout: {\n            width: columnWidth,\n            height: columnWidth / ratio(photo),\n            index,\n            photoIndex,\n            photosCount: column.length,\n        },\n    })));\n};\n\nconst MasonryLayout = (props) => {\n    const { photos, layoutOptions, renderPhoto, renderColumnContainer, componentsProps } = props;\n    const masonryLayout = computeMasonryLayout({ photos, layoutOptions });\n    if (!masonryLayout)\n        return null;\n    return (React.createElement(React.Fragment, null, masonryLayout.map((column, columnIndex) => (React.createElement(ColumnContainerRenderer, { key: `masonry-column-${columnIndex}`, layoutOptions: layoutOptions, columnsCount: masonryLayout.length, columnIndex: columnIndex, renderColumnContainer: renderColumnContainer, columnContainerProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.columnContainerProps }, column.map(({ photo, layout }) => (React.createElement(PhotoRenderer, { key: photo.key || photo.src, photo: photo, layout: layout, layoutOptions: layoutOptions, renderPhoto: renderPhoto, imageProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.imageProps }))))))));\n};\n\nconst defaultRenderContainer = ({ containerProps, children, containerRef }) => (React.createElement(\"div\", { ref: containerRef, ...containerProps }, children));\nconst ContainerRenderer = (props) => {\n    const { layout, renderContainer, children, containerRef, containerProps: { style, ...restContainerProps } = {}, } = props;\n    const containerProps = {\n        className: `react-photo-album react-photo-album--${layout}`,\n        style: {\n            display: \"flex\",\n            flexWrap: \"nowrap\",\n            justifyContent: \"space-between\",\n            flexDirection: layout === \"rows\" ? \"column\" : \"row\",\n            ...style,\n        },\n        ...restContainerProps,\n    };\n    return (React.createElement(React.Fragment, null, (renderContainer !== null && renderContainer !== void 0 ? renderContainer : defaultRenderContainer)({\n        containerProps,\n        containerRef,\n        layout,\n        children,\n    })));\n};\n\nconst useArray = (array) => {\n    const ref = React.useRef(array);\n    if (!array || !ref.current || array.join() !== ref.current.join()) {\n        ref.current = array;\n    }\n    return ref.current;\n};\n\nconst containerWidthReducer = (state, { newContainerWidth, newScrollbarWidth }) => {\n    const { containerWidth, scrollbarWidth } = state;\n    if (containerWidth !== undefined &&\n        scrollbarWidth !== undefined &&\n        newContainerWidth !== undefined &&\n        newScrollbarWidth !== undefined &&\n        newContainerWidth > containerWidth &&\n        newContainerWidth - containerWidth <= 20 &&\n        newScrollbarWidth < scrollbarWidth) {\n        return { containerWidth, scrollbarWidth: newScrollbarWidth };\n    }\n    return containerWidth !== newContainerWidth || scrollbarWidth !== newScrollbarWidth\n        ? { containerWidth: newContainerWidth, scrollbarWidth: newScrollbarWidth }\n        : state;\n};\nconst resolveContainerWidth = (el, breakpoints) => {\n    let width = el === null || el === void 0 ? void 0 : el.clientWidth;\n    if (width !== undefined && breakpoints && breakpoints.length > 0) {\n        const sorted = [...breakpoints.filter((x) => x > 0)].sort((a, b) => b - a);\n        sorted.push(Math.floor(sorted[sorted.length - 1] / 2));\n        const threshold = width;\n        width = sorted.find((breakpoint, index) => breakpoint <= threshold || index === sorted.length - 1);\n    }\n    return width;\n};\nconst useContainerWidth = (breakpoints, defaultContainerWidth) => {\n    const [{ containerWidth }, dispatch] = React.useReducer(containerWidthReducer, {\n        containerWidth: defaultContainerWidth,\n    });\n    const ref = React.useRef(null);\n    const observerRef = React.useRef();\n    const containerRef = React.useCallback((node) => {\n        var _a;\n        (_a = observerRef.current) === null || _a === void 0 ? void 0 : _a.disconnect();\n        observerRef.current = undefined;\n        ref.current = node;\n        const updateWidth = () => dispatch({\n            newContainerWidth: resolveContainerWidth(ref.current, breakpoints),\n            newScrollbarWidth: window.innerWidth - document.documentElement.clientWidth,\n        });\n        updateWidth();\n        if (node && typeof ResizeObserver !== \"undefined\") {\n            observerRef.current = new ResizeObserver(updateWidth);\n            observerRef.current.observe(node);\n        }\n    }, [breakpoints]);\n    return { containerRef, containerWidth };\n};\n\nconst breakpoints = Object.freeze([1200, 600, 300, 0]);\nconst unwrap = (value, containerWidth) => typeof value === \"function\" ? value(containerWidth) : value;\nconst unwrapParameter = (value, containerWidth) => typeof value !== \"undefined\" ? unwrap(value, containerWidth) : undefined;\nconst selectResponsiveValue = (values, containerWidth) => {\n    const index = breakpoints.findIndex((breakpoint) => breakpoint <= containerWidth);\n    return unwrap(values[index >= 0 ? index : 0], containerWidth);\n};\nconst resolveResponsiveParameter = (parameter, containerWidth, values, minValue = 0) => {\n    const value = unwrapParameter(parameter, containerWidth);\n    return Math.round(Math.max(value === undefined ? selectResponsiveValue(values, containerWidth) : value, minValue));\n};\n\nconst resolveLayoutOptions = ({ layout, onClick, containerWidth, targetRowHeight, rowConstraints, columns, spacing, padding, sizes, }) => ({\n    layout,\n    onClick,\n    containerWidth,\n    columns: resolveResponsiveParameter(columns, containerWidth, [5, 4, 3, 2], 1),\n    spacing: resolveResponsiveParameter(spacing, containerWidth, [20, 15, 10, 5]),\n    padding: resolveResponsiveParameter(padding, containerWidth, [0, 0, 0, 0, 0]),\n    targetRowHeight: resolveResponsiveParameter(targetRowHeight, containerWidth, [\n        (w) => w / 5,\n        (w) => w / 4,\n        (w) => w / 3,\n        (w) => w / 2,\n    ]),\n    rowConstraints: unwrapParameter(rowConstraints, containerWidth),\n    sizes,\n});\nconst resolveComponentsProps = (componentsProps, containerWidth) => typeof componentsProps === \"function\" ? componentsProps(containerWidth) : componentsProps;\nconst renderLayout = (props, containerWidth, componentsProps) => {\n    const { photos, layout, renderPhoto, renderRowContainer, renderColumnContainer } = props;\n    const layoutOptions = resolveLayoutOptions({ containerWidth, ...props });\n    const commonLayoutProps = { photos, renderPhoto, componentsProps };\n    if (layout === \"rows\") {\n        return (React.createElement(RowsLayout, { layoutOptions: layoutOptions, renderRowContainer: renderRowContainer, ...commonLayoutProps }));\n    }\n    if (layout === \"columns\") {\n        return (React.createElement(ColumnsLayout, { layoutOptions: layoutOptions, renderColumnContainer: renderColumnContainer, ...commonLayoutProps }));\n    }\n    return (React.createElement(MasonryLayout, { layoutOptions: layoutOptions, renderColumnContainer: renderColumnContainer, ...commonLayoutProps }));\n};\nconst PhotoAlbum = (props) => {\n    const { photos, layout, renderContainer, defaultContainerWidth, breakpoints } = props;\n    const { containerRef, containerWidth } = useContainerWidth(useArray(breakpoints), defaultContainerWidth);\n    if (!layout || ![\"rows\", \"columns\", \"masonry\"].includes(layout) || !Array.isArray(photos))\n        return null;\n    const componentsProps = resolveComponentsProps(props.componentsProps, containerWidth);\n    return (React.createElement(ContainerRenderer, { layout: layout, containerRef: containerRef, renderContainer: renderContainer, containerProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.containerProps }, containerWidth ? renderLayout(props, containerWidth, componentsProps) : null));\n};\n\nexport { PhotoAlbum, PhotoAlbum as default };\n","import * as React from \"react\";\nimport { clsx, cssClass } from \"../utils.js\";\nimport { useController } from \"../modules/Controller.js\";\nimport { ELEMENT_BUTTON, ELEMENT_ICON } from \"../consts.js\";\nexport const IconButton = React.forwardRef(({ label, className, icon: Icon, renderIcon, onClick, style, ...rest }, ref) => {\n    const { styles } = useController().getLightboxProps();\n    return (React.createElement(\"button\", { ref: ref, type: \"button\", \"aria-label\": label, className: clsx(cssClass(ELEMENT_BUTTON), className), onClick: onClick, style: { ...style, ...styles.button }, ...rest }, renderIcon ? renderIcon() : React.createElement(Icon, { className: cssClass(ELEMENT_ICON), style: styles.icon })));\n});\nIconButton.displayName = \"IconButton\";\n","import * as React from \"react\";\nexport const createIcon = (name, glyph) => {\n    const icon = (props) => (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", \"aria-hidden\": \"true\", focusable: \"false\", ...props },\n        React.createElement(\"g\", { fill: \"currentColor\" },\n            React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n            glyph)));\n    icon.displayName = name;\n    return icon;\n};\nexport const CloseIcon = createIcon(\"Close\", React.createElement(\"path\", { d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" }));\nexport const PreviousIcon = createIcon(\"Previous\", React.createElement(\"path\", { d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\" }));\nexport const NextIcon = createIcon(\"Next\", React.createElement(\"path\", { d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\" }));\nexport const LoadingIcon = createIcon(\"Loading\", React.createElement(React.Fragment, null, Array.from({ length: 8 }).map((_, index, array) => (React.createElement(\"line\", { key: index, x1: \"12\", y1: \"6.5\", x2: \"12\", y2: \"1.8\", strokeLinecap: \"round\", strokeWidth: \"2.6\", stroke: \"currentColor\", strokeOpacity: (1 / array.length) * (index + 1), transform: `rotate(${(360 / array.length) * index}, 12, 12)` })))));\nexport const ErrorIcon = createIcon(\"Error\", React.createElement(\"path\", { d: \"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z\" }));\n","import * as React from \"react\";\nimport { clsx, cssClass, hasWindow, makeComposePrefix } from \"../utils.js\";\nimport { useEventCallback } from \"../hooks/index.js\";\nimport { useEvents } from \"../contexts/index.js\";\nimport { ErrorIcon, LoadingIcon } from \"./Icons.js\";\nimport { activeSlideStatus, ELEMENT_ICON, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, } from \"../consts.js\";\nconst slidePrefix = makeComposePrefix(\"slide\");\nconst slideImagePrefix = makeComposePrefix(\"slide_image\");\nexport const ImageSlide = ({ slide: image, offset, render, rect, imageFit, onClick, onLoad, style, }) => {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const [status, setStatus] = React.useState(SLIDE_STATUS_LOADING);\n    const { publish } = useEvents();\n    const imageRef = React.useRef(null);\n    React.useEffect(() => {\n        if (offset === 0) {\n            publish(activeSlideStatus(status));\n        }\n    }, [offset, status, publish]);\n    const handleLoading = useEventCallback((img) => {\n        if (status === SLIDE_STATUS_COMPLETE) {\n            return;\n        }\n        (\"decode\" in img ? img.decode() : Promise.resolve())\n            .catch(() => { })\n            .then(() => {\n            if (!img.parentNode) {\n                return;\n            }\n            setStatus(SLIDE_STATUS_COMPLETE);\n            onLoad === null || onLoad === void 0 ? void 0 : onLoad(img);\n        });\n    });\n    const setImageRef = React.useCallback((img) => {\n        imageRef.current = img;\n        if (img === null || img === void 0 ? void 0 : img.complete) {\n            handleLoading(img);\n        }\n    }, [handleLoading]);\n    const handleOnLoad = React.useCallback((event) => {\n        handleLoading(event.currentTarget);\n    }, [handleLoading]);\n    const onError = React.useCallback(() => {\n        setStatus(SLIDE_STATUS_ERROR);\n    }, []);\n    const cover = image.imageFit === IMAGE_FIT_COVER || (image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER);\n    const nonInfinite = (value, fallback) => (Number.isFinite(value) ? value : fallback);\n    const maxWidth = nonInfinite(Math.max(...((_b = (_a = image.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) !== null && _b !== void 0 ? _b : []).concat(image.width ? [image.width] : [])), ((_c = imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalWidth) || 0);\n    const maxHeight = nonInfinite(Math.max(...((_e = (_d = image.srcSet) === null || _d === void 0 ? void 0 : _d.map((x) => x.height)) !== null && _e !== void 0 ? _e : []).concat(image.height ? [image.height] : [])), ((_f = imageRef.current) === null || _f === void 0 ? void 0 : _f.naturalHeight) || 0);\n    const defaultStyle = maxWidth && maxHeight\n        ? {\n            maxWidth: `min(${maxWidth}px, 100%)`,\n            maxHeight: `min(${maxHeight}px, 100%)`,\n        }\n        : {\n            maxWidth: \"100%\",\n            maxHeight: \"100%\",\n        };\n    const srcSet = (_g = image.srcSet) === null || _g === void 0 ? void 0 : _g.sort((a, b) => a.width - b.width).map((item) => `${item.src} ${item.width}w`).join(\", \");\n    const estimateActualWidth = () => rect && !cover && image.width && image.height ? (rect.height / image.height) * image.width : Number.MAX_VALUE;\n    const sizes = srcSet && rect && hasWindow() ? `${Math.round(Math.min(estimateActualWidth(), rect.width))}px` : undefined;\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"img\", { ref: setImageRef, onLoad: handleOnLoad, onError: onError, onClick: onClick, className: clsx(cssClass(slideImagePrefix()), cover && cssClass(slideImagePrefix(\"cover\")), status !== SLIDE_STATUS_COMPLETE && cssClass(slideImagePrefix(\"loading\"))), draggable: false, alt: image.alt, style: { ...defaultStyle, ...style }, sizes: sizes, srcSet: srcSet, src: image.src }),\n        status !== SLIDE_STATUS_COMPLETE && (React.createElement(\"div\", { className: cssClass(slidePrefix(SLIDE_STATUS_PLACEHOLDER)) },\n            status === SLIDE_STATUS_LOADING &&\n                ((render === null || render === void 0 ? void 0 : render.iconLoading) ? (render.iconLoading()) : (React.createElement(LoadingIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_LOADING))) }))),\n            status === SLIDE_STATUS_ERROR &&\n                ((render === null || render === void 0 ? void 0 : render.iconError) ? (render.iconError()) : (React.createElement(ErrorIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_ERROR))) })))))));\n};\n","export const createModule = (name, component) => ({\n    name,\n    component,\n});\nexport const createNode = (module, children) => ({\n    module,\n    children,\n});\nconst traverseNode = (node, target, apply) => {\n    if (node.module.name === target) {\n        return apply(node);\n    }\n    if (node.children) {\n        return [\n            createNode(node.module, node.children.flatMap((n) => { var _a; return (_a = traverseNode(n, target, apply)) !== null && _a !== void 0 ? _a : []; })),\n        ];\n    }\n    return [node];\n};\nconst traverse = (nodes, target, apply) => nodes.flatMap((node) => { var _a; return (_a = traverseNode(node, target, apply)) !== null && _a !== void 0 ? _a : []; });\nexport const withPlugins = (root, plugins) => {\n    let config = root;\n    const augmentations = [];\n    const contains = (target) => {\n        const nodes = [...config];\n        while (nodes.length > 0) {\n            const node = nodes.pop();\n            if ((node === null || node === void 0 ? void 0 : node.module.name) === target)\n                return true;\n            if (node === null || node === void 0 ? void 0 : node.children)\n                nodes.push(...node.children);\n        }\n        return false;\n    };\n    const addParent = (target, module) => {\n        if (target === \"\") {\n            config = [createNode(module, config)];\n            return;\n        }\n        config = traverse(config, target, (node) => [createNode(module, [node])]);\n    };\n    const append = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(node.module, [createNode(module, node.children)])]);\n    };\n    const addChild = (target, module, precede) => {\n        config = traverse(config, target, (node) => {\n            var _a;\n            return [\n                createNode(node.module, [\n                    ...(precede ? [createNode(module)] : []),\n                    ...((_a = node.children) !== null && _a !== void 0 ? _a : []),\n                    ...(!precede ? [createNode(module)] : []),\n                ]),\n            ];\n        });\n    };\n    const addSibling = (target, module, precede) => {\n        config = traverse(config, target, (node) => [\n            ...(precede ? [createNode(module)] : []),\n            node,\n            ...(!precede ? [createNode(module)] : []),\n        ]);\n    };\n    const replace = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(module, node.children)]);\n    };\n    const remove = (target) => {\n        config = traverse(config, target, (node) => node.children);\n    };\n    const augment = (augmentation) => {\n        augmentations.push(augmentation);\n    };\n    plugins === null || plugins === void 0 ? void 0 : plugins.forEach((plugin) => {\n        plugin({\n            contains,\n            addParent,\n            append,\n            addChild,\n            addSibling,\n            replace,\n            remove,\n            augment,\n        });\n    });\n    return {\n        config,\n        augmentation: (props) => augmentations.reduce((acc, augmentation) => augmentation(acc), props),\n    };\n};\n","export const MODULE_CAROUSEL = \"carousel\";\nexport const MODULE_CONTROLLER = \"controller\";\nexport const MODULE_CORE = \"core\";\nexport const MODULE_NAVIGATION = \"navigation\";\nexport const MODULE_NO_SCROLL = \"no-scroll\";\nexport const MODULE_PORTAL = \"portal\";\nexport const MODULE_TOOLBAR = \"toolbar\";\nexport const PLUGIN_CAPTIONS = \"captions\";\nexport const PLUGIN_FULLSCREEN = \"fullscreen\";\nexport const PLUGIN_INLINE = \"inline\";\nexport const PLUGIN_SLIDESHOW = \"slideshow\";\nexport const PLUGIN_THUMBNAILS = \"thumbnails\";\nexport const PLUGIN_ZOOM = \"zoom\";\nexport const SLIDE_STATUS_LOADING = \"loading\";\nexport const SLIDE_STATUS_PLAYING = \"playing\";\nexport const SLIDE_STATUS_ERROR = \"error\";\nexport const SLIDE_STATUS_COMPLETE = \"complete\";\nexport const SLIDE_STATUS_PLACEHOLDER = \"placeholder\";\nexport const activeSlideStatus = (status) => `active-slide-${status}`;\nexport const ACTIVE_SLIDE_LOADING = activeSlideStatus(SLIDE_STATUS_LOADING);\nexport const ACTIVE_SLIDE_PLAYING = activeSlideStatus(SLIDE_STATUS_PLAYING);\nexport const ACTIVE_SLIDE_ERROR = activeSlideStatus(SLIDE_STATUS_ERROR);\nexport const ACTIVE_SLIDE_COMPLETE = activeSlideStatus(SLIDE_STATUS_COMPLETE);\nexport const YARL_EVENT_BACKDROP_CLICK = \"backdrop_click\";\nexport const CLASS_FULLSIZE = \"fullsize\";\nexport const CLASS_FLEX_CENTER = \"flex_center\";\nexport const CLASS_NO_SCROLL = \"no_scroll\";\nexport const CLASS_NO_SCROLL_PADDING = \"no_scroll_padding\";\nexport const ACTION_PREV = \"prev\";\nexport const ACTION_NEXT = \"next\";\nexport const ACTION_CLOSE = \"close\";\nexport const EVENT_ON_POINTER_DOWN = \"onPointerDown\";\nexport const EVENT_ON_POINTER_MOVE = \"onPointerMove\";\nexport const EVENT_ON_POINTER_UP = \"onPointerUp\";\nexport const EVENT_ON_POINTER_LEAVE = \"onPointerLeave\";\nexport const EVENT_ON_POINTER_CANCEL = \"onPointerCancel\";\nexport const EVENT_ON_KEY_DOWN = \"onKeyDown\";\nexport const EVENT_ON_KEY_UP = \"onKeyUp\";\nexport const EVENT_ON_WHEEL = \"onWheel\";\nexport const VK_ESCAPE = \"Escape\";\nexport const VK_ARROW_LEFT = \"ArrowLeft\";\nexport const VK_ARROW_RIGHT = \"ArrowRight\";\nexport const ELEMENT_BUTTON = \"button\";\nexport const ELEMENT_ICON = \"icon\";\nexport const IMAGE_FIT_CONTAIN = \"contain\";\nexport const IMAGE_FIT_COVER = \"cover\";\n","import * as React from \"react\";\nimport { makeUseContext } from \"../utils.js\";\nconst EventsContext = React.createContext(null);\nexport const useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nexport const EventsProvider = ({ children }) => {\n    const [subscriptions] = React.useState({});\n    React.useEffect(() => () => {\n        Object.keys(subscriptions).forEach((key) => delete subscriptions[key]);\n    }, [subscriptions]);\n    const context = React.useMemo(() => {\n        const unsubscribe = (topic, callback) => {\n            if (subscriptions[topic]) {\n                subscriptions[topic] = subscriptions[topic].filter((cb) => cb !== callback);\n            }\n        };\n        const subscribe = (topic, callback) => {\n            if (!subscriptions[topic]) {\n                subscriptions[topic] = [];\n            }\n            subscriptions[topic].push(callback);\n            return () => unsubscribe(topic, callback);\n        };\n        const publish = (topic, event) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach((callback) => callback(event));\n        };\n        return { publish, subscribe, unsubscribe };\n    }, [subscriptions]);\n    return React.createElement(EventsContext.Provider, { value: context }, children);\n};\n","import * as React from \"react\";\nimport { makeUseContext } from \"../utils.js\";\nconst LightboxStateContext = React.createContext(null);\nexport const useLightboxState = makeUseContext(\"useLightboxState\", \"LightboxStateContext\", LightboxStateContext);\nconst reducer = (slidesCount) => (state, action) => {\n    var _a;\n    return action.increment !== undefined || action.animationDuration !== undefined\n        ? {\n            currentIndex: (((state.currentIndex + (action.increment || 0)) % slidesCount) + slidesCount) % slidesCount,\n            globalIndex: state.globalIndex + (action.increment || 0),\n            animationDuration: (_a = action.animationDuration) !== null && _a !== void 0 ? _a : state.animationDuration,\n        }\n        : state;\n};\nexport const LightboxStateProvider = ({ initialIndex, slidesCount, children, }) => {\n    const [state, dispatch] = React.useReducer(reducer(slidesCount), {\n        currentIndex: initialIndex,\n        globalIndex: initialIndex,\n        animationDuration: 0,\n    });\n    const context = React.useMemo(() => ({ state, dispatch }), [state, dispatch]);\n    return React.createElement(LightboxStateContext.Provider, { value: context }, children);\n};\n","import * as React from \"react\";\nimport { isDefined, makeUseContext } from \"../utils.js\";\nconst TimeoutsContext = React.createContext(null);\nexport const useTimeouts = makeUseContext(\"useTimeouts\", \"TimeoutsContext\", TimeoutsContext);\nexport const TimeoutsProvider = ({ children }) => {\n    const [timeouts] = React.useState([]);\n    React.useEffect(() => () => {\n        timeouts.forEach((tid) => window.clearTimeout(tid));\n        timeouts.splice(0, timeouts.length);\n    }, [timeouts]);\n    const context = React.useMemo(() => {\n        const removeTimeout = (id) => {\n            timeouts.splice(0, timeouts.length, ...timeouts.filter((tid) => tid !== id));\n        };\n        const setTimeout = (fn, delay) => {\n            const id = window.setTimeout(() => {\n                removeTimeout(id);\n                fn();\n            }, delay);\n            timeouts.push(id);\n            return id;\n        };\n        const clearTimeout = (id) => {\n            if (isDefined(id)) {\n                removeTimeout(id);\n                window.clearTimeout(id);\n            }\n        };\n        return { setTimeout, clearTimeout };\n    }, [timeouts]);\n    return React.createElement(TimeoutsContext.Provider, { value: context }, children);\n};\n","import * as React from \"react\";\nexport const useContainerRect = () => {\n    const [containerRect, setContainerRect] = React.useState();\n    const containerRef = React.useRef(null);\n    const observerRef = React.useRef();\n    const setContainerRef = React.useCallback((node) => {\n        containerRef.current = node;\n        if (observerRef.current) {\n            observerRef.current.disconnect();\n            observerRef.current = undefined;\n        }\n        const updateContainerRect = () => {\n            if (node) {\n                const styles = window.getComputedStyle(node);\n                const parse = (value) => parseFloat(value) || 0;\n                setContainerRect({\n                    width: Math.round(node.clientWidth - parse(styles.paddingLeft) - parse(styles.paddingRight)),\n                    height: Math.round(node.clientHeight - parse(styles.paddingTop) - parse(styles.paddingBottom)),\n                });\n            }\n            else {\n                setContainerRect(undefined);\n            }\n        };\n        updateContainerRect();\n        if (node && typeof ResizeObserver !== \"undefined\") {\n            observerRef.current = new ResizeObserver(updateContainerRect);\n            observerRef.current.observe(node);\n        }\n    }, []);\n    return React.useMemo(() => ({\n        setContainerRef,\n        containerRef,\n        containerRect,\n    }), [setContainerRef, containerRef, containerRect]);\n};\n","import * as React from \"react\";\nimport { useLayoutEffect } from \"./useLayoutEffect.js\";\nexport const useEventCallback = (fn) => {\n    const ref = React.useRef(fn);\n    useLayoutEffect(() => {\n        ref.current = fn;\n    });\n    return React.useCallback((...args) => { var _a; return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args); }, []);\n};\n","import * as React from \"react\";\nimport { hasWindow } from \"../utils.js\";\nexport const useLayoutEffect = hasWindow() ? React.useLayoutEffect : React.useEffect;\n","import * as React from \"react\";\nexport const useMotionPreference = () => {\n    const [reduceMotion, setReduceMotion] = React.useState(false);\n    React.useEffect(() => {\n        var _a, _b;\n        const mediaQuery = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-reduced-motion: reduce)\");\n        setReduceMotion(mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.matches);\n        const listener = (event) => setReduceMotion(event.matches);\n        (_b = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.addEventListener) === null || _b === void 0 ? void 0 : _b.call(mediaQuery, \"change\", listener);\n        return () => { var _a; return (_a = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(mediaQuery, \"change\", listener); };\n    }, []);\n    return reduceMotion;\n};\n","import * as React from \"react\";\nimport { useLayoutEffect } from \"./useLayoutEffect.js\";\nexport const useRTL = () => {\n    const [isRTL, setIsRTL] = React.useState(false);\n    useLayoutEffect(() => {\n        setIsRTL(window.getComputedStyle(window.document.documentElement).direction === \"rtl\");\n    }, []);\n    return isRTL;\n};\n","export var SwipeState;\n(function (SwipeState) {\n    SwipeState[SwipeState[\"NONE\"] = 0] = \"NONE\";\n    SwipeState[SwipeState[\"SWIPE\"] = 1] = \"SWIPE\";\n    SwipeState[SwipeState[\"ANIMATION\"] = 2] = \"ANIMATION\";\n})(SwipeState || (SwipeState = {}));\nexport * from \"./usePointerSwipe.js\";\nexport * from \"./usePreventSwipeNavigation.js\";\nexport * from \"./useWheelSwipe.js\";\n","import * as React from \"react\";\nexport const setRef = (ref, value) => {\n    if (typeof ref === \"function\") {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n};\nexport const useForkRef = (refA, refB) => React.useMemo(() => refA == null && refB == null\n    ? null\n    : (refValue) => {\n        setRef(refA, refValue);\n        setRef(refB, refValue);\n    }, [refA, refB]);\n","import * as React from \"react\";\nconst WHEEL = \"wheel\";\nconst preventDefault = (event) => {\n    if (Math.abs(event.deltaX) > Math.abs(event.deltaY) || event.ctrlKey) {\n        event.preventDefault();\n    }\n};\nexport const usePreventSwipeNavigation = () => {\n    const ref = React.useRef(null);\n    return React.useCallback((node) => {\n        var _a;\n        if (node) {\n            node.addEventListener(WHEEL, preventDefault, { passive: false });\n        }\n        else {\n            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(WHEEL, preventDefault);\n        }\n        ref.current = node;\n    }, []);\n};\n","import * as React from \"react\";\nimport { cleanup } from \"../../utils.js\";\nimport { useEventCallback } from \"../../hooks/useEventCallback.js\";\nimport { EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, } from \"../../consts.js\";\nexport const usePointerSwipe = (subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) => {\n    const offset = React.useRef(0);\n    const pointers = React.useRef([]);\n    const activePointer = React.useRef();\n    const startTime = React.useRef(0);\n    const clearPointer = React.useCallback((event) => {\n        if (activePointer.current === event.pointerId) {\n            activePointer.current = undefined;\n        }\n        const currentPointers = pointers.current;\n        currentPointers.splice(0, currentPointers.length, ...currentPointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const addPointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        pointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        addPointer(event);\n    });\n    const onPointerUp = useEventCallback((event) => {\n        if (pointers.current.find((x) => x.pointerId === event.pointerId) &&\n            activePointer.current === event.pointerId) {\n            const duration = Date.now() - startTime.current;\n            const currentOffset = offset.current;\n            if (Math.abs(currentOffset) > 0.3 * containerWidth ||\n                (Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration)) {\n                onSwipeFinish(currentOffset, duration);\n            }\n            else {\n                onSwipeCancel(currentOffset);\n            }\n            offset.current = 0;\n        }\n        clearPointer(event);\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointer = pointers.current.find((p) => p.pointerId === event.pointerId);\n        if (pointer) {\n            const isCurrentPointer = activePointer.current === event.pointerId;\n            if (event.buttons === 0) {\n                if (isCurrentPointer && offset.current !== 0) {\n                    onPointerUp(event);\n                }\n                else {\n                    clearPointer(pointer);\n                }\n                return;\n            }\n            const deltaX = event.clientX - pointer.clientX;\n            const deltaY = event.clientY - pointer.clientY;\n            if (activePointer.current === undefined &&\n                isSwipeValid(deltaX) &&\n                Math.abs(deltaX) > Math.abs(deltaY) &&\n                Math.abs(deltaX) > 30) {\n                addPointer(event);\n                activePointer.current = event.pointerId;\n                startTime.current = Date.now();\n                onSwipeStart();\n            }\n            else if (isCurrentPointer) {\n                offset.current = deltaX;\n                onSwipeProgress(deltaX);\n            }\n        }\n    });\n    React.useEffect(() => cleanup(subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp)), [subscribeSensors, onPointerDown, onPointerMove, onPointerUp]);\n};\n","import * as React from \"react\";\nimport { useEventCallback } from \"../../hooks/index.js\";\nimport { useTimeouts } from \"../../contexts/index.js\";\nimport { SwipeState } from \"./index.js\";\nimport { EVENT_ON_WHEEL } from \"../../consts.js\";\nexport const useWheelSwipe = (swipeState, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) => {\n    const offset = React.useRef(0);\n    const intent = React.useRef(0);\n    const intentCleanup = React.useRef();\n    const resetCleanup = React.useRef();\n    const wheelResidualMomentum = React.useRef(0);\n    const startTime = React.useRef(0);\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const cancelSwipeIntentCleanup = React.useCallback(() => {\n        if (intentCleanup.current) {\n            clearTimeout(intentCleanup.current);\n            intentCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const cancelSwipeResetCleanup = React.useCallback(() => {\n        if (resetCleanup.current) {\n            clearTimeout(resetCleanup.current);\n            resetCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const handleCleanup = useEventCallback(() => {\n        if (swipeState !== SwipeState.SWIPE) {\n            offset.current = 0;\n            startTime.current = 0;\n            cancelSwipeIntentCleanup();\n            cancelSwipeResetCleanup();\n        }\n    });\n    React.useEffect(handleCleanup, [swipeState, handleCleanup]);\n    const handleCancelSwipe = useEventCallback((currentSwipeOffset) => {\n        resetCleanup.current = undefined;\n        if (offset.current === currentSwipeOffset) {\n            onSwipeCancel(offset.current);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey) {\n            return;\n        }\n        if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n            return;\n        }\n        if (!swipeState) {\n            if (Math.abs(event.deltaX) <= 1.2 * Math.abs(wheelResidualMomentum.current)) {\n                wheelResidualMomentum.current = event.deltaX;\n                return;\n            }\n            if (!isSwipeValid(-event.deltaX)) {\n                return;\n            }\n            intent.current += event.deltaX;\n            cancelSwipeIntentCleanup();\n            if (Math.abs(intent.current) > 30) {\n                intent.current = 0;\n                wheelResidualMomentum.current = 0;\n                startTime.current = Date.now();\n                onSwipeStart();\n            }\n            else {\n                const currentSwipeIntent = intent.current;\n                intentCleanup.current = setTimeout(() => {\n                    intentCleanup.current = undefined;\n                    if (currentSwipeIntent === intent.current) {\n                        intent.current = 0;\n                    }\n                }, swipeAnimationDuration);\n            }\n        }\n        else if (swipeState === SwipeState.SWIPE) {\n            let newSwipeOffset = offset.current - event.deltaX;\n            newSwipeOffset = Math.min(Math.abs(newSwipeOffset), containerWidth) * Math.sign(newSwipeOffset);\n            offset.current = newSwipeOffset;\n            onSwipeProgress(newSwipeOffset);\n            cancelSwipeResetCleanup();\n            if (Math.abs(newSwipeOffset) > 0.2 * containerWidth) {\n                wheelResidualMomentum.current = event.deltaX;\n                onSwipeFinish(newSwipeOffset, Date.now() - startTime.current);\n                return;\n            }\n            resetCleanup.current = setTimeout(() => handleCancelSwipe(newSwipeOffset), 2 * swipeAnimationDuration);\n        }\n        else {\n            wheelResidualMomentum.current = event.deltaX;\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_WHEEL, onWheel), [subscribeSensors, onWheel]);\n};\n","import * as React from \"react\";\nimport { createModule } from \"../config.js\";\nimport { cleanup, clsx, cssClass, cssVar, isNumber, makeComposePrefix, makeUseContext, parseLengthPercentage, } from \"../utils.js\";\nimport { useContainerRect, useEventCallback, useForkRef, useLayoutEffect, useMotionPreference, useRTL, useSensors, } from \"../hooks/index.js\";\nimport { useEvents, useLightboxState, useTimeouts } from \"../contexts/index.js\";\nimport { SwipeState, usePointerSwipe, usePreventSwipeNavigation, useWheelSwipe } from \"./controller/index.js\";\nimport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, CLASS_FLEX_CENTER, EVENT_ON_KEY_UP, MODULE_CONTROLLER, VK_ESCAPE, YARL_EVENT_BACKDROP_CLICK, } from \"../consts.js\";\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = React.createContext(null);\nexport const useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nexport const Controller = ({ children, ...props }) => {\n    const { carousel, slides, animation, controller, on, styles } = props;\n    const { state, dispatch } = useLightboxState();\n    const [swipeState, setSwipeState] = React.useState(SwipeState.NONE);\n    const swipeOffset = React.useRef(0);\n    const swipeAnimationReset = React.useRef();\n    const { registerSensors, subscribeSensors } = useSensors();\n    const { subscribe, publish } = useEvents();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const { containerRef, setContainerRef, containerRect } = useContainerRect();\n    const handleContainerRef = useForkRef(usePreventSwipeNavigation(), setContainerRef);\n    const carouselRef = React.useRef(null);\n    const setCarouselRef = useForkRef(carouselRef, undefined);\n    const carouselAnimation = React.useRef();\n    const carouselSwipeAnimation = React.useRef();\n    const reduceMotion = useMotionPreference();\n    const isRTL = useRTL();\n    const rtl = useEventCallback((value) => (isRTL ? -1 : 1) * (isNumber(value) ? value : 1));\n    const isSwipeValid = useEventCallback((offset) => !(carousel.finite &&\n        ((rtl(offset) > 0 && state.currentIndex === 0) ||\n            (rtl(offset) < 0 && state.currentIndex === slides.length - 1))));\n    const setSwipeOffset = React.useCallback((offset) => {\n        var _a;\n        swipeOffset.current = offset;\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), `${Math.round(offset)}px`);\n    }, [containerRef]);\n    const swipe = useEventCallback((action) => {\n        var _a;\n        const swipeDuration = animation.swipe;\n        const currentSwipeOffset = action.offset || 0;\n        let { direction } = action;\n        const count = (_a = action.count) !== null && _a !== void 0 ? _a : 1;\n        let newSwipeState = SwipeState.ANIMATION;\n        let newSwipeAnimationDuration = swipeDuration * count;\n        if (!direction) {\n            const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n            const elapsedTime = action.duration || 0;\n            const expectedTime = containerWidth\n                ? (swipeDuration / containerWidth) * Math.abs(currentSwipeOffset)\n                : swipeDuration;\n            if (count !== 0) {\n                if (elapsedTime < expectedTime) {\n                    newSwipeAnimationDuration =\n                        (newSwipeAnimationDuration / expectedTime) * Math.max(elapsedTime, expectedTime / 5);\n                }\n                else if (containerWidth) {\n                    newSwipeAnimationDuration =\n                        (swipeDuration / containerWidth) * (containerWidth - Math.abs(currentSwipeOffset));\n                }\n            }\n            else {\n                newSwipeAnimationDuration = swipeDuration / 2;\n            }\n            if (count !== 0) {\n                direction = rtl(currentSwipeOffset) > 0 ? ACTION_PREV : ACTION_NEXT;\n            }\n        }\n        let increment;\n        if (direction === ACTION_PREV) {\n            if (isSwipeValid(rtl(1))) {\n                increment = -count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        else if (direction === ACTION_NEXT) {\n            if (isSwipeValid(rtl(-1))) {\n                increment = count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        if (carouselRef.current) {\n            carouselSwipeAnimation.current = {\n                rect: carouselRef.current.getBoundingClientRect(),\n                index: state.globalIndex,\n            };\n        }\n        newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n        clearTimeout(swipeAnimationReset.current);\n        if (newSwipeState) {\n            const timeoutId = setTimeout(() => {\n                if (swipeAnimationReset.current === timeoutId) {\n                    setSwipeOffset(0);\n                    setSwipeState(SwipeState.NONE);\n                }\n            }, newSwipeAnimationDuration);\n            swipeAnimationReset.current = timeoutId;\n        }\n        setSwipeState(newSwipeState);\n        dispatch({ increment, animationDuration: newSwipeAnimationDuration });\n    });\n    const animateCarouselSwipe = useEventCallback(() => {\n        var _a, _b, _c;\n        const swipeAnimation = carouselSwipeAnimation.current;\n        carouselSwipeAnimation.current = undefined;\n        if (swipeAnimation && carouselRef.current && containerRect) {\n            const parsedSpacing = parseLengthPercentage(carousel.spacing);\n            const spacingValue = (parsedSpacing.percent ? (parsedSpacing.percent * containerRect.width) / 100 : parsedSpacing.pixel) ||\n                0;\n            (_a = carouselAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n            carouselAnimation.current = (_c = (_b = carouselRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                {\n                    transform: `translateX(${rtl(state.globalIndex - swipeAnimation.index) * (containerRect.width + spacingValue) +\n                        swipeAnimation.rect.x -\n                        carouselRef.current.getBoundingClientRect().x}px)`,\n                },\n                { transform: \"translateX(0)\" },\n            ], !reduceMotion ? state.animationDuration : 0);\n            if (carouselAnimation.current) {\n                carouselAnimation.current.onfinish = () => {\n                    carouselAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    useLayoutEffect(animateCarouselSwipe);\n    const swipeParams = [\n        subscribeSensors,\n        isSwipeValid,\n        (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0,\n        animation.swipe,\n        () => setSwipeState(SwipeState.SWIPE),\n        (offset) => setSwipeOffset(offset),\n        (offset, duration) => swipe({ offset, duration, count: 1 }),\n        (offset) => swipe({ offset, count: 0 }),\n    ];\n    usePointerSwipe(...swipeParams);\n    useWheelSwipe(swipeState, ...swipeParams);\n    const focusOnMount = useEventCallback(() => {\n        var _a;\n        if (controller.focus) {\n            (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n    });\n    React.useEffect(focusOnMount, [focusOnMount]);\n    const handleIndexChange = useEventCallback(() => {\n        var _a;\n        (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, state.currentIndex);\n    });\n    React.useEffect(handleIndexChange, [state.currentIndex, handleIndexChange]);\n    React.useEffect(() => cleanup(subscribe(ACTION_PREV, (count) => swipe({\n        direction: ACTION_PREV,\n        count: isNumber(count) ? count : undefined,\n    })), subscribe(ACTION_NEXT, (count) => swipe({\n        direction: ACTION_NEXT,\n        count: isNumber(count) ? count : undefined,\n    }))), [subscribe, swipe]);\n    React.useEffect(() => subscribeSensors(EVENT_ON_KEY_UP, (event) => {\n        if (event.code === VK_ESCAPE) {\n            publish(ACTION_CLOSE);\n        }\n    }), [subscribeSensors, publish]);\n    React.useEffect(() => controller.closeOnBackdropClick\n        ? subscribe(YARL_EVENT_BACKDROP_CLICK, () => publish(ACTION_CLOSE))\n        : () => { }, [controller.closeOnBackdropClick, publish, subscribe]);\n    const transferFocus = useEventCallback(() => { var _a; return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus(); });\n    const getLightboxProps = useEventCallback(() => props);\n    const context = React.useMemo(() => ({\n        getLightboxProps,\n        subscribeSensors,\n        transferFocus,\n        containerRect: containerRect || { width: 0, height: 0 },\n        containerRef,\n        setCarouselRef,\n    }), [getLightboxProps, subscribeSensors, transferFocus, containerRect, containerRef, setCarouselRef]);\n    return (React.createElement(\"div\", { ref: handleContainerRef, className: clsx(cssClass(cssContainerPrefix()), cssClass(CLASS_FLEX_CENTER)), style: {\n            ...(swipeState === SwipeState.SWIPE\n                ? { [cssVar(\"swipe_offset\")]: `${Math.round(swipeOffset.current)}px` }\n                : null),\n            ...(controller.touchAction !== \"none\"\n                ? { [cssVar(\"controller_touch_action\")]: controller.touchAction }\n                : null),\n            ...styles.container,\n        }, ...(controller.aria ? { role: \"presentation\", \"aria-live\": \"polite\" } : null), tabIndex: -1, ...registerSensors }, containerRect && React.createElement(ControllerContext.Provider, { value: context }, children)));\n};\nexport const ControllerModule = createModule(MODULE_CONTROLLER, Controller);\n","import * as React from \"react\";\nimport { EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, } from \"../consts.js\";\nexport const useSensors = () => {\n    const [subscribers] = React.useState({});\n    return React.useMemo(() => {\n        const notifySubscribers = (type, event) => {\n            var _a;\n            (_a = subscribers[type]) === null || _a === void 0 ? void 0 : _a.forEach((listener) => {\n                if (!event.isPropagationStopped())\n                    listener(event);\n            });\n        };\n        return {\n            registerSensors: {\n                onPointerDown: (event) => notifySubscribers(EVENT_ON_POINTER_DOWN, event),\n                onPointerMove: (event) => notifySubscribers(EVENT_ON_POINTER_MOVE, event),\n                onPointerUp: (event) => notifySubscribers(EVENT_ON_POINTER_UP, event),\n                onPointerLeave: (event) => notifySubscribers(EVENT_ON_POINTER_LEAVE, event),\n                onPointerCancel: (event) => notifySubscribers(EVENT_ON_POINTER_CANCEL, event),\n                onKeyDown: (event) => notifySubscribers(EVENT_ON_KEY_DOWN, event),\n                onKeyUp: (event) => notifySubscribers(EVENT_ON_KEY_UP, event),\n                onWheel: (event) => notifySubscribers(EVENT_ON_WHEEL, event),\n            },\n            subscribeSensors: (type, callback) => {\n                if (!subscribers[type]) {\n                    subscribers[type] = [];\n                }\n                subscribers[type].unshift(callback);\n                return () => {\n                    const listeners = subscribers[type];\n                    if (listeners) {\n                        listeners.splice(0, listeners.length, ...listeners.filter((el) => el !== callback));\n                    }\n                };\n            },\n        };\n    }, [subscribers]);\n};\n","import * as React from \"react\";\nexport const clsx = (...classes) => [...classes].filter((cls) => Boolean(cls)).join(\" \");\nconst cssPrefix = \"yarl__\";\nexport const cssClass = (name) => `${cssPrefix}${name}`;\nexport const cssVar = (name) => `--${cssPrefix}${name}`;\nexport const composePrefix = (base, prefix) => `${base}${prefix ? `_${prefix}` : \"\"}`;\nexport const makeComposePrefix = (base) => (prefix) => composePrefix(base, prefix);\nexport const label = (labels, lbl) => (labels && labels[lbl] ? labels[lbl] : lbl);\nexport const cleanup = (...cleaners) => () => {\n    cleaners.forEach((cleaner) => {\n        cleaner();\n    });\n};\nexport const makeUseContext = (name, contextName, context) => () => {\n    const ctx = React.useContext(context);\n    if (!ctx) {\n        throw new Error(`${name} must be used within a ${contextName}.Provider`);\n    }\n    return ctx;\n};\nexport const hasWindow = () => typeof window !== \"undefined\";\nexport const isDefined = (x) => typeof x !== \"undefined\";\nexport const isNumber = (value) => typeof value === \"number\";\nexport const round = (value, decimals = 0) => {\n    const factor = 10 ** decimals;\n    return Math.round((value + Number.EPSILON) * factor) / factor;\n};\nexport const isImageSlide = (slide) => !isDefined(slide.type) || slide.type === \"image\";\nexport const parseLengthPercentage = (input) => {\n    if (typeof input === \"number\") {\n        return { pixel: input };\n    }\n    if (typeof input === \"string\") {\n        const value = parseInt(input, 10);\n        return input.endsWith(\"%\") ? { percent: value } : { pixel: value };\n    }\n    return { pixel: 0 };\n};\nexport const devicePixelRatio = () => {\n    return (typeof window !== \"undefined\" ? window === null || window === void 0 ? void 0 : window.devicePixelRatio : undefined) || 1;\n};\n","import { ACTION_CLOSE, IMAGE_FIT_CONTAIN } from \"./core/consts.js\";\nexport const LightboxDefaultProps = {\n    open: false,\n    close: () => { },\n    index: 0,\n    slides: [],\n    render: {},\n    plugins: [],\n    toolbar: { buttons: [ACTION_CLOSE] },\n    labels: {},\n    animation: {\n        fade: 330,\n        swipe: 500,\n    },\n    carousel: {\n        finite: false,\n        preload: 2,\n        padding: \"16px\",\n        spacing: \"30%\",\n        imageFit: IMAGE_FIT_CONTAIN,\n    },\n    controller: {\n        focus: true,\n        aria: false,\n        touchAction: \"none\",\n        closeOnBackdropClick: false,\n    },\n    on: {},\n    styles: {},\n    className: \"\",\n};\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { LightboxDefaultProps } from \"../../props.js\";\nimport { createModule } from \"../config.js\";\nimport { clsx, composePrefix, cssClass, cssVar } from \"../utils.js\";\nimport { useEventCallback, useMotionPreference } from \"../hooks/index.js\";\nimport { useEvents, useTimeouts } from \"../contexts/index.js\";\nimport { ACTION_CLOSE, CLASS_NO_SCROLL_PADDING, MODULE_PORTAL } from \"../consts.js\";\nconst cssPrefix = (value) => composePrefix(MODULE_PORTAL, value);\nconst setAttribute = (element, attribute, value) => {\n    const previousValue = element.getAttribute(attribute);\n    element.setAttribute(attribute, value);\n    return () => {\n        if (previousValue) {\n            element.setAttribute(attribute, previousValue);\n        }\n        else {\n            element.removeAttribute(attribute);\n        }\n    };\n};\nexport const Portal = ({ children, animation, styles, className, on, close }) => {\n    const [mounted, setMounted] = React.useState(false);\n    const [visible, setVisible] = React.useState(false);\n    const cleanup = React.useRef([]);\n    const { setTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const fadeAnimationDuration = !useMotionPreference() ? animation.fade : 0;\n    React.useEffect(() => {\n        setMounted(true);\n        return () => {\n            setMounted(false);\n            setVisible(false);\n        };\n    }, []);\n    const handleClose = useEventCallback(() => {\n        var _a;\n        setVisible(false);\n        (_a = on.exiting) === null || _a === void 0 ? void 0 : _a.call(on);\n        setTimeout(() => {\n            var _a;\n            (_a = on.exited) === null || _a === void 0 ? void 0 : _a.call(on);\n            close();\n        }, fadeAnimationDuration);\n    });\n    React.useEffect(() => subscribe(ACTION_CLOSE, handleClose), [subscribe, handleClose]);\n    const handleEnter = useEventCallback((node) => {\n        var _a, _b, _c;\n        node.scrollTop;\n        setVisible(true);\n        (_a = on.entering) === null || _a === void 0 ? void 0 : _a.call(on);\n        const elements = (_c = (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : [];\n        for (let i = 0; i < elements.length; i += 1) {\n            const element = elements[i];\n            if ([\"TEMPLATE\", \"SCRIPT\", \"STYLE\"].indexOf(element.tagName) === -1 && element !== node) {\n                cleanup.current.push(setAttribute(element, \"inert\", \"true\"));\n                cleanup.current.push(setAttribute(element, \"aria-hidden\", \"true\"));\n            }\n        }\n        setTimeout(() => {\n            var _a;\n            (_a = on.entered) === null || _a === void 0 ? void 0 : _a.call(on);\n        }, fadeAnimationDuration);\n    });\n    const handleExit = useEventCallback(() => {\n        cleanup.current.forEach((clean) => clean());\n        cleanup.current = [];\n    });\n    const handleRef = React.useCallback((node) => {\n        if (node) {\n            handleEnter(node);\n        }\n        else {\n            handleExit();\n        }\n    }, [handleEnter, handleExit]);\n    return mounted\n        ? ReactDOM.createPortal(React.createElement(\"div\", { ref: handleRef, className: clsx(className, cssClass(\"root\"), cssClass(cssPrefix()), cssClass(CLASS_NO_SCROLL_PADDING), visible && cssClass(cssPrefix(\"open\"))), role: \"presentation\", \"aria-live\": \"polite\", style: {\n                ...(animation.fade !== LightboxDefaultProps.animation.fade\n                    ? {\n                        [cssVar(\"fade_animation_duration\")]: `${fadeAnimationDuration}ms`,\n                    }\n                    : null),\n                ...styles.root,\n            } }, children), document.body)\n        : null;\n};\nexport const PortalModule = createModule(MODULE_PORTAL, Portal);\n","import * as React from \"react\";\nimport { createModule } from \"../config.js\";\nimport { cssClass } from \"../utils.js\";\nimport { useLayoutEffect, useRTL } from \"../hooks/index.js\";\nimport { CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, MODULE_NO_SCROLL } from \"../consts.js\";\nconst noScroll = cssClass(CLASS_NO_SCROLL);\nconst noScrollPadding = cssClass(CLASS_NO_SCROLL_PADDING);\nconst isHTMLElement = (element) => \"style\" in element;\nconst padScrollbar = (element, padding, rtl) => {\n    const styles = window.getComputedStyle(element);\n    const property = rtl ? \"padding-left\" : \"padding-right\";\n    const computedValue = rtl ? styles.paddingLeft : styles.paddingRight;\n    const originalValue = element.style.getPropertyValue(property);\n    element.style.setProperty(property, `${(parseInt(computedValue, 10) || 0) + padding}px`);\n    return () => {\n        if (originalValue) {\n            element.style.setProperty(property, originalValue);\n        }\n        else {\n            element.style.removeProperty(property);\n        }\n    };\n};\nexport const NoScroll = ({ children }) => {\n    const rtl = useRTL();\n    useLayoutEffect(() => {\n        const cleanup = [];\n        const { body, documentElement } = document;\n        const scrollbar = Math.round(window.innerWidth - documentElement.clientWidth);\n        if (scrollbar > 0) {\n            cleanup.push(padScrollbar(body, scrollbar, rtl));\n            const elements = body.getElementsByTagName(\"*\");\n            for (let i = 0; i < elements.length; i += 1) {\n                const element = elements[i];\n                if (isHTMLElement(element) &&\n                    window.getComputedStyle(element).getPropertyValue(\"position\") === \"fixed\" &&\n                    !element.classList.contains(noScrollPadding)) {\n                    cleanup.push(padScrollbar(element, scrollbar, rtl));\n                }\n            }\n        }\n        body.classList.add(noScroll);\n        return () => {\n            body.classList.remove(noScroll);\n            cleanup.forEach((clean) => clean());\n        };\n    }, [rtl]);\n    return React.createElement(React.Fragment, null, children);\n};\nexport const NoScrollModule = createModule(MODULE_NO_SCROLL, NoScroll);\n","import * as React from \"react\";\nimport { createModule } from \"../config.js\";\nimport { useContainerRect } from \"../hooks/index.js\";\nimport { clsx, composePrefix, cssClass, cssVar, isImageSlide, parseLengthPercentage } from \"../utils.js\";\nimport { ImageSlide } from \"../components/index.js\";\nimport { useController } from \"./Controller.js\";\nimport { useEvents } from \"../contexts/Events.js\";\nimport { useLightboxState } from \"../contexts/LightboxState.js\";\nimport { CLASS_FLEX_CENTER, CLASS_FULLSIZE, MODULE_CAROUSEL, YARL_EVENT_BACKDROP_CLICK } from \"../consts.js\";\nconst cssPrefix = (value) => composePrefix(MODULE_CAROUSEL, value);\nconst cssSlidePrefix = (value) => composePrefix(\"slide\", value);\nconst CarouselSlide = ({ slide, offset }) => {\n    const { setContainerRef, containerRect, containerRef } = useContainerRect();\n    const { publish } = useEvents();\n    const { state: { currentIndex }, } = useLightboxState();\n    const { getLightboxProps } = useController();\n    const { render, carousel: { imageFit }, on: { click: onClick }, } = getLightboxProps();\n    const renderSlide = (rect) => {\n        var _a, _b, _c, _d;\n        let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, slide, offset, rect);\n        if (!rendered && isImageSlide(slide)) {\n            rendered = (React.createElement(ImageSlide, { slide: slide, offset: offset, render: render, rect: rect, imageFit: imageFit, onClick: offset === 0 ? () => onClick === null || onClick === void 0 ? void 0 : onClick(currentIndex) : undefined }));\n        }\n        return rendered ? (React.createElement(React.Fragment, null, (_b = render.slideHeader) === null || _b === void 0 ? void 0 :\n            _b.call(render, slide),\n            ((_c = render.slideContainer) !== null && _c !== void 0 ? _c : ((_, x) => x))(slide, rendered), (_d = render.slideFooter) === null || _d === void 0 ? void 0 :\n            _d.call(render, slide))) : null;\n    };\n    const handleBackdropClick = (event) => {\n        const container = containerRef.current;\n        const target = event.target instanceof HTMLElement ? event.target : undefined;\n        if (target &&\n            container &&\n            (target === container ||\n                (Array.from(container.children).find((x) => x === target) &&\n                    target.classList.contains(cssClass(CLASS_FULLSIZE))))) {\n            publish(YARL_EVENT_BACKDROP_CLICK);\n        }\n    };\n    return (React.createElement(\"div\", { ref: setContainerRef, className: clsx(cssClass(cssSlidePrefix()), offset === 0 && cssClass(cssSlidePrefix(\"current\")), cssClass(CLASS_FLEX_CENTER)), onClick: handleBackdropClick }, containerRect && renderSlide(containerRect)));\n};\nconst Placeholder = () => React.createElement(\"div\", { className: cssClass(\"slide\") });\nexport const Carousel = ({ slides, carousel: { finite, preload, padding, spacing } }) => {\n    const { state: { currentIndex, globalIndex }, } = useLightboxState();\n    const { setCarouselRef } = useController();\n    const spacingValue = parseLengthPercentage(spacing);\n    const paddingValue = parseLengthPercentage(padding);\n    const items = [];\n    if ((slides === null || slides === void 0 ? void 0 : slides.length) > 0) {\n        for (let i = currentIndex - preload; i < currentIndex; i += 1) {\n            const key = globalIndex + i - currentIndex;\n            items.push(!finite || i >= 0 ? (React.createElement(CarouselSlide, { key: key, slide: slides[(i + preload * slides.length) % slides.length], offset: i - currentIndex })) : (React.createElement(Placeholder, { key: key })));\n        }\n        items.push(React.createElement(CarouselSlide, { key: globalIndex, slide: slides[currentIndex], offset: 0 }));\n        for (let i = currentIndex + 1; i <= currentIndex + preload; i += 1) {\n            const key = globalIndex + i - currentIndex;\n            items.push(!finite || i <= slides.length - 1 ? (React.createElement(CarouselSlide, { key: key, slide: slides[i % slides.length], offset: i - currentIndex })) : (React.createElement(Placeholder, { key: key })));\n        }\n    }\n    return (React.createElement(\"div\", { ref: setCarouselRef, className: clsx(cssClass(cssPrefix()), items.length > 0 && cssClass(cssPrefix(\"with_slides\"))), style: {\n            [`${cssVar(cssPrefix(\"slides_count\"))}`]: items.length,\n            [`${cssVar(cssPrefix(\"spacing_px\"))}`]: spacingValue.pixel || 0,\n            [`${cssVar(cssPrefix(\"spacing_percent\"))}`]: spacingValue.percent || 0,\n            [`${cssVar(cssPrefix(\"padding_px\"))}`]: paddingValue.pixel || 0,\n            [`${cssVar(cssPrefix(\"padding_percent\"))}`]: paddingValue.percent || 0,\n        } }, items));\n};\nexport const CarouselModule = createModule(MODULE_CAROUSEL, Carousel);\n","import * as React from \"react\";\nimport { createModule } from \"../config.js\";\nimport { composePrefix, cssClass, label } from \"../utils.js\";\nimport { useEvents } from \"../contexts/index.js\";\nimport { CloseIcon, IconButton } from \"../components/index.js\";\nimport { useContainerRect } from \"../hooks/useContainerRect.js\";\nimport { ACTION_CLOSE, MODULE_TOOLBAR } from \"../consts.js\";\nconst cssPrefix = (value) => composePrefix(MODULE_TOOLBAR, value);\nexport const Toolbar = ({ toolbar: { buttons }, labels, render: { buttonClose, iconClose } }) => {\n    const { publish } = useEvents();\n    const { setContainerRef, containerRect } = useContainerRect();\n    React.useEffect(() => {\n        if (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) {\n            publish(\"toolbar-width\", containerRect.width);\n        }\n    }, [publish, containerRect === null || containerRect === void 0 ? void 0 : containerRect.width]);\n    const renderCloseButton = () => buttonClose ? (buttonClose()) : (React.createElement(IconButton, { key: ACTION_CLOSE, label: label(labels, \"Close\"), icon: CloseIcon, renderIcon: iconClose, onClick: () => publish(ACTION_CLOSE) }));\n    return (React.createElement(\"div\", { ref: setContainerRef, className: cssClass(cssPrefix()) }, buttons === null || buttons === void 0 ? void 0 : buttons.map((button) => (button === ACTION_CLOSE ? renderCloseButton() : button))));\n};\nexport const ToolbarModule = createModule(MODULE_TOOLBAR, Toolbar);\n","import * as React from \"react\";\nimport { createModule } from \"../config.js\";\nimport { useEventCallback, useRTL } from \"../hooks/index.js\";\nimport { cssClass, label as translateLabel } from \"../utils.js\";\nimport { IconButton, NextIcon, PreviousIcon } from \"../components/index.js\";\nimport { useEvents, useLightboxState } from \"../contexts/index.js\";\nimport { useController } from \"./Controller.js\";\nimport { ACTION_NEXT, ACTION_PREV, EVENT_ON_KEY_DOWN, MODULE_NAVIGATION, VK_ARROW_LEFT, VK_ARROW_RIGHT, } from \"../consts.js\";\nexport const NavigationButton = ({ publish, labels, label, icon, renderIcon, action, disabled, }) => (React.createElement(IconButton, { label: translateLabel(labels, label), icon: icon, renderIcon: renderIcon, className: cssClass(`navigation_${action}`), disabled: disabled, \"aria-disabled\": disabled, onClick: () => {\n        publish(action);\n    } }));\nexport const Navigation = ({ slides, carousel: { finite }, labels, render: { buttonPrev, buttonNext, iconPrev, iconNext }, }) => {\n    const { state: { currentIndex }, } = useLightboxState();\n    const { subscribeSensors } = useController();\n    const { publish } = useEvents();\n    const isRTL = useRTL();\n    const handleKeyDown = useEventCallback((event) => {\n        if (event.key === VK_ARROW_LEFT) {\n            publish(isRTL ? ACTION_NEXT : ACTION_PREV);\n        }\n        else if (event.key === VK_ARROW_RIGHT) {\n            publish(isRTL ? ACTION_PREV : ACTION_NEXT);\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_KEY_DOWN, handleKeyDown), [subscribeSensors, handleKeyDown]);\n    return (React.createElement(React.Fragment, null,\n        buttonPrev ? (buttonPrev()) : (React.createElement(NavigationButton, { label: \"Previous\", action: ACTION_PREV, icon: PreviousIcon, renderIcon: iconPrev, disabled: slides.length === 0 || (finite && currentIndex === 0), labels: labels, publish: publish })),\n        buttonNext ? (buttonNext()) : (React.createElement(NavigationButton, { label: \"Next\", action: ACTION_NEXT, icon: NextIcon, renderIcon: iconNext, disabled: slides.length === 0 || (finite && currentIndex === slides.length - 1), labels: labels, publish: publish }))));\n};\nexport const NavigationModule = createModule(MODULE_NAVIGATION, Navigation);\n","import * as React from \"react\";\nimport { createModule } from \"../config.js\";\nimport { EventsProvider, LightboxStateProvider, TimeoutsProvider } from \"../contexts/index.js\";\nimport { MODULE_CORE } from \"../consts.js\";\nexport const Core = ({ slides, index, children }) => (React.createElement(TimeoutsProvider, null,\n    React.createElement(EventsProvider, null,\n        React.createElement(LightboxStateProvider, { slidesCount: slides.length, initialIndex: index }, children))));\nexport const CoreModule = createModule(MODULE_CORE, Core);\n","import * as React from \"react\";\nimport { LightboxDefaultProps } from \"./props.js\";\nimport { CarouselModule, ControllerModule, CoreModule, createNode, NavigationModule, NoScrollModule, PortalModule, ToolbarModule, withPlugins, } from \"./core/index.js\";\nconst renderNode = (node, props) => {\n    var _a;\n    return React.createElement(node.module.component, { key: node.module.name, ...props }, (_a = node.children) === null || _a === void 0 ? void 0 : _a.map((child) => renderNode(child, props)));\n};\nexport const Lightbox = (props) => {\n    const { carousel, animation, render, toolbar, controller, on, plugins, ...restProps } = props;\n    const { carousel: defaultCarousel, animation: defaultAnimation, render: defaultRender, toolbar: defaultToolbar, controller: defaultController, on: defaultOn, ...restDefaultProps } = LightboxDefaultProps;\n    const { config, augmentation } = withPlugins([\n        createNode(PortalModule, [\n            createNode(NoScrollModule, [\n                createNode(ControllerModule, [\n                    createNode(CarouselModule),\n                    createNode(ToolbarModule),\n                    createNode(NavigationModule),\n                ]),\n            ]),\n        ]),\n    ], plugins);\n    const augmentedProps = augmentation({\n        carousel: { ...defaultCarousel, ...carousel },\n        animation: { ...defaultAnimation, ...animation },\n        render: { ...defaultRender, ...render },\n        toolbar: { ...defaultToolbar, ...toolbar },\n        controller: { ...defaultController, ...controller },\n        on: { ...defaultOn, ...on },\n        ...restDefaultProps,\n        ...restProps,\n    });\n    if (!augmentedProps.open)\n        return null;\n    return React.createElement(React.Fragment, null, renderNode(createNode(CoreModule, config), augmentedProps));\n};\n","import { Lightbox } from \"./Lightbox.js\";\nexport * from \"./types.js\";\nexport * from \"./Lightbox.js\";\nexport default Lightbox;\n","import * as React from \"react\";\nimport { isDefined, isNumber, makeUseContext, useEvents } from \"../../core/index.js\";\nconst CaptionsContext = React.createContext(null);\nexport const useCaptions = makeUseContext(\"useCaptions\", \"CaptionsContext\", CaptionsContext);\nexport const CaptionsContextProvider = ({ children }) => {\n    const { subscribe } = useEvents();\n    const [toolbarWidth, setToolbarWidth] = React.useState();\n    React.useEffect(() => subscribe(\"toolbar-width\", (event) => {\n        if (!isDefined(event) || isNumber(event)) {\n            setToolbarWidth(event);\n        }\n    }), [subscribe]);\n    const context = React.useMemo(() => ({ toolbarWidth }), [toolbarWidth]);\n    return React.createElement(CaptionsContext.Provider, { value: context }, children);\n};\n","import { cssClass } from \"../../core/index.js\";\nexport const cssPrefix = (className) => cssClass(`slide_${className}`);\n","import * as React from \"react\";\nimport { clsx, cssVar } from \"../../core/index.js\";\nimport { defaultCaptionsProps } from \"./Captions.js\";\nimport { cssPrefix } from \"./utils.js\";\nexport const Description = ({ description, descriptionTextAlign, descriptionMaxLines, styles, }) => (React.createElement(\"div\", { style: styles.captionsDescriptionContainer, className: clsx(cssPrefix(\"captions_container\"), cssPrefix(\"description_container\")) },\n    React.createElement(\"div\", { className: cssPrefix(\"description\"), style: {\n            ...(descriptionTextAlign !== defaultCaptionsProps.descriptionTextAlign ||\n                descriptionMaxLines !== defaultCaptionsProps.descriptionMaxLines\n                ? {\n                    style: {\n                        [cssVar(\"slide_description_text_align\")]: descriptionTextAlign,\n                        [cssVar(\"slide_description_max_lines\")]: descriptionMaxLines,\n                    },\n                }\n                : null),\n            ...styles.captionsDescription,\n        } }, typeof description === \"string\"\n        ? description.split(\"\\n\").flatMap((line, index) => [...(index > 0 ? [React.createElement(\"br\", { key: index })] : []), line])\n        : description)));\n","import * as React from \"react\";\nimport { clsx, cssVar } from \"../../core/index.js\";\nimport { useCaptions } from \"./CaptionsContext.js\";\nimport { cssPrefix } from \"./utils.js\";\nexport const Title = ({ title, styles }) => {\n    const { toolbarWidth } = useCaptions();\n    return (React.createElement(\"div\", { style: styles.captionsTitleContainer, className: clsx(cssPrefix(\"captions_container\"), cssPrefix(\"title_container\")) },\n        React.createElement(\"div\", { style: styles.captionsTitle, className: cssPrefix(\"title\"), ...(toolbarWidth ? { style: { [cssVar(\"toolbar_width\")]: `${toolbarWidth}px` } } : null) }, title)));\n};\n","import * as React from \"react\";\nimport { createModule, MODULE_CONTROLLER, PLUGIN_CAPTIONS } from \"../../core/index.js\";\nimport { CaptionsContextProvider } from \"./CaptionsContext.js\";\nimport { Description } from \"./Description.js\";\nimport { Title } from \"./Title.js\";\nexport const defaultCaptionsProps = {\n    descriptionTextAlign: \"start\",\n    descriptionMaxLines: 3,\n};\nexport const Captions = ({ augment, addParent }) => {\n    addParent(MODULE_CONTROLLER, createModule(PLUGIN_CAPTIONS, CaptionsContextProvider));\n    augment(({ render: { slideFooter: renderFooter, ...restRender }, captions, styles, ...restProps }) => ({\n        render: {\n            slideFooter: (slide) => (React.createElement(React.Fragment, null, renderFooter === null || renderFooter === void 0 ? void 0 :\n                renderFooter(slide),\n                slide.title && React.createElement(Title, { styles: styles, title: slide.title }),\n                slide.description && (React.createElement(Description, { styles: styles, description: slide.description, ...{ ...defaultCaptionsProps, ...captions } })))),\n            ...restRender,\n        },\n        styles,\n        ...restProps,\n    }));\n};\n","import { Captions } from \"./Captions.js\";\nexport default Captions;\n","import * as React from \"react\";\nimport { isImageSlide, makeUseContext, useEventCallback, useLayoutEffect, useLightboxState } from \"../../core/index.js\";\nconst ZoomContext = React.createContext(null);\nexport const useZoom = makeUseContext(\"useZoom\", \"ZoomContext\", ZoomContext);\nexport const ZoomContextProvider = ({ slides, children }) => {\n    const [isMinZoom, setIsMinZoom] = React.useState(false);\n    const [isMaxZoom, setIsMaxZoom] = React.useState(false);\n    const [isZoomSupported, setIsZoomSupported] = React.useState(false);\n    const { state: { currentIndex }, } = useLightboxState();\n    const updateZoomSupported = useEventCallback(() => setIsZoomSupported(slides.length > currentIndex && isImageSlide(slides[currentIndex])));\n    useLayoutEffect(updateZoomSupported, [currentIndex, updateZoomSupported]);\n    const context = React.useMemo(() => ({\n        isMinZoom,\n        isMaxZoom,\n        isZoomSupported,\n        setIsMinZoom,\n        setIsMaxZoom,\n    }), [isMinZoom, isMaxZoom, isZoomSupported]);\n    return React.createElement(ZoomContext.Provider, { value: context }, children);\n};\n","import * as React from \"react\";\nimport { createIcon, IconButton, label, useEvents } from \"../../core/index.js\";\nimport { useZoom } from \"./ZoomContext.js\";\nimport { ACTION_ZOOM_IN, ACTION_ZOOM_OUT } from \"./index.js\";\nconst ZoomInIcon = createIcon(\"ZoomIn\", React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" }),\n    React.createElement(\"path\", { d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" })));\nconst ZoomOutIcon = createIcon(\"ZoomOut\", React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" }));\nexport const ZoomButton = React.forwardRef(({ labels, render, zoomIn, onLoseFocus }, ref) => {\n    const wasEnabled = React.useRef(false);\n    const wasFocused = React.useRef(false);\n    const { isMinZoom, isMaxZoom, isZoomSupported } = useZoom();\n    const { publish } = useEvents();\n    const disabled = !isZoomSupported || (zoomIn ? isMaxZoom : isMinZoom);\n    const onClick = () => publish(zoomIn ? ACTION_ZOOM_IN : ACTION_ZOOM_OUT);\n    const onFocus = React.useCallback(() => {\n        wasFocused.current = true;\n    }, []);\n    const onBlur = React.useCallback(() => {\n        wasFocused.current = false;\n    }, []);\n    React.useEffect(() => {\n        if (disabled && wasEnabled.current && wasFocused.current) {\n            onLoseFocus();\n        }\n        if (!disabled) {\n            wasEnabled.current = true;\n        }\n    }, [disabled, onLoseFocus]);\n    if (zoomIn && render.buttonZoomIn)\n        return (React.createElement(React.Fragment, null, render.buttonZoomIn({\n            ref,\n            labels,\n            disabled,\n            onClick,\n            onFocus,\n            onBlur,\n        })));\n    if (!zoomIn && render.buttonZoomOut)\n        return (React.createElement(React.Fragment, null, render.buttonZoomOut({\n            ref,\n            labels,\n            disabled,\n            onClick,\n            onFocus,\n            onBlur,\n        })));\n    return (React.createElement(IconButton, { ref: ref, label: label(labels, zoomIn ? \"Zoom in\" : \"Zoom out\"), icon: zoomIn ? ZoomInIcon : ZoomOutIcon, renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut, disabled: disabled, onClick: onClick, onFocus: onFocus, onBlur: onBlur }));\n});\nZoomButton.displayName = \"ZoomButton\";\n","import * as React from \"react\";\nimport { useController } from \"../../core/index.js\";\nimport { ZoomButton } from \"./ZoomButton.js\";\nimport { ACTION_ZOOM_IN, ACTION_ZOOM_OUT } from \"./index.js\";\nexport const ZoomButtonsGroup = ({ labels, render }) => {\n    const zoomInRef = React.useRef(null);\n    const zoomOutRef = React.useRef(null);\n    const { transferFocus } = useController();\n    const focusSibling = React.useCallback((sibling) => {\n        var _a, _b;\n        if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n            (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n        }\n        else {\n            transferFocus();\n        }\n    }, [transferFocus]);\n    const focusZoomIn = React.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n    const focusZoomOut = React.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ZoomButton, { ref: zoomInRef, key: ACTION_ZOOM_IN, zoomIn: true, labels: labels, render: render, onLoseFocus: focusZoomOut }),\n        React.createElement(ZoomButton, { ref: zoomOutRef, key: ACTION_ZOOM_OUT, labels: labels, render: render, onLoseFocus: focusZoomIn })));\n};\n","import * as React from \"react\";\nimport { devicePixelRatio, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, ImageSlide, useEventCallback, useLayoutEffect, } from \"../../core/index.js\";\nexport const isResponsiveImageSlide = (slide) => { var _a; return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0; };\nexport const ResponsiveImage = (props) => {\n    var _a, _b;\n    const [state, setState] = React.useState({});\n    const { current, preload } = state;\n    const { slide: image, rect, imageFit, render } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = image.imageFit === IMAGE_FIT_COVER || (image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = devicePixelRatio();\n    const handleSourceChange = useEventCallback(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current) {\n            setState((prev) => ({ ...prev, current: targetSource.src }));\n        }\n        else if (srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            setState((prev) => ({ ...prev, preload: targetSource.src }));\n        }\n    });\n    useLayoutEffect(handleSourceChange, [rect === null || rect === void 0 ? void 0 : rect.width, rect === null || rect === void 0 ? void 0 : rect.height, pixelDensity, image.src, handleSourceChange]);\n    const handlePreload = useEventCallback((currentPreload) => {\n        if (currentPreload === preload) {\n            setState((prev) => ({ ...prev, current: preload, preload: undefined }));\n        }\n    });\n    const style = {\n        WebkitTransform: \"translateZ(0)\",\n        ...(rect.width / rect.height < width / height\n            ? {\n                width: \"100%\",\n                height: \"auto\",\n            }\n            : { width: \"auto\", height: \"100%\" }),\n    };\n    return (React.createElement(React.Fragment, null,\n        preload && preload !== current && (React.createElement(ImageSlide, { key: \"preload\", ...props, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (React.createElement(ImageSlide, { key: \"current\", ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n};\n","import * as React from \"react\";\nimport { CLASS_FLEX_CENTER, CLASS_FULLSIZE, cleanup, clsx, cssClass, EVENT_ON_KEY_DOWN, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, ImageSlide, isImageSlide, round, useContainerRect, useController, useEventCallback, useEvents, useLayoutEffect, useLightboxState, useMotionPreference, } from \"../../core/index.js\";\nimport { useZoom } from \"./ZoomContext.js\";\nimport { defaultZoomProps } from \"./Zoom.js\";\nimport { ACTION_ZOOM_IN, ACTION_ZOOM_OUT } from \"./index.js\";\nimport { isResponsiveImageSlide, ResponsiveImage } from \"./ResponsiveImage.js\";\nconst getSlideRects = (slide, cover, maxZoomPixelRatio, rect) => {\n    var _a, _b;\n    let slideRect = { width: 0, height: 0 };\n    let maxSlideRect = { width: 0, height: 0 };\n    if (rect && isImageSlide(slide)) {\n        const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) || []).concat(slide.width ? [slide.width] : []));\n        const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map((x) => x.height)) || []).concat(slide.height ? [slide.height] : []));\n        if (width > 0 && height > 0 && rect.width > 0 && rect.height > 0) {\n            maxSlideRect = cover\n                ? {\n                    width: Math.round(Math.min(width, (rect.width / rect.height) * height)),\n                    height: Math.round(Math.min(height, (rect.height / rect.width) * width)),\n                }\n                : { width, height };\n            maxSlideRect = {\n                width: maxSlideRect.width * maxZoomPixelRatio,\n                height: maxSlideRect.height * maxZoomPixelRatio,\n            };\n            slideRect = cover\n                ? {\n                    width: Math.min(rect.width, maxSlideRect.width),\n                    height: Math.min(rect.height, maxSlideRect.height),\n                }\n                : {\n                    width: Math.round(Math.min(rect.width, (rect.height / height) * width)),\n                    height: Math.round(Math.min(rect.height, (rect.width / width) * height)),\n                };\n        }\n    }\n    return { slideRect, maxSlideRect };\n};\nconst distance = (pointerA, pointerB) => ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\nexport const ZoomContainer = ({ slide, offset, rect, render, carousel, animation, zoom: originalZoomProps, on }) => {\n    var _a;\n    const zoomProps = { ...defaultZoomProps, ...originalZoomProps };\n    const { state: { currentIndex }, } = useLightboxState();\n    const [zoom, setZoom] = React.useState(1);\n    const [offsetX, setOffsetX] = React.useState(0);\n    const [offsetY, setOffsetY] = React.useState(0);\n    const [imageDimensions, setImageDimensions] = React.useState();\n    const activePointers = React.useRef([]);\n    const lastPointerDown = React.useRef(0);\n    const zoomAnimation = React.useRef();\n    const zoomAnimationStart = React.useRef();\n    const pinchZoomDistance = React.useRef();\n    const { isMinZoom, isMaxZoom, setIsMinZoom, setIsMaxZoom } = useZoom();\n    const { setContainerRef, containerRef, containerRect } = useContainerRect();\n    const { subscribeSensors, containerRef: controllerRef, containerRect: controllerRect } = useController();\n    const { subscribe } = useEvents();\n    const reduceMotion = useMotionPreference();\n    const { slideRect, maxSlideRect: currentMaxSlideRect } = getSlideRects({ ...slide, ...imageDimensions }, carousel.imageFit === \"cover\" || (\"imageFit\" in slide && slide.imageFit === \"cover\"), zoomProps.maxZoomPixelRatio, containerRect);\n    const maxZoom = slideRect.width ? Math.max(round(currentMaxSlideRect.width / slideRect.width, 5), 1) : 1;\n    const changeOffsets = useEventCallback((dx, dy, targetZoom) => {\n        const newZoom = targetZoom || zoom;\n        const newOffsetX = offsetX - (dx || 0);\n        const newOffsetY = offsetY - (dy || 0);\n        const maxOffsetX = containerRect ? (slideRect.width * newZoom - containerRect.width) / 2 / newZoom : 0;\n        const maxOffsetY = containerRect ? (slideRect.height * newZoom - containerRect.height) / 2 / newZoom : 0;\n        setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n        setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n    });\n    const changeZoom = useEventCallback((value, rapid, dx, dy) => {\n        if (!containerRef.current || !containerRect)\n            return;\n        const newZoom = round(Math.min(Math.max(value + 0.001 < maxZoom ? value : maxZoom, 1), maxZoom), 5);\n        if (newZoom === zoom)\n            return;\n        if (!rapid) {\n            zoomAnimationStart.current = window.getComputedStyle(containerRef.current).transform;\n        }\n        changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n        setZoom(newZoom);\n    });\n    const handleControllerRectChange = useEventCallback(() => {\n        if (zoom > 1) {\n            if (zoom > maxZoom) {\n                changeZoom(maxZoom, true);\n            }\n            changeOffsets();\n        }\n    });\n    useLayoutEffect(handleControllerRectChange, [\n        controllerRect.width,\n        controllerRect.height,\n        handleControllerRectChange,\n    ]);\n    const handleZoomAndOffsetChange = useEventCallback(() => {\n        var _a, _b, _c, _d;\n        (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        if (zoomAnimationStart.current && containerRef.current) {\n            zoomAnimation.current = (_c = (_b = containerRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                { transform: zoomAnimationStart.current },\n                {\n                    transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)`,\n                },\n            ], {\n                duration: reduceMotion ? 0 : (_d = animation.zoom) !== null && _d !== void 0 ? _d : 500,\n                easing: zoomAnimation ? \"ease-out\" : \"ease-in-out\",\n            });\n            zoomAnimationStart.current = undefined;\n            if (zoomAnimation.current) {\n                zoomAnimation.current.onfinish = () => {\n                    zoomAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    useLayoutEffect(handleZoomAndOffsetChange, [zoom, offsetX, offsetY, handleZoomAndOffsetChange]);\n    useLayoutEffect(() => {\n        if (offset === 0) {\n            const resetZoom = () => {\n                setZoom(1);\n                setOffsetX(0);\n                setOffsetY(0);\n                setIsMinZoom(true);\n                setIsMaxZoom(false);\n            };\n            resetZoom();\n            return () => {\n                resetZoom();\n            };\n        }\n        return () => { };\n    }, [offset, setIsMinZoom, setIsMaxZoom]);\n    useLayoutEffect(() => {\n        if (offset === 0) {\n            const newMinZoom = zoom <= 1;\n            if (newMinZoom !== isMinZoom) {\n                setIsMinZoom(newMinZoom);\n            }\n            const newMaxZoom = zoom >= maxZoom;\n            if (newMaxZoom !== isMaxZoom) {\n                setIsMaxZoom(newMaxZoom);\n            }\n        }\n    }, [offset, zoom, maxZoom, isMinZoom, isMaxZoom, setIsMinZoom, setIsMaxZoom]);\n    const onZoomCallback = useEventCallback(() => {\n        var _a;\n        if (offset === 0) {\n            (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, zoom);\n        }\n    });\n    useLayoutEffect(onZoomCallback, [zoom, onZoomCallback]);\n    const translateCoordinates = React.useCallback((event) => {\n        if (controllerRef.current) {\n            const { pageX, pageY } = event;\n            const { scrollX, scrollY } = window;\n            const { left, top, width, height } = controllerRef.current.getBoundingClientRect();\n            return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n        }\n        return [];\n    }, [controllerRef]);\n    const onKeyDown = useEventCallback((event) => {\n        const { keyboardMoveDistance, zoomInMultiplier } = zoomProps;\n        const preventDefault = () => {\n            event.preventDefault();\n            event.stopPropagation();\n        };\n        if (zoom > 1) {\n            const move = (deltaX, deltaY) => {\n                preventDefault();\n                changeOffsets(deltaX, deltaY);\n            };\n            if (event.key === \"ArrowDown\") {\n                move(0, keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowUp\") {\n                move(0, -keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowLeft\") {\n                move(-keyboardMoveDistance, 0);\n            }\n            else if (event.key === \"ArrowRight\") {\n                move(keyboardMoveDistance, 0);\n            }\n        }\n        const handleChangeZoom = (zoomValue) => {\n            preventDefault();\n            changeZoom(zoomValue);\n        };\n        const hasMeta = () => event.getModifierState(\"Meta\");\n        if (event.key === \"+\" || (event.key === \"=\" && hasMeta())) {\n            handleChangeZoom(zoom * zoomInMultiplier);\n        }\n        else if (event.key === \"-\" || (event.key === \"_\" && hasMeta())) {\n            handleChangeZoom(zoom / zoomInMultiplier);\n        }\n        else if (event.key === \"0\" && hasMeta()) {\n            handleChangeZoom(1);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        const { wheelZoomDistanceFactor, scrollToZoom } = zoomProps;\n        if (event.ctrlKey || scrollToZoom) {\n            if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n                event.stopPropagation();\n                changeZoom(zoom * (1 - event.deltaY / wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n                return;\n            }\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (!scrollToZoom) {\n                changeOffsets(event.deltaX, event.deltaY);\n            }\n        }\n    });\n    const clearPointer = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length, ...pointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const replacePointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        activePointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        var _a;\n        const { doubleTapDelay, doubleClickDelay, zoomInMultiplier, doubleClickMaxStops } = zoomProps;\n        const pointers = activePointers.current;\n        if (!((_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n        }\n        const { timeStamp } = event;\n        if (pointers.length === 0 &&\n            timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n            lastPointerDown.current = 0;\n            changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n        }\n        else {\n            lastPointerDown.current = timeStamp;\n        }\n        replacePointer(event);\n        if (pointers.length === 2) {\n            pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n        }\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointers = activePointers.current;\n        const activePointer = pointers.find((p) => p.pointerId === event.pointerId);\n        if (pointers.length === 2 && pinchZoomDistance.current) {\n            event.stopPropagation();\n            replacePointer(event);\n            const currentDistance = distance(pointers[0], pointers[1]);\n            const delta = currentDistance - pinchZoomDistance.current;\n            if (Math.abs(delta) > 0) {\n                changeZoom(zoom * (1 + delta / zoomProps.pinchZoomDistanceFactor), true, ...pointers\n                    .map((x) => translateCoordinates(x))\n                    .reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n                pinchZoomDistance.current = currentDistance;\n            }\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (activePointer) {\n                if (pointers.length === 1) {\n                    changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n                }\n                replacePointer(event);\n            }\n        }\n    });\n    const onPointerUp = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        if (pointers.length === 2 && pointers.find((p) => p.pointerId === event.pointerId)) {\n            pinchZoomDistance.current = undefined;\n        }\n        clearPointer(event);\n    }, [clearPointer]);\n    const handleZoomIn = useEventCallback(() => {\n        changeZoom(zoom * zoomProps.zoomInMultiplier);\n    });\n    const handleZoomOut = useEventCallback(() => {\n        changeZoom(zoom / zoomProps.zoomInMultiplier);\n    });\n    React.useEffect(() => offset === 0\n        ? cleanup(subscribe(ACTION_ZOOM_IN, handleZoomIn), subscribe(ACTION_ZOOM_OUT, handleZoomOut), subscribeSensors(EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(EVENT_ON_WHEEL, onWheel), subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp))\n        : () => { }, [\n        offset,\n        subscribe,\n        subscribeSensors,\n        onKeyDown,\n        onPointerDown,\n        onPointerMove,\n        onPointerUp,\n        onWheel,\n        changeZoom,\n        handleZoomIn,\n        handleZoomOut,\n    ]);\n    const scaledRect = offset === 0\n        ? {\n            width: rect.width * zoom,\n            height: rect.height * zoom,\n        }\n        : rect;\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, slide, offset, scaledRect);\n    if (!rendered && isImageSlide(slide)) {\n        const slideProps = {\n            slide,\n            offset,\n            rect,\n            render,\n            imageFit: carousel.imageFit,\n            onClick: offset === 0 ? () => { var _a; return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, currentIndex); } : undefined,\n        };\n        rendered = isResponsiveImageSlide(slide) ? (React.createElement(ResponsiveImage, { ...slideProps, slide: slide, rect: scaledRect })) : (React.createElement(ImageSlide, { onLoad: (img) => setImageDimensions({ width: img.naturalWidth, height: img.naturalHeight }), ...slideProps }));\n    }\n    return rendered ? (React.createElement(\"div\", { ref: setContainerRef, className: clsx(cssClass(CLASS_FULLSIZE), cssClass(CLASS_FLEX_CENTER)), ...(offset === 0\n            ? { style: { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` } }\n            : null) }, rendered)) : null;\n};\n","import * as React from \"react\";\nimport { createModule, isImageSlide, MODULE_CONTROLLER, PLUGIN_ZOOM } from \"../../core/index.js\";\nimport { ZoomContextProvider } from \"./ZoomContext.js\";\nimport { ZoomButtonsGroup } from \"./ZoomButtonsGroup.js\";\nimport { ZoomContainer } from \"./ZoomContainer.js\";\nexport const defaultZoomProps = {\n    maxZoomPixelRatio: 1,\n    zoomInMultiplier: 2,\n    doubleTapDelay: 300,\n    doubleClickDelay: 500,\n    doubleClickMaxStops: 2,\n    keyboardMoveDistance: 50,\n    wheelZoomDistanceFactor: 100,\n    pinchZoomDistanceFactor: 100,\n    scrollToZoom: false,\n};\nexport const Zoom = ({ augment, append }) => {\n    augment(({ toolbar: { buttons, ...restToolbar }, render, carousel, animation, zoom, on, ...restProps }) => ({\n        toolbar: {\n            buttons: [React.createElement(ZoomButtonsGroup, { key: PLUGIN_ZOOM, labels: restProps.labels, render: render }), ...buttons],\n            ...restToolbar,\n        },\n        render: {\n            ...render,\n            slide: (slide, offset, rect) => {\n                var _a;\n                return isImageSlide(slide) ? (React.createElement(ZoomContainer, { slide: slide, offset: offset, rect: rect, render: render, carousel: carousel, animation: animation, zoom: zoom, on: on })) : ((_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, slide, offset, rect));\n            },\n        },\n        zoom: {\n            ...defaultZoomProps,\n            ...zoom,\n        },\n        carousel,\n        animation,\n        on,\n        ...restProps,\n    }));\n    append(MODULE_CONTROLLER, createModule(PLUGIN_ZOOM, ZoomContextProvider));\n};\n","import { Zoom } from \"./Zoom.js\";\nexport const ACTION_ZOOM_IN = \"zoom-in\";\nexport const ACTION_ZOOM_OUT = \"zoom-out\";\nexport default Zoom;\n"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","indexOf","sourceSymbolKeys","prototype","propertyIsEnumerable","call","ratio","width","height","round","decimals","factor","Math","Number","EPSILON","MinHeap","comparator","heap","compare","n","greater","j","swap","temp","element","k","k2","floor","swim","pop","max","sink","size","findShortestPath","graph","startNode","endNode","precedentsMap","Map","visited","Set","storedShortestPaths","set","rank","pQueue","el","weight","a","b","id","has","neighboringNodes","add","neighborWeight","neighbor","newWeight","currentId","get","currentWeight","undefined","buildPrecedentsMap","nodes","node","reverse","getPathFromPrecedentsMap","getCommonHeight","row","containerWidth","spacing","padding","reduce","acc","photo","cost","photos","targetRowHeight","slice","commonHeight","computeRowsLayout","layoutOptions","rowConstraints","limitNodeSearch","minRatio","min","MAX_VALUE","findIdealNodeSearch","getNeighbors","_a","_b","results","startOffset","minPhotos","endOffset","maxPhotos","Infinity","currentCost","makeGetRowNeighbors","path","layout","map","index","photoIndex","photosCount","calcWidth","base","gaps","cssPhotoWidth","calculateSizesValue","match","PhotoRenderer","props","imageProps","style","restImageProps","renderPhoto","onClick","imageStyle","display","boxSizing","aspectRatio","marginBottom","cursor","handleClick","event","src","alt","title","className","loading","decoding","srcSet","sizes","images","concat","find","sort","first","second","image","join","viewport","ceil","srcSetAndSizes","renderDefaultPhoto","wrapped","unwrappedStyle","rest","React","wrapperStyle","defaultRenderRowContainer","rowContainerProps","children","RowContainerRenderer","rowIndex","rowsCount","renderRowContainer","restRowContainerProps","flexDirection","flexWrap","alignItems","justifyContent","RowsLayout","componentsProps","rowsLayout","findShortestPathLengthN","pathLength","matrix","reconstructShortestPath","queue","currentQueue","clear","accumulatedWeight","paths","nextPath","computeShortestPath","buildColumnsModel","columnsGaps","columnsRatios","columnsModel","totalRatio","total","columnRatio","column","totalAdjustedGaps","columnWidth","computeColumnsModel","targetColumnWidth","columns","averageRatio","Array","from","_","targetColumnHeight","cutOffHeight","makeGetColumnNeighbors","computeLayout","findIndex","columnModel","computeColumnsLayout","defaultRenderColumnContainer","columnContainerProps","cssColumnWidth","columnIndex","columnsCount","ColumnContainerRenderer","renderColumnContainer","restColumnContainerProps","ColumnsLayout","columnsLayout","computeMasonryLayout","columnsCurrentTopPositions","model","shortestColumn","currentShortestColumn","item","MasonryLayout","masonryLayout","defaultRenderContainer","containerProps","containerRef","ref","ContainerRenderer","renderContainer","restContainerProps","containerWidthReducer","state","newContainerWidth","newScrollbarWidth","scrollbarWidth","resolveContainerWidth","breakpoints","clientWidth","sorted","x","threshold","breakpoint","freeze","unwrap","unwrapParameter","selectResponsiveValue","values","resolveResponsiveParameter","parameter","minValue","renderLayout","w","resolveLayoutOptions","commonLayoutProps","PhotoAlbum","defaultContainerWidth","dispatch","observerRef","current","disconnect","updateWidth","window","innerWidth","document","documentElement","ResizeObserver","observe","useContainerWidth","array","useArray","includes","isArray","resolveComponentsProps","IconButton","label","Icon","icon","renderIcon","styles","useController","getLightboxProps","type","clsx","cssClass","ELEMENT_BUTTON","button","ELEMENT_ICON","displayName","createIcon","name","glyph","xmlns","viewBox","focusable","fill","d","CloseIcon","PreviousIcon","NextIcon","LoadingIcon","x1","y1","x2","y2","strokeLinecap","strokeWidth","stroke","strokeOpacity","transform","ErrorIcon","slidePrefix","makeComposePrefix","slideImagePrefix","ImageSlide","_c","_d","_e","_f","_g","slide","offset","render","rect","imageFit","onLoad","SLIDE_STATUS_LOADING","status","setStatus","publish","useEvents","imageRef","activeSlideStatus","handleLoading","useEventCallback","img","SLIDE_STATUS_COMPLETE","decode","Promise","resolve","catch","then","parentNode","setImageRef","complete","handleOnLoad","currentTarget","onError","SLIDE_STATUS_ERROR","cover","IMAGE_FIT_COVER","IMAGE_FIT_CONTAIN","nonInfinite","fallback","isFinite","maxWidth","naturalWidth","maxHeight","naturalHeight","defaultStyle","hasWindow","draggable","SLIDE_STATUS_PLACEHOLDER","iconLoading","iconError","createModule","component","createNode","module","traverseNode","flatMap","traverse","withPlugins","root","plugins","config","augmentations","contains","addParent","append","addChild","precede","addSibling","replace","remove","augment","augmentation","plugin","MODULE_CAROUSEL","MODULE_CONTROLLER","MODULE_CORE","MODULE_NAVIGATION","MODULE_NO_SCROLL","MODULE_PORTAL","MODULE_TOOLBAR","PLUGIN_CAPTIONS","PLUGIN_ZOOM","YARL_EVENT_BACKDROP_CLICK","CLASS_FULLSIZE","CLASS_FLEX_CENTER","CLASS_NO_SCROLL","CLASS_NO_SCROLL_PADDING","ACTION_PREV","ACTION_NEXT","ACTION_CLOSE","EVENT_ON_POINTER_DOWN","EVENT_ON_POINTER_MOVE","EVENT_ON_POINTER_UP","EVENT_ON_POINTER_LEAVE","EVENT_ON_POINTER_CANCEL","EVENT_ON_KEY_DOWN","EVENT_ON_KEY_UP","EVENT_ON_WHEEL","VK_ESCAPE","VK_ARROW_LEFT","VK_ARROW_RIGHT","EventsContext","makeUseContext","EventsProvider","subscriptions","context","unsubscribe","topic","callback","cb","subscribe","Provider","LightboxStateContext","useLightboxState","LightboxStateProvider","initialIndex","slidesCount","action","increment","animationDuration","currentIndex","globalIndex","reducer","TimeoutsContext","useTimeouts","TimeoutsProvider","timeouts","tid","clearTimeout","splice","removeTimeout","setTimeout","fn","delay","isDefined","useContainerRect","containerRect","setContainerRect","setContainerRef","updateContainerRect","getComputedStyle","parse","parseFloat","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","useLayoutEffect","args","useMotionPreference","reduceMotion","setReduceMotion","mediaQuery","matchMedia","matches","listener","addEventListener","removeEventListener","useRTL","isRTL","setIsRTL","direction","SwipeState","setRef","useForkRef","refA","refB","refValue","WHEEL","preventDefault","abs","deltaX","deltaY","ctrlKey","usePointerSwipe","subscribeSensors","isSwipeValid","swipeAnimationDuration","onSwipeStart","onSwipeProgress","onSwipeFinish","onSwipeCancel","pointers","activePointer","startTime","clearPointer","pointerId","currentPointers","p","addPointer","persist","onPointerDown","onPointerUp","duration","Date","now","currentOffset","onPointerMove","pointer","isCurrentPointer","buttons","clientX","clientY","cleanup","useWheelSwipe","swipeState","intent","intentCleanup","resetCleanup","wheelResidualMomentum","cancelSwipeIntentCleanup","cancelSwipeResetCleanup","handleCleanup","SWIPE","handleCancelSwipe","currentSwipeOffset","onWheel","newSwipeOffset","sign","currentSwipeIntent","cssContainerPrefix","ControllerContext","ControllerModule","carousel","slides","animation","controller","on","NONE","setSwipeState","swipeOffset","swipeAnimationReset","subscribers","notifySubscribers","isPropagationStopped","registerSensors","onPointerLeave","onPointerCancel","onKeyDown","onKeyUp","unshift","listeners","useSensors","handleContainerRef","passive","usePreventSwipeNavigation","carouselRef","setCarouselRef","carouselAnimation","carouselSwipeAnimation","rtl","isNumber","finite","setSwipeOffset","setProperty","cssVar","swipe","swipeDuration","count","newSwipeState","ANIMATION","newSwipeAnimationDuration","elapsedTime","expectedTime","getBoundingClientRect","timeoutId","animateCarouselSwipe","swipeAnimation","parsedSpacing","parseLengthPercentage","spacingValue","percent","pixel","cancel","animate","onfinish","swipeParams","focusOnMount","focus","handleIndexChange","view","code","closeOnBackdropClick","transferFocus","touchAction","container","aria","role","tabIndex","classes","cls","Boolean","cssPrefix","composePrefix","prefix","labels","lbl","cleaners","cleaner","contextName","ctx","Error","isImageSlide","input","parseInt","endsWith","devicePixelRatio","LightboxDefaultProps","open","close","toolbar","fade","preload","setAttribute","attribute","previousValue","getAttribute","removeAttribute","PortalModule","mounted","setMounted","visible","setVisible","fadeAnimationDuration","handleClose","exiting","exited","handleEnter","scrollTop","entering","elements","tagName","entered","handleExit","clean","handleRef","ReactDOM","body","noScroll","noScrollPadding","isHTMLElement","padScrollbar","property","computedValue","originalValue","getPropertyValue","removeProperty","NoScrollModule","scrollbar","getElementsByTagName","classList","cssSlidePrefix","CarouselSlide","click","HTMLElement","rendered","slideHeader","slideContainer","slideFooter","renderSlide","Placeholder","CarouselModule","paddingValue","items","ToolbarModule","buttonClose","iconClose","NavigationButton","disabled","translateLabel","NavigationModule","buttonPrev","buttonNext","iconPrev","iconNext","handleKeyDown","CoreModule","renderNode","child","restProps","defaultCarousel","defaultAnimation","defaultRender","defaultToolbar","defaultController","defaultOn","restDefaultProps","augmentedProps","CaptionsContext","useCaptions","CaptionsContextProvider","toolbarWidth","setToolbarWidth","Description","description","descriptionTextAlign","descriptionMaxLines","captionsDescriptionContainer","defaultCaptionsProps","captionsDescription","split","line","Title","captionsTitleContainer","captionsTitle","renderFooter","restRender","captions","ZoomContext","useZoom","ZoomContextProvider","isMinZoom","setIsMinZoom","isMaxZoom","setIsMaxZoom","isZoomSupported","setIsZoomSupported","updateZoomSupported","ZoomInIcon","ZoomOutIcon","ZoomButton","zoomIn","onLoseFocus","wasEnabled","wasFocused","ACTION_ZOOM_IN","ACTION_ZOOM_OUT","onFocus","onBlur","buttonZoomIn","buttonZoomOut","iconZoomIn","iconZoomOut","ZoomButtonsGroup","zoomInRef","zoomOutRef","focusSibling","sibling","focusZoomIn","focusZoomOut","ResponsiveImage","setState","targetWidth","pixelDensity","handleSourceChange","targetSource","prev","handlePreload","currentPreload","WebkitTransform","position","visibility","distance","pointerA","pointerB","ZoomContainer","originalZoomProps","zoom","zoomProps","defaultZoomProps","setZoom","offsetX","setOffsetX","offsetY","setOffsetY","imageDimensions","setImageDimensions","activePointers","lastPointerDown","zoomAnimation","zoomAnimationStart","pinchZoomDistance","controllerRef","controllerRect","maxZoomPixelRatio","slideRect","maxSlideRect","getSlideRects","currentMaxSlideRect","maxZoom","changeOffsets","dx","dy","targetZoom","newZoom","newOffsetX","newOffsetY","maxOffsetX","maxOffsetY","changeZoom","rapid","handleControllerRectChange","handleZoomAndOffsetChange","easing","resetZoom","newMinZoom","newMaxZoom","onZoomCallback","translateCoordinates","pageX","pageY","scrollX","scrollY","left","top","keyboardMoveDistance","zoomInMultiplier","stopPropagation","move","handleChangeZoom","zoomValue","hasMeta","getModifierState","wheelZoomDistanceFactor","scrollToZoom","replacePointer","doubleTapDelay","doubleClickDelay","doubleClickMaxStops","timeStamp","pointerType","currentDistance","delta","pinchZoomDistanceFactor","coordinate","handleZoomIn","handleZoomOut","scaledRect","slideProps","isResponsiveImageSlide","restToolbar"],"sourceRoot":""}