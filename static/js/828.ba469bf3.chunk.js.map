{"version":3,"file":"static/js/828.ba469bf3.chunk.js","mappings":"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","sources":["../node_modules/embla-carousel/src/components/utils.ts","../node_modules/embla-carousel/src/components/Alignment.ts","../node_modules/embla-carousel/src/components/Limit.ts","../node_modules/embla-carousel/src/components/Counter.ts","../node_modules/embla-carousel/src/components/EventStore.ts","../node_modules/embla-carousel/src/components/Vector1d.ts","../node_modules/embla-carousel/src/components/DragHandler.ts","../node_modules/embla-carousel/src/components/ScrollBody.ts","../node_modules/embla-carousel/src/components/ScrollBounds.ts","../node_modules/embla-carousel/src/components/ScrollContain.ts","../node_modules/embla-carousel/src/components/ScrollLooper.ts","../node_modules/embla-carousel/src/components/ScrollProgress.ts","../node_modules/embla-carousel/src/components/ScrollTarget.ts","../node_modules/embla-carousel/src/components/Translate.ts","../node_modules/embla-carousel/src/components/SlideLooper.ts","../node_modules/embla-carousel/src/components/SlidesInView.ts","../node_modules/embla-carousel/src/components/SlidesToScroll.ts","../node_modules/embla-carousel/src/components/Engine.ts","../node_modules/embla-carousel/src/components/Direction.ts","../node_modules/embla-carousel/src/components/Axis.ts","../node_modules/embla-carousel/src/components/PercentOfView.ts","../node_modules/embla-carousel/src/components/SlideSizes.ts","../node_modules/embla-carousel/src/components/ScrollSnaps.ts","../node_modules/embla-carousel/src/components/ScrollLimit.ts","../node_modules/embla-carousel/src/components/Animation.ts","../node_modules/embla-carousel/src/components/ScrollTo.ts","../node_modules/embla-carousel/src/components/DragTracker.ts","../node_modules/embla-carousel/src/components/Options.ts","../node_modules/embla-carousel/src/components/OptionsHandler.ts","../node_modules/embla-carousel/src/components/index.ts","../node_modules/embla-carousel/src/components/PluginsHandler.ts","../node_modules/embla-carousel/src/components/EventHandler.ts","../node_modules/embla-carousel-react/src/components/utils.ts","../node_modules/embla-carousel-react/src/components/index.ts","../node_modules/satellite.js/dist/satellite.es.js"],"sourcesContent":["export function map(\n  value: number,\n  iStart: number,\n  iStop: number,\n  oStart: number,\n  oStop: number,\n): number {\n  return oStart + (oStop - oStart) * ((value - iStart) / (iStop - iStart))\n}\n\nexport function isNumber(subject: unknown): subject is number {\n  return typeof subject === 'number'\n}\n\nexport function isObject(subject: unknown): subject is Record<string, unknown> {\n  return Object.prototype.toString.call(subject) === '[object Object]'\n}\n\nexport function isArray(subject: unknown): subject is Record<number, unknown> {\n  return Array.isArray(subject)\n}\n\nexport function isRecord(\n  subject: unknown,\n): subject is Record<string | number, unknown> {\n  return isObject(subject) || isArray(subject)\n}\n\nexport function mathAbs(n: number): number {\n  return Math.abs(n)\n}\n\nexport function mathSign(n: number): number {\n  return !n ? 0 : n / mathAbs(n)\n}\n\nexport function deltaAbs(valueB: number, valueA: number): number {\n  return mathAbs(valueB - valueA)\n}\n\nexport function factorAbs(valueB: number, valueA: number): number {\n  if (valueB === 0 || valueA === 0) return 0\n  if (mathAbs(valueB) <= mathAbs(valueA)) return 0\n  const diff = deltaAbs(mathAbs(valueB), mathAbs(valueA))\n  return mathAbs(diff / valueB)\n}\n\nexport function roundToDecimals(decimalPoints: number): (n: number) => number {\n  const pow = Math.pow(10, decimalPoints)\n  return (n: number): number => Math.round(n * pow) / pow\n}\n\nexport function arrayKeys<Type>(array: Type[]): number[] {\n  return objectKeys(array).map(Number)\n}\n\nexport function arrayLast<Type>(array: Type[]): Type {\n  return array[arrayLastIndex(array)]\n}\n\nexport function arrayLastIndex<Type>(array: Type[]): number {\n  return Math.max(0, array.length - 1)\n}\n\nexport function objectKeys<Type>(object: Type): string[] {\n  return Object.keys(object)\n}\n\nexport function objectsMergeDeep(\n  objectA: Record<string, unknown>,\n  objectB: Record<string, unknown>,\n): Record<string, unknown> {\n  return [objectA, objectB].reduce((mergedObjects, currentObject) => {\n    objectKeys(currentObject).forEach((key) => {\n      const valueA = mergedObjects[key]\n      const valueB = currentObject[key]\n      const areObjects = isObject(valueA) && isObject(valueB)\n\n      mergedObjects[key] = areObjects\n        ? objectsMergeDeep(valueA, valueB)\n        : valueB\n    })\n    return mergedObjects\n  }, {})\n}\n\nexport function objectsAreEqual(\n  objectA: Record<string, unknown>,\n  objectB: Record<string, unknown>,\n): boolean {\n  const objectAKeys = objectKeys(objectA)\n  const objectBKeys = objectKeys(objectB)\n\n  if (objectAKeys.length !== objectBKeys.length) return false\n\n  return objectAKeys.every((key) => {\n    const valueA = objectA[key]\n    const valueB = objectB[key]\n    if (typeof valueA === 'function') return `${valueA}` === `${valueB}`\n    if (!isRecord(valueA) || !isRecord(valueB)) return valueA === valueB\n    return objectsAreEqual(valueA, valueB)\n  })\n}\n","import { isNumber } from './utils'\n\nexport type AlignmentOptionType = 'start' | 'center' | 'end' | number\n\nexport type AlignmentType = {\n  measure: (n: number) => number\n}\n\nexport function Alignment(\n  align: AlignmentOptionType,\n  viewSize: number,\n): AlignmentType {\n  const predefined = { start, center, end }\n\n  function start(): number {\n    return 0\n  }\n\n  function center(n: number): number {\n    return end(n) / 2\n  }\n\n  function end(n: number): number {\n    return viewSize - n\n  }\n\n  function percent(): number {\n    return viewSize * Number(align)\n  }\n\n  function measure(n: number): number {\n    if (isNumber(align)) return percent()\n    return predefined[align](n)\n  }\n\n  const self: AlignmentType = {\n    measure,\n  }\n  return self\n}\n","import { mathAbs } from './utils'\n\nexport type LimitType = {\n  min: number\n  max: number\n  length: number\n  constrain: (n: number) => number\n  reachedAny: (n: number) => boolean\n  reachedMax: (n: number) => boolean\n  reachedMin: (n: number) => boolean\n  removeOffset: (n: number) => number\n}\n\nexport function Limit(min: number, max: number): LimitType {\n  const length = mathAbs(min - max)\n\n  function reachedMin(n: number): boolean {\n    return n < min\n  }\n\n  function reachedMax(n: number): boolean {\n    return n > max\n  }\n\n  function reachedAny(n: number): boolean {\n    return reachedMin(n) || reachedMax(n)\n  }\n\n  function constrain(n: number): number {\n    if (!reachedAny(n)) return n\n    return reachedMin(n) ? min : max\n  }\n\n  function removeOffset(n: number): number {\n    if (!length) return n\n    return n - length * Math.ceil((n - max) / length)\n  }\n\n  const self: LimitType = {\n    length,\n    max,\n    min,\n    constrain,\n    reachedAny,\n    reachedMax,\n    reachedMin,\n    removeOffset,\n  }\n  return self\n}\n","import { Limit } from './Limit'\nimport { mathAbs } from './utils'\n\nexport type CounterType = {\n  get: () => number\n  set: (n: number) => CounterType\n  add: (n: number) => CounterType\n  clone: () => CounterType\n  min: number\n  max: number\n}\n\nexport function Counter(\n  max: number,\n  start: number,\n  loop: boolean,\n): CounterType {\n  const { min, constrain } = Limit(0, max)\n  const loopEnd = max + 1\n  let counter = withinLimit(start)\n\n  function withinLimit(n: number): number {\n    return !loop ? constrain(n) : mathAbs((loopEnd + n) % loopEnd)\n  }\n\n  function get(): number {\n    return counter\n  }\n\n  function set(n: number): CounterType {\n    counter = withinLimit(n)\n    return self\n  }\n\n  function add(n: number): CounterType {\n    return set(get() + n)\n  }\n\n  function clone(): CounterType {\n    return Counter(max, get(), loop)\n  }\n\n  const self: CounterType = {\n    add,\n    clone,\n    get,\n    set,\n    min,\n    max,\n  }\n  return self\n}\n","type EventNameType = keyof DocumentEventMap | keyof WindowEventMap\ntype EventHandlerType = (evt: any) => void\ntype EventOptionsType = boolean | AddEventListenerOptions | undefined\ntype EventRemoverType = () => void\n\nexport type EventStoreType = {\n  add: (\n    node: EventTarget,\n    type: EventNameType,\n    handler: EventHandlerType,\n    options?: EventOptionsType,\n  ) => EventStoreType\n  removeAll: () => EventStoreType\n}\n\nexport function EventStore(): EventStoreType {\n  let listeners: EventRemoverType[] = []\n\n  function add(\n    node: EventTarget,\n    type: EventNameType,\n    handler: EventHandlerType,\n    options: EventOptionsType = { passive: true },\n  ): EventStoreType {\n    node.addEventListener(type, handler, options)\n    listeners.push(() => node.removeEventListener(type, handler, options))\n    return self\n  }\n\n  function removeAll(): EventStoreType {\n    listeners = listeners.filter((remove) => remove())\n    return self\n  }\n\n  const self: EventStoreType = {\n    add,\n    removeAll,\n  }\n  return self\n}\n","import { isNumber } from './utils'\n\nexport type Vector1DType = {\n  get: () => number\n  set: (v: Vector1DType | number) => Vector1DType\n  add: (v: Vector1DType | number) => Vector1DType\n  subtract: (v: Vector1DType | number) => Vector1DType\n  multiply: (n: number) => Vector1DType\n  divide: (n: number) => Vector1DType\n  normalize: () => Vector1DType\n}\n\nexport function Vector1D(value: number): Vector1DType {\n  let vector = value\n\n  function get(): number {\n    return vector\n  }\n\n  function set(n: Vector1DType | number): Vector1DType {\n    vector = readNumber(n)\n    return self\n  }\n\n  function add(n: Vector1DType | number): Vector1DType {\n    vector += readNumber(n)\n    return self\n  }\n\n  function subtract(n: Vector1DType | number): Vector1DType {\n    vector -= readNumber(n)\n    return self\n  }\n\n  function multiply(n: number): Vector1DType {\n    vector *= n\n    return self\n  }\n\n  function divide(n: number): Vector1DType {\n    vector /= n\n    return self\n  }\n\n  function normalize(): Vector1DType {\n    if (vector !== 0) divide(vector)\n    return self\n  }\n\n  function readNumber(n: Vector1DType | number): number {\n    return isNumber(n) ? n : n.get()\n  }\n\n  const self: Vector1DType = {\n    add,\n    divide,\n    get,\n    multiply,\n    normalize,\n    set,\n    subtract,\n  }\n  return self\n}\n","import { AnimationType } from './Animation'\nimport { CounterType } from './Counter'\nimport { DirectionType } from './Direction'\nimport { DragTrackerType, PointerEventType } from './DragTracker'\nimport { EventHandlerType } from './EventHandler'\nimport { AxisType } from './Axis'\nimport { EventStore } from './EventStore'\nimport { ScrollBodyType } from './ScrollBody'\nimport { ScrollTargetType } from './ScrollTarget'\nimport { ScrollToType } from './ScrollTo'\nimport { Vector1D, Vector1DType } from './Vector1d'\nimport { deltaAbs, factorAbs, mathAbs, mathSign } from './utils'\nimport { PercentOfViewType } from './PercentOfView'\n\nexport type DragHandlerType = {\n  addActivationEvents: () => void\n  clickAllowed: () => boolean\n  pointerDown: () => boolean\n  removeAllEvents: () => void\n}\n\nexport function DragHandler(\n  axis: AxisType,\n  direction: DirectionType,\n  rootNode: HTMLElement,\n  target: Vector1DType,\n  dragTracker: DragTrackerType,\n  location: Vector1DType,\n  animation: AnimationType,\n  scrollTo: ScrollToType,\n  scrollBody: ScrollBodyType,\n  scrollTarget: ScrollTargetType,\n  index: CounterType,\n  eventHandler: EventHandlerType,\n  percentOfView: PercentOfViewType,\n  loop: boolean,\n  dragFree: boolean,\n  skipSnaps: boolean,\n): DragHandlerType {\n  const { cross: crossAxis } = axis\n  const focusNodes = ['INPUT', 'SELECT', 'TEXTAREA']\n  const nonPassiveEvent = { passive: false }\n  const dragStartPoint = Vector1D(0)\n  const activationEvents = EventStore()\n  const interactionEvents = EventStore()\n  const dragThreshold = percentOfView.measure(20)\n  const snapForceBoost = { mouse: 300, touch: 400 }\n  const freeForceBoost = { mouse: 500, touch: 600 }\n  const baseSpeed = dragFree ? 5 : 16\n  const baseMass = 1\n\n  let startScroll = 0\n  let startCross = 0\n  let pointerIsDown = false\n  let preventScroll = false\n  let preventClick = false\n  let isMouse = false\n\n  function addActivationEvents(): void {\n    const node = rootNode\n    activationEvents\n      .add(node, 'dragstart', (evt) => evt.preventDefault(), nonPassiveEvent)\n      .add(node, 'touchmove', () => undefined, nonPassiveEvent)\n      .add(node, 'touchend', () => undefined)\n      .add(node, 'touchstart', down)\n      .add(node, 'mousedown', down)\n      .add(node, 'touchcancel', up)\n      .add(node, 'contextmenu', up)\n      .add(node, 'click', click, true)\n  }\n\n  function addInteractionEvents(): void {\n    const node = isMouse ? document : rootNode\n    interactionEvents\n      .add(node, 'touchmove', move, nonPassiveEvent)\n      .add(node, 'touchend', up)\n      .add(node, 'mousemove', move, nonPassiveEvent)\n      .add(node, 'mouseup', up)\n  }\n\n  function removeAllEvents(): void {\n    activationEvents.removeAll()\n    interactionEvents.removeAll()\n  }\n\n  function isFocusNode(node: Element): boolean {\n    const name = node.nodeName || ''\n    return focusNodes.indexOf(name) > -1\n  }\n\n  function forceBoost(): number {\n    const boost = dragFree ? freeForceBoost : snapForceBoost\n    const type = isMouse ? 'mouse' : 'touch'\n    return boost[type]\n  }\n\n  function allowedForce(force: number, targetChanged: boolean): number {\n    const next = index.clone().add(mathSign(force) * -1)\n    const isEdge = next.get() === index.min || next.get() === index.max\n    const baseForce = scrollTarget.byDistance(force, !dragFree).distance\n\n    if (dragFree || mathAbs(force) < dragThreshold) return baseForce\n    if (!loop && isEdge) return baseForce * 0.4\n    if (skipSnaps && targetChanged) return baseForce * 0.5\n\n    return scrollTarget.byIndex(next.get(), 0).distance\n  }\n\n  function down(evt: PointerEventType): void {\n    isMouse = !dragTracker.isTouchEvent(evt)\n    if (isMouse && (evt as MouseEvent).button !== 0) return\n    if (isFocusNode(evt.target as Element)) return\n\n    const isMoving = deltaAbs(target.get(), location.get()) >= 2\n    const clearPreventClick = isMouse || !isMoving\n\n    pointerIsDown = true\n    dragTracker.pointerDown(evt)\n    dragStartPoint.set(target)\n    target.set(location)\n    scrollBody.useBaseMass().useSpeed(80)\n    addInteractionEvents()\n    startScroll = dragTracker.readPoint(evt)\n    startCross = dragTracker.readPoint(evt, crossAxis)\n    eventHandler.emit('pointerDown')\n\n    if (clearPreventClick) preventClick = false\n  }\n\n  function move(evt: PointerEventType): void {\n    if (!preventScroll && !isMouse) {\n      if (!evt.cancelable) return up(evt)\n      const lastScroll = dragTracker.readPoint(evt)\n      const lastCross = dragTracker.readPoint(evt, crossAxis)\n      const diffScroll = deltaAbs(lastScroll, startScroll)\n      const diffCross = deltaAbs(lastCross, startCross)\n      preventScroll = diffScroll > diffCross\n      if (!preventScroll && !preventClick) return up(evt)\n    }\n    const diff = dragTracker.pointerMove(evt)\n    if (!preventClick && diff) preventClick = true\n    animation.start()\n    target.add(direction.apply(diff))\n    evt.preventDefault()\n  }\n\n  function up(evt: PointerEventType): void {\n    const currentLocation = scrollTarget.byDistance(0, false)\n    const targetChanged = currentLocation.index !== index.get()\n    const rawForce = dragTracker.pointerUp(evt) * forceBoost()\n    const force = allowedForce(direction.apply(rawForce), targetChanged)\n    const forceFactor = factorAbs(rawForce, force)\n    const isMoving = deltaAbs(target.get(), dragStartPoint.get()) >= 0.5\n    const isVigorous = targetChanged && forceFactor > 0.75\n    const isBelowThreshold = mathAbs(rawForce) < dragThreshold\n    const speed = isVigorous ? 10 : baseSpeed\n    const mass = isVigorous ? baseMass + 2.5 * forceFactor : baseMass\n\n    if (isMoving && !isMouse) preventClick = true\n    preventScroll = false\n    pointerIsDown = false\n    interactionEvents.removeAll()\n    scrollBody.useSpeed(isBelowThreshold ? 9 : speed).useMass(mass)\n    scrollTo.distance(force, !dragFree)\n    isMouse = false\n    eventHandler.emit('pointerUp')\n  }\n\n  function click(evt: MouseEvent): void {\n    if (preventClick) {\n      evt.stopPropagation()\n      evt.preventDefault()\n    }\n  }\n\n  // DEPRECATED - Remove in v8 because handled automatically\n  function clickAllowed(): boolean {\n    return !preventClick\n  }\n\n  function pointerDown(): boolean {\n    return pointerIsDown\n  }\n\n  const self: DragHandlerType = {\n    addActivationEvents,\n    clickAllowed,\n    pointerDown,\n    removeAllEvents,\n  }\n  return self\n}\n","import { map, roundToDecimals, mathSign } from './utils'\nimport { Vector1D, Vector1DType } from './Vector1d'\n\nexport type ScrollBodyType = {\n  direction: () => number\n  seek: (target: Vector1DType) => ScrollBodyType\n  settle: (target: Vector1DType) => boolean\n  update: () => void\n  useBaseMass: () => ScrollBodyType\n  useBaseSpeed: () => ScrollBodyType\n  useMass: (n: number) => ScrollBodyType\n  useSpeed: (n: number) => ScrollBodyType\n}\n\nexport function ScrollBody(\n  location: Vector1DType,\n  baseSpeed: number,\n  baseMass: number,\n): ScrollBodyType {\n  const roundToTwoDecimals = roundToDecimals(2)\n  const velocity = Vector1D(0)\n  const acceleration = Vector1D(0)\n  const attraction = Vector1D(0)\n\n  let attractionDirection = 0\n  let speed = baseSpeed\n  let mass = baseMass\n\n  function update(): void {\n    velocity.add(acceleration)\n    location.add(velocity)\n    acceleration.multiply(0)\n  }\n\n  function applyForce(force: Vector1DType): void {\n    force.divide(mass)\n    acceleration.add(force)\n  }\n\n  function seek(target: Vector1DType): ScrollBodyType {\n    attraction.set(target).subtract(location)\n    const magnitude = map(attraction.get(), 0, 100, 0, speed)\n    attractionDirection = mathSign(attraction.get())\n    attraction.normalize().multiply(magnitude).subtract(velocity)\n    applyForce(attraction)\n    return self\n  }\n\n  function settle(target: Vector1DType): boolean {\n    const diff = target.get() - location.get()\n    const hasSettled = !roundToTwoDecimals(diff)\n    if (hasSettled) location.set(target)\n    return hasSettled\n  }\n\n  function direction(): number {\n    return attractionDirection\n  }\n\n  function useBaseSpeed(): ScrollBodyType {\n    return useSpeed(baseSpeed)\n  }\n\n  function useBaseMass(): ScrollBodyType {\n    return useMass(baseMass)\n  }\n\n  function useSpeed(n: number): ScrollBodyType {\n    speed = n\n    return self\n  }\n\n  function useMass(n: number): ScrollBodyType {\n    mass = n\n    return self\n  }\n\n  const self: ScrollBodyType = {\n    direction,\n    seek,\n    settle,\n    update,\n    useBaseMass,\n    useBaseSpeed,\n    useMass,\n    useSpeed,\n  }\n  return self\n}\n","import { LimitType } from './Limit'\nimport { ScrollBodyType } from './ScrollBody'\nimport { Vector1DType } from './Vector1d'\nimport { mathAbs } from './utils'\nimport { PercentOfViewType } from './PercentOfView'\n\nexport type ScrollBoundsType = {\n  constrain: (pointerDown: boolean) => void\n  toggleActive: (active: boolean) => void\n}\n\nexport function ScrollBounds(\n  limit: LimitType,\n  location: Vector1DType,\n  target: Vector1DType,\n  scrollBody: ScrollBodyType,\n  percentOfView: PercentOfViewType,\n): ScrollBoundsType {\n  const pullBackThreshold = percentOfView.measure(10)\n  const edgeOffsetTolerance = percentOfView.measure(50)\n  const maxFriction = 0.85\n  let disabled = false\n\n  function shouldConstrain(): boolean {\n    if (disabled) return false\n    if (!limit.reachedAny(target.get())) return false\n    if (!limit.reachedAny(location.get())) return false\n    return true\n  }\n\n  function constrain(pointerDown: boolean): void {\n    if (!shouldConstrain()) return\n    const edge = limit.reachedMin(location.get()) ? 'min' : 'max'\n    const diffToEdge = mathAbs(limit[edge] - location.get())\n    const diffToTarget = target.get() - location.get()\n    const friction = Math.min(diffToEdge / edgeOffsetTolerance, maxFriction)\n\n    target.subtract(diffToTarget * friction)\n\n    if (!pointerDown && mathAbs(diffToTarget) < pullBackThreshold) {\n      target.set(limit.constrain(target.get()))\n      scrollBody.useSpeed(10).useMass(3)\n    }\n  }\n\n  function toggleActive(active: boolean): void {\n    disabled = !active\n  }\n\n  const self: ScrollBoundsType = {\n    constrain,\n    toggleActive,\n  }\n  return self\n}\n","import { Limit, LimitType } from './Limit'\nimport { arrayLast } from './utils'\n\nexport type ScrollContainOptionType = '' | 'trimSnaps' | 'keepSnaps'\n\nexport type ScrollContainType = {\n  snapsContained: number[]\n}\n\nexport function ScrollContain(\n  viewSize: number,\n  contentSize: number,\n  snapsAligned: number[],\n  containScroll: ScrollContainOptionType,\n): ScrollContainType {\n  const scrollBounds = Limit(-contentSize + viewSize, snapsAligned[0])\n  const snapsBounded = snapsAligned.map(scrollBounds.constrain)\n  const snapsContained = measureContained()\n\n  function findDuplicates(): LimitType {\n    const startSnap = snapsBounded[0]\n    const endSnap = arrayLast(snapsBounded)\n    const min = snapsBounded.lastIndexOf(startSnap)\n    const max = snapsBounded.indexOf(endSnap) + 1\n    return Limit(min, max)\n  }\n\n  function measureContained(): number[] {\n    if (contentSize <= viewSize) return [scrollBounds.max]\n    if (containScroll === 'keepSnaps') return snapsBounded\n    const { min, max } = findDuplicates()\n    return snapsBounded.slice(min, max)\n  }\n\n  const self: ScrollContainType = {\n    snapsContained,\n  }\n  return self\n}\n","import { Limit, LimitType } from './Limit'\nimport { Vector1DType } from './Vector1d'\n\nexport type ScrollLooperType = {\n  loop: (direction: number) => void\n}\n\nexport function ScrollLooper(\n  contentSize: number,\n  limit: LimitType,\n  location: Vector1DType,\n  vectors: Vector1DType[],\n): ScrollLooperType {\n  const jointSafety = 0.1\n  const min = limit.min + jointSafety\n  const max = limit.max + jointSafety\n  const { reachedMin, reachedMax } = Limit(min, max)\n\n  function shouldLoop(direction: number): boolean {\n    if (direction === 1) return reachedMax(location.get())\n    if (direction === -1) return reachedMin(location.get())\n    return false\n  }\n\n  function loop(direction: number): void {\n    if (!shouldLoop(direction)) return\n\n    const loopDistance = contentSize * (direction * -1)\n    vectors.forEach((v) => v.add(loopDistance))\n  }\n\n  const self: ScrollLooperType = {\n    loop,\n  }\n  return self\n}\n","import { LimitType } from './Limit'\n\nexport type ScrollProgressType = {\n  get: (n: number) => number\n}\n\nexport function ScrollProgress(limit: LimitType): ScrollProgressType {\n  const { max, length: scrollLength } = limit\n\n  function get(n: number): number {\n    const currentLocation = n - max\n    return currentLocation / -scrollLength\n  }\n\n  const self: ScrollProgressType = {\n    get,\n  }\n  return self\n}\n","import { LimitType } from './Limit'\nimport { Vector1DType } from './Vector1d'\nimport { mathAbs, mathSign } from './utils'\n\nexport type TargetType = {\n  distance: number\n  index: number\n}\n\nexport type ScrollTargetType = {\n  byIndex: (target: number, direction: number) => TargetType\n  byDistance: (force: number, snap: boolean) => TargetType\n  shortcut: (target: number, direction: number) => number\n}\n\nexport function ScrollTarget(\n  loop: boolean,\n  scrollSnaps: number[],\n  contentSize: number,\n  limit: LimitType,\n  targetVector: Vector1DType,\n): ScrollTargetType {\n  const { reachedAny, removeOffset, constrain } = limit\n\n  function minDistance(distances: number[]): number {\n    return distances.concat().sort((a, b) => mathAbs(a) - mathAbs(b))[0]\n  }\n\n  function findTargetSnap(target: number): TargetType {\n    const distance = loop ? removeOffset(target) : constrain(target)\n    const ascDiffsToSnaps = scrollSnaps\n      .map((scrollSnap) => scrollSnap - distance)\n      .map((diffToSnap) => shortcut(diffToSnap, 0))\n      .map((diff, i) => ({ diff, index: i }))\n      .sort((d1, d2) => mathAbs(d1.diff) - mathAbs(d2.diff))\n\n    const { index } = ascDiffsToSnaps[0]\n    return { index, distance }\n  }\n\n  function shortcut(target: number, direction: number): number {\n    const targets = [target, target + contentSize, target - contentSize]\n\n    if (!loop) return targets[0]\n    if (!direction) return minDistance(targets)\n\n    const matchingTargets = targets.filter((t) => mathSign(t) === direction)\n    return minDistance(matchingTargets)\n  }\n\n  function byIndex(index: number, direction: number): TargetType {\n    const diffToSnap = scrollSnaps[index] - targetVector.get()\n    const distance = shortcut(diffToSnap, direction)\n    return { index, distance }\n  }\n\n  function byDistance(distance: number, snap: boolean): TargetType {\n    const target = targetVector.get() + distance\n    const { index, distance: targetSnapDistance } = findTargetSnap(target)\n    const reachedBound = !loop && reachedAny(target)\n\n    if (!snap || reachedBound) return { index, distance }\n\n    const diffToSnap = scrollSnaps[index] - targetSnapDistance\n    const snapDistance = distance + shortcut(diffToSnap, 0)\n\n    return { index, distance: snapDistance }\n  }\n\n  const self: ScrollTargetType = {\n    byDistance,\n    byIndex,\n    shortcut,\n  }\n  return self\n}\n","import { AxisType } from './Axis'\nimport { DirectionType } from './Direction'\nimport { Vector1DType } from './Vector1d'\n\nexport type TranslateType = {\n  clear: () => void\n  to: (vector: Vector1DType) => void\n  toggleActive: (active: boolean) => void\n}\n\nexport function Translate(\n  axis: AxisType,\n  direction: DirectionType,\n  container: HTMLElement,\n): TranslateType {\n  const translate = axis.scroll === 'x' ? x : y\n  const containerStyle = container.style\n  let disabled = false\n\n  function x(n: number): string {\n    return `translate3d(${n}px,0px,0px)`\n  }\n\n  function y(n: number): string {\n    return `translate3d(0px,${n}px,0px)`\n  }\n\n  function to(target: Vector1DType): void {\n    if (disabled) return\n    containerStyle.transform = translate(direction.apply(target.get()))\n  }\n\n  function toggleActive(active: boolean): void {\n    disabled = !active\n  }\n\n  function clear(): void {\n    if (disabled) return\n    containerStyle.transform = ''\n    if (!container.getAttribute('style')) container.removeAttribute('style')\n  }\n\n  const self: TranslateType = {\n    clear,\n    to,\n    toggleActive,\n  }\n  return self\n}\n","import { AxisType } from './Axis'\nimport { arrayKeys } from './utils'\nimport { SlidesInViewType } from './SlidesInView'\nimport { Vector1D, Vector1DType } from './Vector1d'\nimport { Translate, TranslateType } from './Translate'\nimport { DirectionType } from './Direction'\n\ntype EdgeType = 'start' | 'end'\n\ntype LoopPointType = {\n  index: number\n  translate: TranslateType\n  location: Vector1DType\n  target: () => Vector1DType\n}\n\nexport type SlideLooperType = {\n  canLoop: () => boolean\n  clear: () => void\n  loop: () => void\n  loopPoints: LoopPointType[]\n}\n\nexport function SlideLooper(\n  axis: AxisType,\n  direction: DirectionType,\n  viewSize: number,\n  contentSize: number,\n  slideSizesWithGaps: number[],\n  scrollSnaps: number[],\n  slidesInView: SlidesInViewType,\n  scroll: Vector1DType,\n  slides: HTMLElement[],\n): SlideLooperType {\n  const ascItems = arrayKeys(slideSizesWithGaps)\n  const descItems = arrayKeys(slideSizesWithGaps).reverse()\n  const loopPoints = startPoints().concat(endPoints())\n\n  function removeSlideSizes(indexes: number[], from: number): number {\n    return indexes.reduce((a: number, i) => {\n      return a - slideSizesWithGaps[i]\n    }, from)\n  }\n\n  function slidesInGap(indexes: number[], gap: number): number[] {\n    return indexes.reduce((a: number[], i) => {\n      const remainingGap = removeSlideSizes(a, gap)\n      return remainingGap > 0 ? a.concat([i]) : a\n    }, [])\n  }\n\n  function findLoopPoints(indexes: number[], edge: EdgeType): LoopPointType[] {\n    const isStartEdge = edge === 'start'\n    const offset = isStartEdge ? -contentSize : contentSize\n    const slideBounds = slidesInView.findSlideBounds([offset])\n\n    return indexes.map((index) => {\n      const initial = isStartEdge ? 0 : -contentSize\n      const altered = isStartEdge ? contentSize : 0\n      const bounds = slideBounds.filter((b) => b.index === index)[0]\n      const point = bounds[isStartEdge ? 'end' : 'start']\n      const shift = Vector1D(-1)\n      const location = Vector1D(-1)\n      const translate = Translate(axis, direction, slides[index])\n      const target = () => shift.set(scroll.get() > point ? initial : altered)\n      return { index, location, translate, target }\n    })\n  }\n\n  function startPoints(): LoopPointType[] {\n    const gap = scrollSnaps[0] - 1\n    const indexes = slidesInGap(descItems, gap)\n    return findLoopPoints(indexes, 'end')\n  }\n\n  function endPoints(): LoopPointType[] {\n    const gap = viewSize - scrollSnaps[0] - 1\n    const indexes = slidesInGap(ascItems, gap)\n    return findLoopPoints(indexes, 'start')\n  }\n\n  function canLoop(): boolean {\n    return loopPoints.every(({ index }) => {\n      const otherIndexes = ascItems.filter((i) => i !== index)\n      return removeSlideSizes(otherIndexes, viewSize) <= 0.1\n    })\n  }\n\n  function loop(): void {\n    loopPoints.forEach((loopPoint) => {\n      const { target, translate, location } = loopPoint\n      const shift = target()\n      if (shift.get() === location.get()) return\n      if (shift.get() === 0) translate.clear()\n      else translate.to(shift)\n      location.set(shift)\n    })\n  }\n\n  function clear(): void {\n    loopPoints.forEach((loopPoint) => loopPoint.translate.clear())\n  }\n\n  const self: SlideLooperType = {\n    canLoop,\n    clear,\n    loop,\n    loopPoints,\n  }\n  return self\n}\n","import { Limit, LimitType } from './Limit'\n\nexport type SlideBoundType = {\n  start: number\n  end: number\n  index: number\n}\n\nexport type SlidesInViewType = {\n  check: (location: number, bounds?: SlideBoundType[]) => number[]\n  findSlideBounds: (offsets?: number[], threshold?: number) => SlideBoundType[]\n}\n\nexport function SlidesInView(\n  viewSize: number,\n  contentSize: number,\n  slideSizes: number[],\n  snaps: number[],\n  limit: LimitType,\n  loop: boolean,\n  inViewThreshold: number,\n): SlidesInViewType {\n  const { removeOffset, constrain } = limit\n  const roundingSafety = 0.5\n  const cachedOffsets = loop ? [0, contentSize, -contentSize] : [0]\n  const cachedBounds = findSlideBounds(cachedOffsets, inViewThreshold)\n\n  function findSlideThresholds(threshold?: number): number[] {\n    const slideThreshold = threshold || 0\n\n    return slideSizes.map((slideSize) => {\n      const thresholdLimit = Limit(roundingSafety, slideSize - roundingSafety)\n      return thresholdLimit.constrain(slideSize * slideThreshold)\n    })\n  }\n\n  function findSlideBounds(\n    offsets?: number[],\n    threshold?: number,\n  ): SlideBoundType[] {\n    const slideOffsets = offsets || cachedOffsets\n    const slideThresholds = findSlideThresholds(threshold)\n\n    return slideOffsets.reduce((list: SlideBoundType[], offset) => {\n      const bounds = snaps.map((snap, index) => ({\n        start: snap - slideSizes[index] + slideThresholds[index] + offset,\n        end: snap + viewSize - slideThresholds[index] + offset,\n        index,\n      }))\n      return list.concat(bounds)\n    }, [])\n  }\n\n  function check(location: number, bounds?: SlideBoundType[]): number[] {\n    const limitedLocation = loop ? removeOffset(location) : constrain(location)\n    const slideBounds = bounds || cachedBounds\n\n    return slideBounds.reduce((list: number[], slideBound) => {\n      const { index, start, end } = slideBound\n      const inList = list.indexOf(index) !== -1\n      const inView = start < limitedLocation && end > limitedLocation\n      return !inList && inView ? list.concat([index]) : list\n    }, [])\n  }\n\n  const self: SlidesInViewType = {\n    check,\n    findSlideBounds,\n  }\n  return self\n}\n","import { arrayKeys, arrayLast, isNumber } from './utils'\n\nexport type SlidesToScrollOptionType = 'auto' | number\n\nexport type SlidesToScrollType = {\n  groupSlides: <Type>(array: Type[]) => Type[][]\n}\n\nexport function SlidesToScroll(\n  viewSize: number,\n  slideSizesWithGaps: number[],\n  slidesToScroll: SlidesToScrollOptionType,\n): SlidesToScrollType {\n  const groupByNumber = isNumber(slidesToScroll)\n\n  function byNumber<Type>(array: Type[], groupSize: number): Type[][] {\n    return arrayKeys(array)\n      .filter((i) => i % groupSize === 0)\n      .map((i) => array.slice(i, i + groupSize))\n  }\n\n  function bySize<Type>(array: Type[]): Type[][] {\n    return arrayKeys(array)\n      .reduce((groupSizes: number[], i) => {\n        const chunk = slideSizesWithGaps.slice(arrayLast(groupSizes), i + 1)\n        const chunkSize = chunk.reduce((a, s) => a + s, 0)\n        return !i || chunkSize > viewSize ? groupSizes.concat(i) : groupSizes\n      }, [])\n      .map((start, i, groupSizes) => array.slice(start, groupSizes[i + 1]))\n  }\n\n  function groupSlides<Type>(array: Type[]): Type[][] {\n    return groupByNumber ? byNumber(array, slidesToScroll) : bySize(array)\n  }\n\n  const self: SlidesToScrollType = {\n    groupSlides,\n  }\n  return self\n}\n","import { Alignment } from './Alignment'\nimport { Animation, AnimationType } from './Animation'\nimport { Axis, AxisType } from './Axis'\nimport { Counter, CounterType } from './Counter'\nimport { Direction, DirectionType } from './Direction'\nimport { DragHandler, DragHandlerType } from './DragHandler'\nimport { DragTracker } from './DragTracker'\nimport { EventHandlerType } from './EventHandler'\nimport { EventStore, EventStoreType } from './EventStore'\nimport { LimitType } from './Limit'\nimport { OptionsType } from './Options'\nimport { PercentOfView, PercentOfViewType } from './PercentOfView'\nimport { ScrollBody, ScrollBodyType } from './ScrollBody'\nimport { ScrollBounds, ScrollBoundsType } from './ScrollBounds'\nimport { ScrollContain } from './ScrollContain'\nimport { ScrollLimit } from './ScrollLimit'\nimport { ScrollLooper, ScrollLooperType } from './ScrollLooper'\nimport { ScrollProgress, ScrollProgressType } from './ScrollProgress'\nimport { ScrollSnaps } from './ScrollSnaps'\nimport { ScrollTarget, ScrollTargetType } from './ScrollTarget'\nimport { ScrollTo, ScrollToType } from './ScrollTo'\nimport { SlideLooper, SlideLooperType } from './SlideLooper'\nimport { SlidesInView, SlidesInViewType } from './SlidesInView'\nimport { SlideSizes } from './SlideSizes'\nimport { SlidesToScroll, SlidesToScrollType } from './SlidesToScroll'\nimport { Translate, TranslateType } from './Translate'\nimport { arrayKeys, arrayLast, arrayLastIndex } from './utils'\nimport { Vector1D, Vector1DType } from './Vector1d'\n\nexport type EngineType = {\n  axis: AxisType\n  direction: DirectionType\n  animation: AnimationType\n  scrollBounds: ScrollBoundsType\n  scrollLooper: ScrollLooperType\n  scrollProgress: ScrollProgressType\n  index: CounterType\n  indexPrevious: CounterType\n  limit: LimitType\n  location: Vector1DType\n  options: OptionsType\n  percentOfView: PercentOfViewType\n  scrollBody: ScrollBodyType\n  dragHandler: DragHandlerType\n  eventStore: EventStoreType\n  slideLooper: SlideLooperType\n  slidesInView: SlidesInViewType\n  slidesToScroll: SlidesToScrollType\n  target: Vector1DType\n  translate: TranslateType\n  scrollTo: ScrollToType\n  scrollTarget: ScrollTargetType\n  scrollSnaps: number[]\n  slideIndexes: number[]\n  containerRect: DOMRect\n  slideRects: DOMRect[]\n}\n\nexport function Engine(\n  root: HTMLElement,\n  container: HTMLElement,\n  slides: HTMLElement[],\n  options: OptionsType,\n  eventHandler: EventHandlerType,\n): EngineType {\n  // Options\n  const {\n    align,\n    axis: scrollAxis,\n    direction: contentDirection,\n    startIndex,\n    inViewThreshold,\n    loop,\n    speed,\n    dragFree,\n    slidesToScroll: groupSlides,\n    skipSnaps,\n    containScroll,\n  } = options\n\n  // Measurements\n  const containerRect = container.getBoundingClientRect()\n  const slideRects = slides.map((slide) => slide.getBoundingClientRect())\n  const direction = Direction(contentDirection)\n  const axis = Axis(scrollAxis, contentDirection)\n  const viewSize = axis.measureSize(containerRect)\n  const percentOfView = PercentOfView(viewSize)\n  const alignment = Alignment(align, viewSize)\n  const containSnaps = !loop && containScroll !== ''\n  const readEdgeGap = loop || containScroll !== ''\n  const { slideSizes, slideSizesWithGaps } = SlideSizes(\n    axis,\n    containerRect,\n    slideRects,\n    slides,\n    readEdgeGap,\n  )\n  const slidesToScroll = SlidesToScroll(\n    viewSize,\n    slideSizesWithGaps,\n    groupSlides,\n  )\n  const { snaps, snapsAligned } = ScrollSnaps(\n    axis,\n    alignment,\n    containerRect,\n    slideRects,\n    slideSizesWithGaps,\n    slidesToScroll,\n    containSnaps,\n  )\n  const contentSize = -arrayLast(snaps) + arrayLast(slideSizesWithGaps)\n  const { snapsContained } = ScrollContain(\n    viewSize,\n    contentSize,\n    snapsAligned,\n    containScroll,\n  )\n  const scrollSnaps = containSnaps ? snapsContained : snapsAligned\n  const { limit } = ScrollLimit(contentSize, scrollSnaps, loop)\n\n  // Indexes\n  const index = Counter(arrayLastIndex(scrollSnaps), startIndex, loop)\n  const indexPrevious = index.clone()\n  const slideIndexes = arrayKeys(slides)\n\n  // Draw\n  const update = (): void => {\n    if (!loop) engine.scrollBounds.constrain(engine.dragHandler.pointerDown())\n    engine.scrollBody.seek(target).update()\n    const settled = engine.scrollBody.settle(target)\n\n    if (settled && !engine.dragHandler.pointerDown()) {\n      engine.animation.stop()\n      eventHandler.emit('settle')\n    }\n    if (!settled) {\n      eventHandler.emit('scroll')\n    }\n    if (loop) {\n      engine.scrollLooper.loop(engine.scrollBody.direction())\n      engine.slideLooper.loop()\n    }\n\n    engine.translate.to(location)\n    engine.animation.proceed()\n  }\n\n  // Shared\n  const animation = Animation(update)\n  const startLocation = scrollSnaps[index.get()]\n  const location = Vector1D(startLocation)\n  const target = Vector1D(startLocation)\n  const scrollBody = ScrollBody(location, speed, 1)\n  const scrollTarget = ScrollTarget(\n    loop,\n    scrollSnaps,\n    contentSize,\n    limit,\n    target,\n  )\n  const scrollTo = ScrollTo(\n    animation,\n    index,\n    indexPrevious,\n    scrollTarget,\n    target,\n    eventHandler,\n  )\n  const slidesInView = SlidesInView(\n    viewSize,\n    contentSize,\n    slideSizes,\n    snaps,\n    limit,\n    loop,\n    inViewThreshold,\n  )\n\n  // DragHandler\n  const dragHandler = DragHandler(\n    axis,\n    direction,\n    root,\n    target,\n    DragTracker(axis),\n    location,\n    animation,\n    scrollTo,\n    scrollBody,\n    scrollTarget,\n    index,\n    eventHandler,\n    percentOfView,\n    loop,\n    dragFree,\n    skipSnaps,\n  )\n\n  // Engine\n  const engine: EngineType = {\n    containerRect,\n    slideRects,\n    animation,\n    axis,\n    direction,\n    dragHandler,\n    eventStore: EventStore(),\n    percentOfView,\n    index,\n    indexPrevious,\n    limit,\n    location,\n    options,\n    scrollBody,\n    scrollBounds: ScrollBounds(\n      limit,\n      location,\n      target,\n      scrollBody,\n      percentOfView,\n    ),\n    scrollLooper: ScrollLooper(contentSize, limit, location, [\n      location,\n      target,\n    ]),\n    scrollProgress: ScrollProgress(limit),\n    scrollSnaps,\n    scrollTarget,\n    scrollTo,\n    slideLooper: SlideLooper(\n      axis,\n      direction,\n      viewSize,\n      contentSize,\n      slideSizesWithGaps,\n      scrollSnaps,\n      slidesInView,\n      location,\n      slides,\n    ),\n    slidesToScroll,\n    slidesInView,\n    slideIndexes,\n    target,\n    translate: Translate(axis, direction, container),\n  }\n  return engine\n}\n","export type DirectionOptionType = 'ltr' | 'rtl'\n\nexport type DirectionType = {\n  apply: (n: number) => number\n}\n\nexport function Direction(direction: DirectionOptionType): DirectionType {\n  const sign = direction === 'rtl' ? -1 : 1\n\n  function apply(n: number): number {\n    return n * sign\n  }\n\n  const self: DirectionType = {\n    apply,\n  }\n  return self\n}\n","import { DirectionOptionType } from './Direction'\n\nexport type AxisOptionType = 'x' | 'y'\ntype AxisEdgeType = 'top' | 'right' | 'bottom' | 'left'\n\nexport type AxisType = {\n  scroll: AxisOptionType\n  cross: AxisOptionType\n  startEdge: AxisEdgeType\n  endEdge: AxisEdgeType\n  measureSize: (rect: DOMRect) => number\n}\n\nexport function Axis(\n  axis: AxisOptionType,\n  direction: DirectionOptionType,\n): AxisType {\n  const scroll = axis === 'y' ? 'y' : 'x'\n  const cross = axis === 'y' ? 'x' : 'y'\n  const startEdge = getStartEdge()\n  const endEdge = getEndEdge()\n\n  function measureSize(rect: DOMRect): number {\n    const { width, height } = rect\n    return scroll === 'x' ? width : height\n  }\n\n  function getStartEdge(): AxisEdgeType {\n    if (scroll === 'y') return 'top'\n    return direction === 'rtl' ? 'right' : 'left'\n  }\n\n  function getEndEdge(): AxisEdgeType {\n    if (scroll === 'y') return 'bottom'\n    return direction === 'rtl' ? 'left' : 'right'\n  }\n\n  const self: AxisType = {\n    scroll,\n    cross,\n    startEdge,\n    endEdge,\n    measureSize,\n  }\n  return self\n}\n","export type PercentOfViewType = {\n  measure: (n: number) => number\n}\n\nexport function PercentOfView(viewSize: number): PercentOfViewType {\n  function measure(n: number): number {\n    return viewSize * (n / 100)\n  }\n\n  const self: PercentOfViewType = {\n    measure,\n  }\n  return self\n}\n","import { AxisType } from './Axis'\nimport { arrayLast, arrayLastIndex, mathAbs } from './utils'\n\nexport type SlideSizesType = {\n  slideSizes: number[]\n  slideSizesWithGaps: number[]\n}\n\nexport function SlideSizes(\n  axis: AxisType,\n  containerRect: DOMRect,\n  slideRects: DOMRect[],\n  slides: HTMLElement[],\n  readEdgeGap: boolean,\n): SlideSizesType {\n  const { measureSize, startEdge, endEdge } = axis\n  const withEdgeGap = slideRects[0] && readEdgeGap\n  const startGap = measureStartGap()\n  const endGap = measureEndGap()\n  const slideSizes = slideRects.map(measureSize)\n  const slideSizesWithGaps = measureWithGaps()\n\n  function measureStartGap(): number {\n    if (!withEdgeGap) return 0\n    const slideRect = slideRects[0]\n    return mathAbs(containerRect[startEdge] - slideRect[startEdge])\n  }\n\n  function measureEndGap(): number {\n    if (!withEdgeGap) return 0\n    const style = window.getComputedStyle(arrayLast(slides))\n    return parseFloat(style.getPropertyValue(`margin-${endEdge}`))\n  }\n\n  function measureWithGaps(): number[] {\n    return slideRects\n      .map((rect, index, rects) => {\n        const isFirst = !index\n        const isLast = index === arrayLastIndex(rects)\n        if (isFirst) return slideSizes[index] + startGap\n        if (isLast) return slideSizes[index] + endGap\n        return rects[index + 1][startEdge] - rect[startEdge]\n      })\n      .map(mathAbs)\n  }\n\n  const self: SlideSizesType = {\n    slideSizes,\n    slideSizesWithGaps,\n  }\n  return self\n}\n","import { AlignmentType } from './Alignment'\nimport { AxisType } from './Axis'\nimport { SlidesToScrollType } from './SlidesToScroll'\nimport { arrayLast, arrayLastIndex, mathAbs } from './utils'\n\nexport type ScrollSnapsType = {\n  snaps: number[]\n  snapsAligned: number[]\n}\n\nexport function ScrollSnaps(\n  axis: AxisType,\n  alignment: AlignmentType,\n  containerRect: DOMRect,\n  slideRects: DOMRect[],\n  slideSizesWithGaps: number[],\n  slidesToScroll: SlidesToScrollType,\n  containScroll: boolean,\n): ScrollSnapsType {\n  const { startEdge, endEdge } = axis\n  const { groupSlides } = slidesToScroll\n  const alignments = measureSizes().map(alignment.measure)\n  const snaps = measureUnaligned()\n  const snapsAligned = measureAligned()\n\n  function measureSizes(): number[] {\n    return groupSlides(slideRects)\n      .map((rects) => arrayLast(rects)[endEdge] - rects[0][startEdge])\n      .map(mathAbs)\n  }\n\n  function measureUnaligned(): number[] {\n    return slideRects\n      .map((rect) => containerRect[startEdge] - rect[startEdge])\n      .map((snap) => -mathAbs(snap))\n  }\n\n  function measureAligned(): number[] {\n    const containedStartSnap = 0\n    const containedEndSnap = arrayLast(snaps) - arrayLast(slideSizesWithGaps)\n\n    return groupSlides(snaps)\n      .map((g) => g[0])\n      .map((snap, index, groupedSnaps) => {\n        const isFirst = !index\n        const isLast = index === arrayLastIndex(groupedSnaps)\n        if (containScroll && isFirst) return containedStartSnap\n        if (containScroll && isLast) return containedEndSnap\n        return snap + alignments[index]\n      })\n  }\n\n  const self: ScrollSnapsType = {\n    snaps,\n    snapsAligned,\n  }\n  return self\n}\n","import { Limit, LimitType } from './Limit'\nimport { arrayLast } from './utils'\n\nexport type ScrollLimitType = {\n  limit: LimitType\n}\n\nexport function ScrollLimit(\n  contentSize: number,\n  scrollSnaps: number[],\n  loop: boolean,\n): ScrollLimitType {\n  const limit = measureLimit()\n\n  function measureLimit(): LimitType {\n    const startSnap = scrollSnaps[0]\n    const endSnap = arrayLast(scrollSnaps)\n    const min = loop ? startSnap - contentSize : endSnap\n    const max = startSnap\n    return Limit(min, max)\n  }\n\n  const self: ScrollLimitType = {\n    limit,\n  }\n  return self\n}\n","type CallbackType = () => void\n\nexport type AnimationType = {\n  start: () => void\n  stop: () => void\n  proceed: () => void\n}\n\nexport function Animation(callback: FrameRequestCallback): AnimationType {\n  let animationFrame = 0\n\n  function ifAnimating(active: boolean, cb: CallbackType): CallbackType {\n    return (): void => {\n      if (active === !!animationFrame) cb()\n    }\n  }\n\n  function start(): void {\n    animationFrame = window.requestAnimationFrame(callback)\n  }\n\n  function stop(): void {\n    window.cancelAnimationFrame(animationFrame)\n    animationFrame = 0\n  }\n\n  const self: AnimationType = {\n    proceed: ifAnimating(true, start),\n    start: ifAnimating(false, start),\n    stop: ifAnimating(true, stop),\n  }\n  return self\n}\n","import { AnimationType } from './Animation'\nimport { CounterType } from './Counter'\nimport { EventHandlerType } from './EventHandler'\nimport { ScrollTargetType, TargetType } from './ScrollTarget'\nimport { Vector1DType } from './Vector1d'\n\nexport type ScrollToType = {\n  distance: (n: number, snap: boolean) => void\n  index: (n: number, direction: number) => void\n}\n\nexport function ScrollTo(\n  animation: AnimationType,\n  indexCurrent: CounterType,\n  indexPrevious: CounterType,\n  scrollTarget: ScrollTargetType,\n  targetVector: Vector1DType,\n  eventHandler: EventHandlerType,\n): ScrollToType {\n  function scrollTo(target: TargetType): void {\n    const distanceDiff = target.distance\n    const indexDiff = target.index !== indexCurrent.get()\n\n    if (distanceDiff) {\n      animation.start()\n      targetVector.add(distanceDiff)\n    }\n    if (indexDiff) {\n      indexPrevious.set(indexCurrent.get())\n      indexCurrent.set(target.index)\n      eventHandler.emit('select')\n    }\n  }\n\n  function distance(n: number, snap: boolean): void {\n    const target = scrollTarget.byDistance(n, snap)\n    scrollTo(target)\n  }\n\n  function index(n: number, direction: number): void {\n    const targetIndex = indexCurrent.clone().set(n)\n    const target = scrollTarget.byIndex(targetIndex.get(), direction)\n    scrollTo(target)\n  }\n\n  const self: ScrollToType = {\n    distance,\n    index,\n  }\n  return self\n}\n","import { AxisOptionType, AxisType } from './Axis'\nimport { mathAbs } from './utils'\n\ntype PointerCoordType = keyof Touch | keyof MouseEvent\nexport type PointerEventType = TouchEvent | MouseEvent\n\nexport type DragTrackerType = {\n  isTouchEvent: (evt: PointerEventType) => evt is TouchEvent\n  pointerDown: (evt: PointerEventType) => number\n  pointerMove: (evt: PointerEventType) => number\n  pointerUp: (evt: PointerEventType) => number\n  readPoint: (evt: PointerEventType, evtAxis?: AxisOptionType) => number\n}\n\nexport function DragTracker(axis: AxisType): DragTrackerType {\n  const logInterval = 170\n\n  let startEvent: PointerEventType\n  let lastEvent: PointerEventType\n\n  function isTouchEvent(evt: PointerEventType): evt is TouchEvent {\n    return typeof TouchEvent !== 'undefined' && evt instanceof TouchEvent\n  }\n\n  function readTime(evt: PointerEventType): number {\n    return evt.timeStamp\n  }\n\n  function readPoint(evt: PointerEventType, evtAxis?: AxisOptionType): number {\n    const property = evtAxis || axis.scroll\n    const coord: PointerCoordType = `client${property === 'x' ? 'X' : 'Y'}`\n    return (isTouchEvent(evt) ? evt.touches[0] : evt)[coord]\n  }\n\n  function pointerDown(evt: PointerEventType): number {\n    startEvent = evt\n    lastEvent = evt\n    return readPoint(evt)\n  }\n\n  function pointerMove(evt: PointerEventType): number {\n    const diff = readPoint(evt) - readPoint(lastEvent)\n    const expired = readTime(evt) - readTime(startEvent) > logInterval\n\n    lastEvent = evt\n    if (expired) startEvent = evt\n    return diff\n  }\n\n  function pointerUp(evt: PointerEventType): number {\n    if (!startEvent || !lastEvent) return 0\n    const diffDrag = readPoint(lastEvent) - readPoint(startEvent)\n    const diffTime = readTime(evt) - readTime(startEvent)\n    const expired = readTime(evt) - readTime(lastEvent) > logInterval\n    const force = diffDrag / diffTime\n    const isFlick = diffTime && !expired && mathAbs(force) > 0.1\n\n    return isFlick ? force : 0\n  }\n\n  const self: DragTrackerType = {\n    isTouchEvent,\n    pointerDown,\n    pointerMove,\n    pointerUp,\n    readPoint,\n  }\n  return self\n}\n","import { AlignmentOptionType } from './Alignment'\nimport { AxisOptionType } from './Axis'\nimport { SlidesToScrollOptionType } from './SlidesToScroll'\nimport { DirectionOptionType } from './Direction'\nimport { ScrollContainOptionType } from './ScrollContain'\n\nexport type LooseOptionsType = {\n  [key: string]: unknown\n}\n\nexport type CreateOptionsType<Type extends LooseOptionsType> = Type & {\n  active: boolean\n  breakpoints: {\n    [key: string]: Omit<Partial<CreateOptionsType<Type>>, 'breakpoints'>\n  }\n}\n\nexport type OptionsType = CreateOptionsType<{\n  align: AlignmentOptionType\n  axis: AxisOptionType\n  containScroll: ScrollContainOptionType\n  direction: DirectionOptionType\n  slidesToScroll: SlidesToScrollOptionType\n  dragFree: boolean\n  draggable: boolean\n  inViewThreshold: number\n  loop: boolean\n  skipSnaps: boolean\n  speed: number\n  startIndex: number\n}>\n\nexport const defaultOptions: OptionsType = {\n  align: 'center',\n  axis: 'x',\n  containScroll: '',\n  direction: 'ltr',\n  slidesToScroll: 1,\n  breakpoints: {},\n  dragFree: false,\n  draggable: true,\n  inViewThreshold: 0,\n  loop: false,\n  skipSnaps: false,\n  speed: 10,\n  startIndex: 0,\n  active: true,\n}\n\nexport type EmblaOptionsType = Partial<OptionsType>\n","import { LooseOptionsType, CreateOptionsType } from './Options'\nimport { objectKeys, objectsAreEqual, objectsMergeDeep } from './utils'\n\ntype OptionsType = Partial<CreateOptionsType<LooseOptionsType>>\n\nexport type OptionsHandlerType = {\n  merge: <TypeA extends OptionsType, TypeB extends OptionsType>(\n    optionsA: TypeA,\n    optionsB?: TypeB,\n  ) => TypeA\n  areEqual: <TypeA extends OptionsType, TypeB extends OptionsType>(\n    optionsA: TypeA,\n    optionsB: TypeB,\n  ) => boolean\n  atMedia: <Type extends OptionsType>(options: Type) => Type\n}\n\nexport function OptionsHandler(): OptionsHandlerType {\n  function merge<TypeA extends OptionsType, TypeB extends OptionsType>(\n    optionsA: TypeA,\n    optionsB?: TypeB,\n  ): TypeA {\n    return <TypeA>objectsMergeDeep(optionsA, optionsB || {})\n  }\n\n  function areEqual<TypeA extends OptionsType, TypeB extends OptionsType>(\n    optionsA: TypeA,\n    optionsB: TypeB,\n  ): boolean {\n    const breakpointsA = JSON.stringify(objectKeys(optionsA.breakpoints || {}))\n    const breakpointsB = JSON.stringify(objectKeys(optionsB.breakpoints || {}))\n    if (breakpointsA !== breakpointsB) return false\n    return objectsAreEqual(optionsA, optionsB)\n  }\n\n  function atMedia<Type extends OptionsType>(options: Type): Type {\n    const optionsAtMedia = options.breakpoints || {}\n    const matchedMediaOptions = objectKeys(optionsAtMedia)\n      .filter((media) => window.matchMedia(media).matches)\n      .map((media) => optionsAtMedia[media])\n      .reduce((a, mediaOption) => merge(a, mediaOption), {})\n\n    return merge(options, matchedMediaOptions)\n  }\n\n  const self: OptionsHandlerType = {\n    merge,\n    areEqual,\n    atMedia,\n  }\n  return self\n}\n","import { Engine, EngineType } from './Engine'\nimport { EventStore } from './EventStore'\nimport { EventHandler, EventHandlerType } from './EventHandler'\nimport { defaultOptions, EmblaOptionsType } from './Options'\nimport { OptionsHandler } from './OptionsHandler'\nimport { PluginsHandler } from './PluginsHandler'\nimport { EmblaPluginsType, EmblaPluginType } from './Plugins'\n\nexport type EmblaNodesType = {\n  root: HTMLElement\n  container?: HTMLElement\n  slides?: HTMLElement[]\n}\n\nexport type EmblaCarouselType = {\n  canScrollNext: () => boolean\n  canScrollPrev: () => boolean\n  clickAllowed: () => boolean\n  containerNode: () => HTMLElement\n  internalEngine: () => EngineType\n  destroy: () => void\n  off: EventHandlerType['off']\n  on: EventHandlerType['on']\n  plugins: () => EmblaPluginsType\n  previousScrollSnap: () => number\n  reInit: (options?: EmblaOptionsType, plugins?: EmblaPluginType[]) => void\n  rootNode: () => HTMLElement\n  scrollNext: (jump?: boolean) => void\n  scrollPrev: (jump?: boolean) => void\n  scrollProgress: () => number\n  scrollSnapList: () => number[]\n  scrollTo: (index: number, jump?: boolean) => void\n  selectedScrollSnap: () => number\n  slideNodes: () => HTMLElement[]\n  slidesInView: (target?: boolean) => number[]\n  slidesNotInView: (target?: boolean) => number[]\n}\n\nfunction EmblaCarousel(\n  nodes: HTMLElement | EmblaNodesType,\n  userOptions?: EmblaOptionsType,\n  userPlugins?: EmblaPluginType[],\n): EmblaCarouselType {\n  const resizeHandlers = EventStore()\n  const optionsHandler = OptionsHandler()\n  const pluginsHandler = PluginsHandler()\n  const eventHandler = EventHandler()\n  const { on, off } = eventHandler\n  const reInit = reActivate\n\n  let destroyed = false\n  let engine: EngineType\n  let optionsBase = optionsHandler.merge(\n    defaultOptions,\n    EmblaCarousel.globalOptions,\n  )\n  let options = optionsHandler.merge(optionsBase)\n  let pluginList: EmblaPluginType[] = []\n  let pluginApis: EmblaPluginsType\n  let rootSize = 0\n  let root: HTMLElement\n  let container: HTMLElement\n  let slides: HTMLElement[]\n\n  function storeElements(): void {\n    const providedContainer = 'container' in nodes && nodes.container\n    const providedSlides = 'slides' in nodes && nodes.slides\n\n    root = 'root' in nodes ? nodes.root : nodes\n    container = providedContainer || <HTMLElement>root.children[0]\n    slides = providedSlides || [].slice.call(container.children)\n  }\n\n  function activate(\n    withOptions?: EmblaOptionsType,\n    withPlugins?: EmblaPluginType[],\n  ): void {\n    if (destroyed) return\n    storeElements()\n\n    optionsBase = optionsHandler.merge(optionsBase, withOptions)\n    options = optionsHandler.atMedia(optionsBase)\n    engine = Engine(root, container, slides, options, eventHandler)\n    rootSize = engine.axis.measureSize(root.getBoundingClientRect())\n\n    if (!options.active) return deActivate()\n\n    engine.translate.to(engine.location)\n    pluginList = withPlugins || pluginList\n    pluginApis = pluginsHandler.init(pluginList, self)\n\n    if (options.loop) {\n      if (!engine.slideLooper.canLoop()) {\n        deActivate()\n        activate({ loop: false }, withPlugins)\n        optionsBase = optionsHandler.merge(optionsBase, { loop: true })\n        return\n      }\n      engine.slideLooper.loop()\n    }\n    if (options.draggable && container.offsetParent && slides.length) {\n      engine.dragHandler.addActivationEvents()\n    }\n  }\n\n  function reActivate(\n    withOptions?: EmblaOptionsType,\n    withPlugins?: EmblaPluginType[],\n  ): void {\n    const startIndex = selectedScrollSnap()\n    deActivate()\n    activate(optionsHandler.merge({ startIndex }, withOptions), withPlugins)\n    eventHandler.emit('reInit')\n  }\n\n  function deActivate(): void {\n    engine.dragHandler.removeAllEvents()\n    engine.animation.stop()\n    engine.eventStore.removeAll()\n    engine.translate.clear()\n    engine.slideLooper.clear()\n    pluginsHandler.destroy()\n  }\n\n  function destroy(): void {\n    if (destroyed) return\n    destroyed = true\n    resizeHandlers.removeAll()\n    deActivate()\n    eventHandler.emit('destroy')\n  }\n\n  function resize(): void {\n    const newOptions = optionsHandler.atMedia(optionsBase)\n    const optionsChanged = !optionsHandler.areEqual(newOptions, options)\n    const newRootSize = engine.axis.measureSize(root.getBoundingClientRect())\n    const rootSizeChanged = rootSize !== newRootSize\n    const pluginsChanged = pluginsHandler.haveChanged()\n\n    if (rootSizeChanged || optionsChanged || pluginsChanged) reActivate()\n    eventHandler.emit('resize')\n  }\n\n  function slidesInView(target?: boolean): number[] {\n    const location = engine[target ? 'target' : 'location'].get()\n    const type = options.loop ? 'removeOffset' : 'constrain'\n    return engine.slidesInView.check(engine.limit[type](location))\n  }\n\n  function slidesNotInView(target?: boolean): number[] {\n    const inView = slidesInView(target)\n    return engine.slideIndexes.filter((index) => inView.indexOf(index) === -1)\n  }\n\n  function scrollTo(index: number, jump?: boolean, direction?: number): void {\n    if (!options.active || destroyed) return\n    engine.scrollBody.useBaseMass().useSpeed(jump ? 100 : options.speed)\n    engine.scrollTo.index(index, direction || 0)\n  }\n\n  function scrollNext(jump?: boolean): void {\n    const next = engine.index.clone().add(1)\n    scrollTo(next.get(), jump === true, -1)\n  }\n\n  function scrollPrev(jump?: boolean): void {\n    const prev = engine.index.clone().add(-1)\n    scrollTo(prev.get(), jump === true, 1)\n  }\n\n  function canScrollNext(): boolean {\n    const next = engine.index.clone().add(1)\n    return next.get() !== selectedScrollSnap()\n  }\n\n  function canScrollPrev(): boolean {\n    const prev = engine.index.clone().add(-1)\n    return prev.get() !== selectedScrollSnap()\n  }\n\n  function scrollSnapList(): number[] {\n    return engine.scrollSnaps.map(engine.scrollProgress.get)\n  }\n\n  function scrollProgress(): number {\n    return engine.scrollProgress.get(engine.location.get())\n  }\n\n  function selectedScrollSnap(): number {\n    return engine.index.get()\n  }\n\n  function previousScrollSnap(): number {\n    return engine.indexPrevious.get()\n  }\n\n  function clickAllowed(): boolean {\n    return engine.dragHandler.clickAllowed()\n  }\n\n  function plugins(): EmblaPluginsType {\n    return pluginApis\n  }\n\n  function internalEngine(): EngineType {\n    return engine\n  }\n\n  function rootNode(): HTMLElement {\n    return root\n  }\n\n  function containerNode(): HTMLElement {\n    return container\n  }\n\n  function slideNodes(): HTMLElement[] {\n    return slides\n  }\n\n  const self: EmblaCarouselType = {\n    canScrollNext,\n    canScrollPrev,\n    clickAllowed,\n    containerNode,\n    internalEngine,\n    destroy,\n    off,\n    on,\n    plugins,\n    previousScrollSnap,\n    reInit,\n    rootNode,\n    scrollNext,\n    scrollPrev,\n    scrollProgress,\n    scrollSnapList,\n    scrollTo,\n    selectedScrollSnap,\n    slideNodes,\n    slidesInView,\n    slidesNotInView,\n  }\n\n  activate(userOptions, userPlugins)\n  resizeHandlers.add(window, 'resize', resize)\n  setTimeout(() => eventHandler.emit('init'), 0)\n  return self\n}\n\nEmblaCarousel.globalOptions = <EmblaOptionsType | undefined>undefined\nEmblaCarousel.optionsHandler = OptionsHandler\n\nexport default EmblaCarousel\n","import { EmblaCarouselType } from '.'\nimport { OptionsHandler } from './OptionsHandler'\nimport { EmblaPluginsType, EmblaPluginType } from './Plugins'\n\ntype PluginChangedHandlerType = () => boolean\n\nexport type PluginsHandlerType = {\n  init: (\n    plugins: EmblaPluginType[],\n    embla: EmblaCarouselType,\n  ) => EmblaPluginsType\n  destroy: () => void\n  haveChanged: PluginChangedHandlerType\n}\n\nexport function PluginsHandler(): PluginsHandlerType {\n  const { atMedia, areEqual } = OptionsHandler()\n  let activePlugins: EmblaPluginType[] = []\n  let pluginsChanged: PluginChangedHandlerType[] = []\n\n  function haveChanged(): boolean {\n    return pluginsChanged.some((hasChanged) => hasChanged())\n  }\n\n  function hasChanged(plugin: EmblaPluginType): PluginChangedHandlerType {\n    const options = atMedia(plugin.options)\n    return (): boolean => !areEqual(options, atMedia(plugin.options))\n  }\n\n  function init(\n    plugins: EmblaPluginType[],\n    embla: EmblaCarouselType,\n  ): EmblaPluginsType {\n    pluginsChanged = plugins.map(hasChanged)\n    activePlugins = plugins.filter((plugin) => atMedia(plugin.options).active)\n    activePlugins.forEach((plugin) => plugin.init(embla))\n\n    return plugins.reduce((map, plugin) => {\n      return Object.assign(map, { [plugin.name]: plugin })\n    }, {})\n  }\n\n  function destroy(): void {\n    activePlugins = activePlugins.filter((plugin) => plugin.destroy())\n  }\n\n  const self: PluginsHandlerType = {\n    init,\n    destroy,\n    haveChanged,\n  }\n  return self\n}\n","type CallbackType = (evt: EmblaEventType) => void\ntype ListenersType = Partial<{ [key in EmblaEventType]: CallbackType[] }>\n\nexport type EmblaEventType =\n  | 'init'\n  | 'pointerDown'\n  | 'pointerUp'\n  | 'scroll'\n  | 'select'\n  | 'settle'\n  | 'destroy'\n  | 'reInit'\n  | 'resize'\n\nexport type EventHandlerType = {\n  emit: (evt: EmblaEventType) => EventHandlerType\n  on: (evt: EmblaEventType, cb: CallbackType) => EventHandlerType\n  off: (evt: EmblaEventType, cb: CallbackType) => EventHandlerType\n}\n\nexport function EventHandler(): EventHandlerType {\n  const listeners: ListenersType = {}\n\n  function getListeners(evt: EmblaEventType): CallbackType[] {\n    return listeners[evt] || []\n  }\n\n  function emit(evt: EmblaEventType): EventHandlerType {\n    getListeners(evt).forEach((e) => e(evt))\n    return self\n  }\n\n  function on(evt: EmblaEventType, cb: CallbackType): EventHandlerType {\n    listeners[evt] = getListeners(evt).concat([cb])\n    return self\n  }\n\n  function off(evt: EmblaEventType, cb: CallbackType): EventHandlerType {\n    listeners[evt] = getListeners(evt).filter((e) => e !== cb)\n    return self\n  }\n\n  const self: EventHandlerType = {\n    emit,\n    off,\n    on,\n  }\n  return self\n}\n","import EmblaCarousel, { EmblaPluginType } from 'embla-carousel'\n\nexport function canUseDOM(): boolean {\n  return !!(\n    typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement\n  )\n}\n\nexport function sortAndMapPluginToOptions(\n  plugins: EmblaPluginType[],\n): EmblaPluginType['options'][] {\n  return plugins\n    .concat()\n    .sort((a, b) => (a.name > b.name ? 1 : -1))\n    .map((plugin) => plugin.options)\n}\n\nexport function arePluginsEqual(\n  pluginsA: EmblaPluginType[],\n  pluginsB: EmblaPluginType[],\n): boolean {\n  if (pluginsA.length !== pluginsB.length) return false\n\n  const { areEqual } = EmblaCarousel.optionsHandler()\n  const optionsA = sortAndMapPluginToOptions(pluginsA)\n  const optionsB = sortAndMapPluginToOptions(pluginsB)\n\n  return optionsA.every((optionA, index) => {\n    const optionB = optionsB[index]\n    return areEqual(optionA, optionB)\n  })\n}\n","import { useRef, useEffect, useState, useCallback } from 'react'\nimport { arePluginsEqual, canUseDOM } from './utils'\nimport EmblaCarousel, {\n  EmblaCarouselType,\n  EmblaOptionsType,\n  EmblaPluginType,\n} from 'embla-carousel'\n\ntype EmblaViewportRefType = <ViewportElement extends HTMLElement>(\n  instance: ViewportElement | null,\n) => void\n\nexport type UseEmblaCarouselType = [\n  EmblaViewportRefType,\n  EmblaCarouselType | undefined,\n]\n\nfunction useEmblaCarousel(\n  options: EmblaOptionsType = {},\n  plugins: EmblaPluginType[] = [],\n): UseEmblaCarouselType {\n  const optionsHandler = useRef(EmblaCarousel.optionsHandler())\n  const storedOptions = useRef(options)\n  const storedPlugins = useRef(plugins)\n  const [embla, setEmbla] = useState<EmblaCarouselType>()\n  const [viewport, setViewport] = useState<HTMLElement>()\n\n  const reInit = useCallback(() => {\n    if (embla) embla.reInit(storedOptions.current, storedPlugins.current)\n  }, [embla])\n\n  useEffect(() => {\n    if (canUseDOM() && viewport) {\n      EmblaCarousel.globalOptions = useEmblaCarousel.globalOptions\n      const newEmbla = EmblaCarousel(\n        viewport,\n        storedOptions.current,\n        storedPlugins.current,\n      )\n      setEmbla(newEmbla)\n      return () => newEmbla.destroy()\n    } else {\n      setEmbla(undefined)\n    }\n  }, [viewport, setEmbla])\n\n  useEffect(() => {\n    if (optionsHandler.current.areEqual(storedOptions.current, options)) return\n\n    storedOptions.current = options\n    reInit()\n  }, [options, reInit])\n\n  useEffect(() => {\n    if (arePluginsEqual(storedPlugins.current, plugins)) return\n\n    storedPlugins.current = plugins\n    reInit()\n  }, [plugins, reInit])\n\n  return [<EmblaViewportRefType>setViewport, embla]\n}\n\nuseEmblaCarousel.globalOptions = <EmblaOptionsType | undefined>undefined\n\nexport default useEmblaCarousel\n","/*!\n * satellite-js v5.0.0\n * (c) 2013 Shashwat Kandadai and UCSC\n * https://github.com/shashwatak/satellite-js\n * License: MIT\n */\n\nvar pi = Math.PI;\nvar twoPi = pi * 2;\nvar deg2rad = pi / 180.0;\nvar rad2deg = 180 / pi;\nvar minutesPerDay = 1440.0;\nvar mu = 398600.8; // in km3 / s2\nvar earthRadius = 6378.135; // in km\nvar xke = 60.0 / Math.sqrt(earthRadius * earthRadius * earthRadius / mu);\nvar vkmpersec = earthRadius * xke / 60.0;\nvar tumin = 1.0 / xke;\nvar j2 = 0.001082616;\nvar j3 = -0.00000253881;\nvar j4 = -0.00000165597;\nvar j3oj2 = j3 / j2;\nvar x2o3 = 2.0 / 3.0;\n\nvar constants = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  deg2rad: deg2rad,\n  earthRadius: earthRadius,\n  j2: j2,\n  j3: j3,\n  j3oj2: j3oj2,\n  j4: j4,\n  minutesPerDay: minutesPerDay,\n  mu: mu,\n  pi: pi,\n  rad2deg: rad2deg,\n  tumin: tumin,\n  twoPi: twoPi,\n  vkmpersec: vkmpersec,\n  x2o3: x2o3,\n  xke: xke\n});\n\n/* -----------------------------------------------------------------------------\n *\n *                           procedure days2mdhms\n *\n *  this procedure converts the day of the year, days, to the equivalent month\n *    day, hour, minute and second.\n *\n *  algorithm     : set up array for the number of days per month\n *                  find leap year - use 1900 because 2000 is a leap year\n *                  loop through a temp value while the value is < the days\n *                  perform int conversions to the correct day and month\n *                  convert remainder into h m s using type conversions\n *\n *  author        : david vallado                  719-573-2600    1 mar 2001\n *\n *  inputs          description                    range / units\n *    year        - year                           1900 .. 2100\n *    days        - julian day of the year         0.0  .. 366.0\n *\n *  outputs       :\n *    mon         - month                          1 .. 12\n *    day         - day                            1 .. 28,29,30,31\n *    hr          - hour                           0 .. 23\n *    min         - minute                         0 .. 59\n *    sec         - second                         0.0 .. 59.999\n *\n *  locals        :\n *    dayofyr     - day of year\n *    temp        - temporary extended values\n *    inttemp     - temporary int value\n *    i           - index\n *    lmonth[12]  - int array containing the number of days per month\n *\n *  coupling      :\n *    none.\n * --------------------------------------------------------------------------- */\nfunction days2mdhms(year, days) {\n  var lmonth = [31, year % 4 === 0 ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n  var dayofyr = Math.floor(days);\n\n  //  ----------------- find month and day of month ----------------\n  var i = 1;\n  var inttemp = 0;\n  while (dayofyr > inttemp + lmonth[i - 1] && i < 12) {\n    inttemp += lmonth[i - 1];\n    i += 1;\n  }\n  var mon = i;\n  var day = dayofyr - inttemp;\n\n  //  ----------------- find hours minutes and seconds -------------\n  var temp = (days - dayofyr) * 24.0;\n  var hr = Math.floor(temp);\n  temp = (temp - hr) * 60.0;\n  var minute = Math.floor(temp);\n  var sec = (temp - minute) * 60.0;\n  return {\n    mon: mon,\n    day: day,\n    hr: hr,\n    minute: minute,\n    sec: sec\n  };\n}\n\n/* -----------------------------------------------------------------------------\n *\n *                           procedure jday\n *\n *  this procedure finds the julian date given the year, month, day, and time.\n *    the julian date is defined by each elapsed day since noon, jan 1, 4713 bc.\n *\n *  algorithm     : calculate the answer in one step for efficiency\n *\n *  author        : david vallado                  719-573-2600    1 mar 2001\n *\n *  inputs          description                    range / units\n *    year        - year                           1900 .. 2100\n *    mon         - month                          1 .. 12\n *    day         - day                            1 .. 28,29,30,31\n *    hr          - universal time hour            0 .. 23\n *    min         - universal time min             0 .. 59\n *    sec         - universal time sec             0.0 .. 59.999\n *\n *  outputs       :\n *    jd          - julian date                    days from 4713 bc\n *\n *  locals        :\n *    none.\n *\n *  coupling      :\n *    none.\n *\n *  references    :\n *    vallado       2007, 189, alg 14, ex 3-14\n *\n * --------------------------------------------------------------------------- */\nfunction jdayInternal(year, mon, day, hr, minute, sec) {\n  var msec = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;\n  return 367.0 * year - Math.floor(7 * (year + Math.floor((mon + 9) / 12.0)) * 0.25) + Math.floor(275 * mon / 9.0) + day + 1721013.5 + ((msec / 60000 + sec / 60.0 + minute) / 60.0 + hr) / 24.0 // ut in days\n  // # - 0.5*sgn(100.0*year + mon - 190002.5) + 0.5;\n  ;\n}\n\nfunction jday(year, mon, day, hr, minute, sec, msec) {\n  if (year instanceof Date) {\n    var date = year;\n    return jdayInternal(date.getUTCFullYear(), date.getUTCMonth() + 1,\n    // Note, this function requires months in range 1-12.\n    date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());\n  }\n  return jdayInternal(year, mon, day, hr, minute, sec, msec);\n}\n\n/* -----------------------------------------------------------------------------\n *\n *                           procedure invjday\n *\n *  this procedure finds the year, month, day, hour, minute and second\n *  given the julian date. tu can be ut1, tdt, tdb, etc.\n *\n *  algorithm     : set up starting values\n *                  find leap year - use 1900 because 2000 is a leap year\n *                  find the elapsed days through the year in a loop\n *                  call routine to find each individual value\n *\n *  author        : david vallado                  719-573-2600    1 mar 2001\n *\n *  inputs          description                    range / units\n *    jd          - julian date                    days from 4713 bc\n *\n *  outputs       :\n *    year        - year                           1900 .. 2100\n *    mon         - month                          1 .. 12\n *    day         - day                            1 .. 28,29,30,31\n *    hr          - hour                           0 .. 23\n *    min         - minute                         0 .. 59\n *    sec         - second                         0.0 .. 59.999\n *\n *  locals        :\n *    days        - day of year plus fractional\n *                  portion of a day               days\n *    tu          - julian centuries from 0 h\n *                  jan 0, 1900\n *    temp        - temporary double values\n *    leapyrs     - number of leap years from 1900\n *\n *  coupling      :\n *    days2mdhms  - finds month, day, hour, minute and second given days and year\n *\n *  references    :\n *    vallado       2007, 208, alg 22, ex 3-13\n * --------------------------------------------------------------------------- */\nfunction invjday(jd, asArray) {\n  // --------------- find year and days of the year -\n  var temp = jd - 2415019.5;\n  var tu = temp / 365.25;\n  var year = 1900 + Math.floor(tu);\n  var leapyrs = Math.floor((year - 1901) * 0.25);\n\n  // optional nudge by 8.64x10-7 sec to get even outputs\n  var days = temp - ((year - 1900) * 365.0 + leapyrs) + 0.00000000001;\n\n  // ------------ check for case of beginning of a year -----------\n  if (days < 1.0) {\n    year -= 1;\n    leapyrs = Math.floor((year - 1901) * 0.25);\n    days = temp - ((year - 1900) * 365.0 + leapyrs);\n  }\n\n  // ----------------- find remaing data  -------------------------\n  var mdhms = days2mdhms(year, days);\n  var mon = mdhms.mon,\n    day = mdhms.day,\n    hr = mdhms.hr,\n    minute = mdhms.minute;\n  var sec = mdhms.sec - 0.00000086400;\n  if (asArray) {\n    return [year, mon, day, hr, minute, Math.floor(sec)];\n  }\n  return new Date(Date.UTC(year, mon - 1, day, hr, minute, Math.floor(sec)));\n}\n\n/* -----------------------------------------------------------------------------\n *\n *                           procedure dpper\n *\n *  this procedure provides deep space long period periodic contributions\n *    to the mean elements.  by design, these periodics are zero at epoch.\n *    this used to be dscom which included initialization, but it's really a\n *    recurring function.\n *\n *  author        : david vallado                  719-573-2600   28 jun 2005\n *\n *  inputs        :\n *    e3          -\n *    ee2         -\n *    peo         -\n *    pgho        -\n *    pho         -\n *    pinco       -\n *    plo         -\n *    se2 , se3 , sgh2, sgh3, sgh4, sh2, sh3, si2, si3, sl2, sl3, sl4 -\n *    t           -\n *    xh2, xh3, xi2, xi3, xl2, xl3, xl4 -\n *    zmol        -\n *    zmos        -\n *    ep          - eccentricity                           0.0 - 1.0\n *    inclo       - inclination - needed for lyddane modification\n *    nodep       - right ascension of ascending node\n *    argpp       - argument of perigee\n *    mp          - mean anomaly\n *\n *  outputs       :\n *    ep          - eccentricity                           0.0 - 1.0\n *    inclp       - inclination\n *    nodep        - right ascension of ascending node\n *    argpp       - argument of perigee\n *    mp          - mean anomaly\n *\n *  locals        :\n *    alfdp       -\n *    betdp       -\n *    cosip  , sinip  , cosop  , sinop  ,\n *    dalf        -\n *    dbet        -\n *    dls         -\n *    f2, f3      -\n *    pe          -\n *    pgh         -\n *    ph          -\n *    pinc        -\n *    pl          -\n *    sel   , ses   , sghl  , sghs  , shl   , shs   , sil   , sinzf , sis   ,\n *    sll   , sls\n *    xls         -\n *    xnoh        -\n *    zf          -\n *    zm          -\n *\n *  coupling      :\n *    none.\n *\n *  references    :\n *    hoots, roehrich, norad spacetrack report #3 1980\n *    hoots, norad spacetrack report #6 1986\n *    hoots, schumacher and glover 2004\n *    vallado, crawford, hujsak, kelso  2006\n ----------------------------------------------------------------------------*/\nfunction dpper(satrec, options) {\n  var e3 = satrec.e3,\n    ee2 = satrec.ee2,\n    peo = satrec.peo,\n    pgho = satrec.pgho,\n    pho = satrec.pho,\n    pinco = satrec.pinco,\n    plo = satrec.plo,\n    se2 = satrec.se2,\n    se3 = satrec.se3,\n    sgh2 = satrec.sgh2,\n    sgh3 = satrec.sgh3,\n    sgh4 = satrec.sgh4,\n    sh2 = satrec.sh2,\n    sh3 = satrec.sh3,\n    si2 = satrec.si2,\n    si3 = satrec.si3,\n    sl2 = satrec.sl2,\n    sl3 = satrec.sl3,\n    sl4 = satrec.sl4,\n    t = satrec.t,\n    xgh2 = satrec.xgh2,\n    xgh3 = satrec.xgh3,\n    xgh4 = satrec.xgh4,\n    xh2 = satrec.xh2,\n    xh3 = satrec.xh3,\n    xi2 = satrec.xi2,\n    xi3 = satrec.xi3,\n    xl2 = satrec.xl2,\n    xl3 = satrec.xl3,\n    xl4 = satrec.xl4,\n    zmol = satrec.zmol,\n    zmos = satrec.zmos;\n  var init = options.init,\n    opsmode = options.opsmode;\n  var ep = options.ep,\n    inclp = options.inclp,\n    nodep = options.nodep,\n    argpp = options.argpp,\n    mp = options.mp;\n\n  // Copy satellite attributes into local variables for convenience\n  // and symmetry in writing formulae.\n\n  var alfdp;\n  var betdp;\n  var cosip;\n  var sinip;\n  var cosop;\n  var sinop;\n  var dalf;\n  var dbet;\n  var dls;\n  var f2;\n  var f3;\n  var pe;\n  var pgh;\n  var ph;\n  var pinc;\n  var pl;\n  var sinzf;\n  var xls;\n  var xnoh;\n  var zf;\n  var zm;\n\n  //  ---------------------- constants -----------------------------\n  var zns = 1.19459e-5;\n  var zes = 0.01675;\n  var znl = 1.5835218e-4;\n  var zel = 0.05490;\n\n  //  --------------- calculate time varying periodics -----------\n  zm = zmos + zns * t;\n\n  // be sure that the initial call has time set to zero\n  if (init === 'y') {\n    zm = zmos;\n  }\n  zf = zm + 2.0 * zes * Math.sin(zm);\n  sinzf = Math.sin(zf);\n  f2 = 0.5 * sinzf * sinzf - 0.25;\n  f3 = -0.5 * sinzf * Math.cos(zf);\n  var ses = se2 * f2 + se3 * f3;\n  var sis = si2 * f2 + si3 * f3;\n  var sls = sl2 * f2 + sl3 * f3 + sl4 * sinzf;\n  var sghs = sgh2 * f2 + sgh3 * f3 + sgh4 * sinzf;\n  var shs = sh2 * f2 + sh3 * f3;\n  zm = zmol + znl * t;\n  if (init === 'y') {\n    zm = zmol;\n  }\n  zf = zm + 2.0 * zel * Math.sin(zm);\n  sinzf = Math.sin(zf);\n  f2 = 0.5 * sinzf * sinzf - 0.25;\n  f3 = -0.5 * sinzf * Math.cos(zf);\n  var sel = ee2 * f2 + e3 * f3;\n  var sil = xi2 * f2 + xi3 * f3;\n  var sll = xl2 * f2 + xl3 * f3 + xl4 * sinzf;\n  var sghl = xgh2 * f2 + xgh3 * f3 + xgh4 * sinzf;\n  var shll = xh2 * f2 + xh3 * f3;\n  pe = ses + sel;\n  pinc = sis + sil;\n  pl = sls + sll;\n  pgh = sghs + sghl;\n  ph = shs + shll;\n  if (init === 'n') {\n    pe -= peo;\n    pinc -= pinco;\n    pl -= plo;\n    pgh -= pgho;\n    ph -= pho;\n    inclp += pinc;\n    ep += pe;\n    sinip = Math.sin(inclp);\n    cosip = Math.cos(inclp);\n\n    /* ----------------- apply periodics directly ------------ */\n    // sgp4fix for lyddane choice\n    // strn3 used original inclination - this is technically feasible\n    // gsfc used perturbed inclination - also technically feasible\n    // probably best to readjust the 0.2 limit value and limit discontinuity\n    // 0.2 rad = 11.45916 deg\n    // use next line for original strn3 approach and original inclination\n    // if (inclo >= 0.2)\n    // use next line for gsfc version and perturbed inclination\n    if (inclp >= 0.2) {\n      ph /= sinip;\n      pgh -= cosip * ph;\n      argpp += pgh;\n      nodep += ph;\n      mp += pl;\n    } else {\n      //  ---- apply periodics with lyddane modification ----\n      sinop = Math.sin(nodep);\n      cosop = Math.cos(nodep);\n      alfdp = sinip * sinop;\n      betdp = sinip * cosop;\n      dalf = ph * cosop + pinc * cosip * sinop;\n      dbet = -ph * sinop + pinc * cosip * cosop;\n      alfdp += dalf;\n      betdp += dbet;\n      nodep %= twoPi;\n\n      //  sgp4fix for afspc written intrinsic functions\n      //  nodep used without a trigonometric function ahead\n      if (nodep < 0.0 && opsmode === 'a') {\n        nodep += twoPi;\n      }\n      xls = mp + argpp + cosip * nodep;\n      dls = pl + pgh - pinc * nodep * sinip;\n      xls += dls;\n      xnoh = nodep;\n      nodep = Math.atan2(alfdp, betdp);\n\n      //  sgp4fix for afspc written intrinsic functions\n      //  nodep used without a trigonometric function ahead\n      if (nodep < 0.0 && opsmode === 'a') {\n        nodep += twoPi;\n      }\n      if (Math.abs(xnoh - nodep) > pi) {\n        if (nodep < xnoh) {\n          nodep += twoPi;\n        } else {\n          nodep -= twoPi;\n        }\n      }\n      mp += pl;\n      argpp = xls - mp - cosip * nodep;\n    }\n  }\n  return {\n    ep: ep,\n    inclp: inclp,\n    nodep: nodep,\n    argpp: argpp,\n    mp: mp\n  };\n}\n\n/*-----------------------------------------------------------------------------\n *\n *                           procedure dscom\n *\n *  this procedure provides deep space common items used by both the secular\n *    and periodics subroutines.  input is provided as shown. this routine\n *    used to be called dpper, but the functions inside weren't well organized.\n *\n *  author        : david vallado                  719-573-2600   28 jun 2005\n *\n *  inputs        :\n *    epoch       -\n *    ep          - eccentricity\n *    argpp       - argument of perigee\n *    tc          -\n *    inclp       - inclination\n *    nodep       - right ascension of ascending node\n *    np          - mean motion\n *\n *  outputs       :\n *    sinim  , cosim  , sinomm , cosomm , snodm  , cnodm\n *    day         -\n *    e3          -\n *    ee2         -\n *    em          - eccentricity\n *    emsq        - eccentricity squared\n *    gam         -\n *    peo         -\n *    pgho        -\n *    pho         -\n *    pinco       -\n *    plo         -\n *    rtemsq      -\n *    se2, se3         -\n *    sgh2, sgh3, sgh4        -\n *    sh2, sh3, si2, si3, sl2, sl3, sl4         -\n *    s1, s2, s3, s4, s5, s6, s7          -\n *    ss1, ss2, ss3, ss4, ss5, ss6, ss7, sz1, sz2, sz3         -\n *    sz11, sz12, sz13, sz21, sz22, sz23, sz31, sz32, sz33        -\n *    xgh2, xgh3, xgh4, xh2, xh3, xi2, xi3, xl2, xl3, xl4         -\n *    nm          - mean motion\n *    z1, z2, z3, z11, z12, z13, z21, z22, z23, z31, z32, z33         -\n *    zmol        -\n *    zmos        -\n *\n *  locals        :\n *    a1, a2, a3, a4, a5, a6, a7, a8, a9, a10         -\n *    betasq      -\n *    cc          -\n *    ctem, stem        -\n *    x1, x2, x3, x4, x5, x6, x7, x8          -\n *    xnodce      -\n *    xnoi        -\n *    zcosg  , zsing  , zcosgl , zsingl , zcosh  , zsinh  , zcoshl , zsinhl ,\n *    zcosi  , zsini  , zcosil , zsinil ,\n *    zx          -\n *    zy          -\n *\n *  coupling      :\n *    none.\n *\n *  references    :\n *    hoots, roehrich, norad spacetrack report #3 1980\n *    hoots, norad spacetrack report #6 1986\n *    hoots, schumacher and glover 2004\n *    vallado, crawford, hujsak, kelso  2006\n ----------------------------------------------------------------------------*/\nfunction dscom(options) {\n  var epoch = options.epoch,\n    ep = options.ep,\n    argpp = options.argpp,\n    tc = options.tc,\n    inclp = options.inclp,\n    nodep = options.nodep,\n    np = options.np;\n  var a1;\n  var a2;\n  var a3;\n  var a4;\n  var a5;\n  var a6;\n  var a7;\n  var a8;\n  var a9;\n  var a10;\n  var cc;\n  var x1;\n  var x2;\n  var x3;\n  var x4;\n  var x5;\n  var x6;\n  var x7;\n  var x8;\n  var zcosg;\n  var zsing;\n  var zcosh;\n  var zsinh;\n  var zcosi;\n  var zsini;\n  var ss1;\n  var ss2;\n  var ss3;\n  var ss4;\n  var ss5;\n  var ss6;\n  var ss7;\n  var sz1;\n  var sz2;\n  var sz3;\n  var sz11;\n  var sz12;\n  var sz13;\n  var sz21;\n  var sz22;\n  var sz23;\n  var sz31;\n  var sz32;\n  var sz33;\n  var s1;\n  var s2;\n  var s3;\n  var s4;\n  var s5;\n  var s6;\n  var s7;\n  var z1;\n  var z2;\n  var z3;\n  var z11;\n  var z12;\n  var z13;\n  var z21;\n  var z22;\n  var z23;\n  var z31;\n  var z32;\n  var z33;\n\n  // -------------------------- constants -------------------------\n  var zes = 0.01675;\n  var zel = 0.05490;\n  var c1ss = 2.9864797e-6;\n  var c1l = 4.7968065e-7;\n  var zsinis = 0.39785416;\n  var zcosis = 0.91744867;\n  var zcosgs = 0.1945905;\n  var zsings = -0.98088458;\n\n  //  --------------------- local variables ------------------------\n  var nm = np;\n  var em = ep;\n  var snodm = Math.sin(nodep);\n  var cnodm = Math.cos(nodep);\n  var sinomm = Math.sin(argpp);\n  var cosomm = Math.cos(argpp);\n  var sinim = Math.sin(inclp);\n  var cosim = Math.cos(inclp);\n  var emsq = em * em;\n  var betasq = 1.0 - emsq;\n  var rtemsq = Math.sqrt(betasq);\n\n  //  ----------------- initialize lunar solar terms ---------------\n  var peo = 0.0;\n  var pinco = 0.0;\n  var plo = 0.0;\n  var pgho = 0.0;\n  var pho = 0.0;\n  var day = epoch + 18261.5 + tc / 1440.0;\n  var xnodce = (4.5236020 - 9.2422029e-4 * day) % twoPi;\n  var stem = Math.sin(xnodce);\n  var ctem = Math.cos(xnodce);\n  var zcosil = 0.91375164 - 0.03568096 * ctem;\n  var zsinil = Math.sqrt(1.0 - zcosil * zcosil);\n  var zsinhl = 0.089683511 * stem / zsinil;\n  var zcoshl = Math.sqrt(1.0 - zsinhl * zsinhl);\n  var gam = 5.8351514 + 0.0019443680 * day;\n  var zx = 0.39785416 * stem / zsinil;\n  var zy = zcoshl * ctem + 0.91744867 * zsinhl * stem;\n  zx = Math.atan2(zx, zy);\n  zx += gam - xnodce;\n  var zcosgl = Math.cos(zx);\n  var zsingl = Math.sin(zx);\n\n  //  ------------------------- do solar terms ---------------------\n  zcosg = zcosgs;\n  zsing = zsings;\n  zcosi = zcosis;\n  zsini = zsinis;\n  zcosh = cnodm;\n  zsinh = snodm;\n  cc = c1ss;\n  var xnoi = 1.0 / nm;\n  var lsflg = 0;\n  while (lsflg < 2) {\n    lsflg += 1;\n    a1 = zcosg * zcosh + zsing * zcosi * zsinh;\n    a3 = -zsing * zcosh + zcosg * zcosi * zsinh;\n    a7 = -zcosg * zsinh + zsing * zcosi * zcosh;\n    a8 = zsing * zsini;\n    a9 = zsing * zsinh + zcosg * zcosi * zcosh;\n    a10 = zcosg * zsini;\n    a2 = cosim * a7 + sinim * a8;\n    a4 = cosim * a9 + sinim * a10;\n    a5 = -sinim * a7 + cosim * a8;\n    a6 = -sinim * a9 + cosim * a10;\n    x1 = a1 * cosomm + a2 * sinomm;\n    x2 = a3 * cosomm + a4 * sinomm;\n    x3 = -a1 * sinomm + a2 * cosomm;\n    x4 = -a3 * sinomm + a4 * cosomm;\n    x5 = a5 * sinomm;\n    x6 = a6 * sinomm;\n    x7 = a5 * cosomm;\n    x8 = a6 * cosomm;\n    z31 = 12.0 * x1 * x1 - 3.0 * x3 * x3;\n    z32 = 24.0 * x1 * x2 - 6.0 * x3 * x4;\n    z33 = 12.0 * x2 * x2 - 3.0 * x4 * x4;\n    z1 = 3.0 * (a1 * a1 + a2 * a2) + z31 * emsq;\n    z2 = 6.0 * (a1 * a3 + a2 * a4) + z32 * emsq;\n    z3 = 3.0 * (a3 * a3 + a4 * a4) + z33 * emsq;\n    z11 = -6.0 * a1 * a5 + emsq * (-24.0 * x1 * x7 - 6.0 * x3 * x5);\n    z12 = -6.0 * (a1 * a6 + a3 * a5) + emsq * (-24.0 * (x2 * x7 + x1 * x8) + -6.0 * (x3 * x6 + x4 * x5));\n    z13 = -6.0 * a3 * a6 + emsq * (-24.0 * x2 * x8 - 6.0 * x4 * x6);\n    z21 = 6.0 * a2 * a5 + emsq * (24.0 * x1 * x5 - 6.0 * x3 * x7);\n    z22 = 6.0 * (a4 * a5 + a2 * a6) + emsq * (24.0 * (x2 * x5 + x1 * x6) - 6.0 * (x4 * x7 + x3 * x8));\n    z23 = 6.0 * a4 * a6 + emsq * (24.0 * x2 * x6 - 6.0 * x4 * x8);\n    z1 = z1 + z1 + betasq * z31;\n    z2 = z2 + z2 + betasq * z32;\n    z3 = z3 + z3 + betasq * z33;\n    s3 = cc * xnoi;\n    s2 = -0.5 * s3 / rtemsq;\n    s4 = s3 * rtemsq;\n    s1 = -15.0 * em * s4;\n    s5 = x1 * x3 + x2 * x4;\n    s6 = x2 * x3 + x1 * x4;\n    s7 = x2 * x4 - x1 * x3;\n\n    //  ----------------------- do lunar terms -------------------\n    if (lsflg === 1) {\n      ss1 = s1;\n      ss2 = s2;\n      ss3 = s3;\n      ss4 = s4;\n      ss5 = s5;\n      ss6 = s6;\n      ss7 = s7;\n      sz1 = z1;\n      sz2 = z2;\n      sz3 = z3;\n      sz11 = z11;\n      sz12 = z12;\n      sz13 = z13;\n      sz21 = z21;\n      sz22 = z22;\n      sz23 = z23;\n      sz31 = z31;\n      sz32 = z32;\n      sz33 = z33;\n      zcosg = zcosgl;\n      zsing = zsingl;\n      zcosi = zcosil;\n      zsini = zsinil;\n      zcosh = zcoshl * cnodm + zsinhl * snodm;\n      zsinh = snodm * zcoshl - cnodm * zsinhl;\n      cc = c1l;\n    }\n  }\n  var zmol = (4.7199672 + (0.22997150 * day - gam)) % twoPi;\n  var zmos = (6.2565837 + 0.017201977 * day) % twoPi;\n\n  //  ------------------------ do solar terms ----------------------\n  var se2 = 2.0 * ss1 * ss6;\n  var se3 = 2.0 * ss1 * ss7;\n  var si2 = 2.0 * ss2 * sz12;\n  var si3 = 2.0 * ss2 * (sz13 - sz11);\n  var sl2 = -2.0 * ss3 * sz2;\n  var sl3 = -2.0 * ss3 * (sz3 - sz1);\n  var sl4 = -2.0 * ss3 * (-21.0 - 9.0 * emsq) * zes;\n  var sgh2 = 2.0 * ss4 * sz32;\n  var sgh3 = 2.0 * ss4 * (sz33 - sz31);\n  var sgh4 = -18.0 * ss4 * zes;\n  var sh2 = -2.0 * ss2 * sz22;\n  var sh3 = -2.0 * ss2 * (sz23 - sz21);\n\n  //  ------------------------ do lunar terms ----------------------\n  var ee2 = 2.0 * s1 * s6;\n  var e3 = 2.0 * s1 * s7;\n  var xi2 = 2.0 * s2 * z12;\n  var xi3 = 2.0 * s2 * (z13 - z11);\n  var xl2 = -2.0 * s3 * z2;\n  var xl3 = -2.0 * s3 * (z3 - z1);\n  var xl4 = -2.0 * s3 * (-21.0 - 9.0 * emsq) * zel;\n  var xgh2 = 2.0 * s4 * z32;\n  var xgh3 = 2.0 * s4 * (z33 - z31);\n  var xgh4 = -18.0 * s4 * zel;\n  var xh2 = -2.0 * s2 * z22;\n  var xh3 = -2.0 * s2 * (z23 - z21);\n  return {\n    snodm: snodm,\n    cnodm: cnodm,\n    sinim: sinim,\n    cosim: cosim,\n    sinomm: sinomm,\n    cosomm: cosomm,\n    day: day,\n    e3: e3,\n    ee2: ee2,\n    em: em,\n    emsq: emsq,\n    gam: gam,\n    peo: peo,\n    pgho: pgho,\n    pho: pho,\n    pinco: pinco,\n    plo: plo,\n    rtemsq: rtemsq,\n    se2: se2,\n    se3: se3,\n    sgh2: sgh2,\n    sgh3: sgh3,\n    sgh4: sgh4,\n    sh2: sh2,\n    sh3: sh3,\n    si2: si2,\n    si3: si3,\n    sl2: sl2,\n    sl3: sl3,\n    sl4: sl4,\n    s1: s1,\n    s2: s2,\n    s3: s3,\n    s4: s4,\n    s5: s5,\n    s6: s6,\n    s7: s7,\n    ss1: ss1,\n    ss2: ss2,\n    ss3: ss3,\n    ss4: ss4,\n    ss5: ss5,\n    ss6: ss6,\n    ss7: ss7,\n    sz1: sz1,\n    sz2: sz2,\n    sz3: sz3,\n    sz11: sz11,\n    sz12: sz12,\n    sz13: sz13,\n    sz21: sz21,\n    sz22: sz22,\n    sz23: sz23,\n    sz31: sz31,\n    sz32: sz32,\n    sz33: sz33,\n    xgh2: xgh2,\n    xgh3: xgh3,\n    xgh4: xgh4,\n    xh2: xh2,\n    xh3: xh3,\n    xi2: xi2,\n    xi3: xi3,\n    xl2: xl2,\n    xl3: xl3,\n    xl4: xl4,\n    nm: nm,\n    z1: z1,\n    z2: z2,\n    z3: z3,\n    z11: z11,\n    z12: z12,\n    z13: z13,\n    z21: z21,\n    z22: z22,\n    z23: z23,\n    z31: z31,\n    z32: z32,\n    z33: z33,\n    zmol: zmol,\n    zmos: zmos\n  };\n}\n\n/*-----------------------------------------------------------------------------\n *\n *                           procedure dsinit\n *\n *  this procedure provides deep space contributions to mean motion dot due\n *    to geopotential resonance with half day and one day orbits.\n *\n *  author        : david vallado                  719-573-2600   28 jun 2005\n *\n *  inputs        :\n *    cosim, sinim-\n *    emsq        - eccentricity squared\n *    argpo       - argument of perigee\n *    s1, s2, s3, s4, s5      -\n *    ss1, ss2, ss3, ss4, ss5 -\n *    sz1, sz3, sz11, sz13, sz21, sz23, sz31, sz33 -\n *    t           - time\n *    tc          -\n *    gsto        - greenwich sidereal time                   rad\n *    mo          - mean anomaly\n *    mdot        - mean anomaly dot (rate)\n *    no          - mean motion\n *    nodeo       - right ascension of ascending node\n *    nodedot     - right ascension of ascending node dot (rate)\n *    xpidot      -\n *    z1, z3, z11, z13, z21, z23, z31, z33 -\n *    eccm        - eccentricity\n *    argpm       - argument of perigee\n *    inclm       - inclination\n *    mm          - mean anomaly\n *    xn          - mean motion\n *    nodem       - right ascension of ascending node\n *\n *  outputs       :\n *    em          - eccentricity\n *    argpm       - argument of perigee\n *    inclm       - inclination\n *    mm          - mean anomaly\n *    nm          - mean motion\n *    nodem       - right ascension of ascending node\n *    irez        - flag for resonance           0-none, 1-one day, 2-half day\n *    atime       -\n *    d2201, d2211, d3210, d3222, d4410, d4422, d5220, d5232, d5421, d5433    -\n *    dedt        -\n *    didt        -\n *    dmdt        -\n *    dndt        -\n *    dnodt       -\n *    domdt       -\n *    del1, del2, del3        -\n *    ses  , sghl , sghs , sgs  , shl  , shs  , sis  , sls\n *    theta       -\n *    xfact       -\n *    xlamo       -\n *    xli         -\n *    xni\n *\n *  locals        :\n *    ainv2       -\n *    aonv        -\n *    cosisq      -\n *    eoc         -\n *    f220, f221, f311, f321, f322, f330, f441, f442, f522, f523, f542, f543  -\n *    g200, g201, g211, g300, g310, g322, g410, g422, g520, g521, g532, g533  -\n *    sini2       -\n *    temp        -\n *    temp1       -\n *    theta       -\n *    xno2        -\n *\n *  coupling      :\n *    getgravconst\n *\n *  references    :\n *    hoots, roehrich, norad spacetrack report #3 1980\n *    hoots, norad spacetrack report #6 1986\n *    hoots, schumacher and glover 2004\n *    vallado, crawford, hujsak, kelso  2006\n ----------------------------------------------------------------------------*/\nfunction dsinit(options) {\n  var cosim = options.cosim,\n    argpo = options.argpo,\n    s1 = options.s1,\n    s2 = options.s2,\n    s3 = options.s3,\n    s4 = options.s4,\n    s5 = options.s5,\n    sinim = options.sinim,\n    ss1 = options.ss1,\n    ss2 = options.ss2,\n    ss3 = options.ss3,\n    ss4 = options.ss4,\n    ss5 = options.ss5,\n    sz1 = options.sz1,\n    sz3 = options.sz3,\n    sz11 = options.sz11,\n    sz13 = options.sz13,\n    sz21 = options.sz21,\n    sz23 = options.sz23,\n    sz31 = options.sz31,\n    sz33 = options.sz33,\n    t = options.t,\n    tc = options.tc,\n    gsto = options.gsto,\n    mo = options.mo,\n    mdot = options.mdot,\n    no = options.no,\n    nodeo = options.nodeo,\n    nodedot = options.nodedot,\n    xpidot = options.xpidot,\n    z1 = options.z1,\n    z3 = options.z3,\n    z11 = options.z11,\n    z13 = options.z13,\n    z21 = options.z21,\n    z23 = options.z23,\n    z31 = options.z31,\n    z33 = options.z33,\n    ecco = options.ecco,\n    eccsq = options.eccsq;\n  var emsq = options.emsq,\n    em = options.em,\n    argpm = options.argpm,\n    inclm = options.inclm,\n    mm = options.mm,\n    nm = options.nm,\n    nodem = options.nodem,\n    irez = options.irez,\n    atime = options.atime,\n    d2201 = options.d2201,\n    d2211 = options.d2211,\n    d3210 = options.d3210,\n    d3222 = options.d3222,\n    d4410 = options.d4410,\n    d4422 = options.d4422,\n    d5220 = options.d5220,\n    d5232 = options.d5232,\n    d5421 = options.d5421,\n    d5433 = options.d5433,\n    dedt = options.dedt,\n    didt = options.didt,\n    dmdt = options.dmdt,\n    dnodt = options.dnodt,\n    domdt = options.domdt,\n    del1 = options.del1,\n    del2 = options.del2,\n    del3 = options.del3,\n    xfact = options.xfact,\n    xlamo = options.xlamo,\n    xli = options.xli,\n    xni = options.xni;\n  var f220;\n  var f221;\n  var f311;\n  var f321;\n  var f322;\n  var f330;\n  var f441;\n  var f442;\n  var f522;\n  var f523;\n  var f542;\n  var f543;\n  var g200;\n  var g201;\n  var g211;\n  var g300;\n  var g310;\n  var g322;\n  var g410;\n  var g422;\n  var g520;\n  var g521;\n  var g532;\n  var g533;\n  var sini2;\n  var temp;\n  var temp1;\n  var xno2;\n  var ainv2;\n  var aonv;\n  var cosisq;\n  var eoc;\n  var q22 = 1.7891679e-6;\n  var q31 = 2.1460748e-6;\n  var q33 = 2.2123015e-7;\n  var root22 = 1.7891679e-6;\n  var root44 = 7.3636953e-9;\n  var root54 = 2.1765803e-9;\n  // eslint-disable-next-line no-loss-of-precision\n  var rptim = 4.37526908801129966e-3; // equates to 7.29211514668855e-5 rad/sec\n  var root32 = 3.7393792e-7;\n  var root52 = 1.1428639e-7;\n  var znl = 1.5835218e-4;\n  var zns = 1.19459e-5;\n\n  // -------------------- deep space initialization ------------\n  irez = 0;\n  if (nm < 0.0052359877 && nm > 0.0034906585) {\n    irez = 1;\n  }\n  if (nm >= 8.26e-3 && nm <= 9.24e-3 && em >= 0.5) {\n    irez = 2;\n  }\n\n  // ------------------------ do solar terms -------------------\n  var ses = ss1 * zns * ss5;\n  var sis = ss2 * zns * (sz11 + sz13);\n  var sls = -zns * ss3 * (sz1 + sz3 - 14.0 - 6.0 * emsq);\n  var sghs = ss4 * zns * (sz31 + sz33 - 6.0);\n  var shs = -zns * ss2 * (sz21 + sz23);\n\n  // sgp4fix for 180 deg incl\n  if (inclm < 5.2359877e-2 || inclm > pi - 5.2359877e-2) {\n    shs = 0.0;\n  }\n  if (sinim !== 0.0) {\n    shs /= sinim;\n  }\n  var sgs = sghs - cosim * shs;\n\n  // ------------------------- do lunar terms ------------------\n  dedt = ses + s1 * znl * s5;\n  didt = sis + s2 * znl * (z11 + z13);\n  dmdt = sls - znl * s3 * (z1 + z3 - 14.0 - 6.0 * emsq);\n  var sghl = s4 * znl * (z31 + z33 - 6.0);\n  var shll = -znl * s2 * (z21 + z23);\n\n  // sgp4fix for 180 deg incl\n  if (inclm < 5.2359877e-2 || inclm > pi - 5.2359877e-2) {\n    shll = 0.0;\n  }\n  domdt = sgs + sghl;\n  dnodt = shs;\n  if (sinim !== 0.0) {\n    domdt -= cosim / sinim * shll;\n    dnodt += shll / sinim;\n  }\n\n  // ----------- calculate deep space resonance effects --------\n  var dndt = 0.0;\n  var theta = (gsto + tc * rptim) % twoPi;\n  em += dedt * t;\n  inclm += didt * t;\n  argpm += domdt * t;\n  nodem += dnodt * t;\n  mm += dmdt * t;\n\n  // sgp4fix for negative inclinations\n  // the following if statement should be commented out\n  // if (inclm < 0.0)\n  // {\n  //   inclm  = -inclm;\n  //   argpm  = argpm - pi;\n  //   nodem = nodem + pi;\n  // }\n\n  // -------------- initialize the resonance terms -------------\n  if (irez !== 0) {\n    aonv = Math.pow(nm / xke, x2o3);\n\n    // ---------- geopotential resonance for 12 hour orbits ------\n    if (irez === 2) {\n      cosisq = cosim * cosim;\n      var emo = em;\n      em = ecco;\n      var emsqo = emsq;\n      emsq = eccsq;\n      eoc = em * emsq;\n      g201 = -0.306 - (em - 0.64) * 0.440;\n      if (em <= 0.65) {\n        g211 = 3.616 - 13.2470 * em + 16.2900 * emsq;\n        g310 = -19.302 + 117.3900 * em - 228.4190 * emsq + 156.5910 * eoc;\n        g322 = -18.9068 + 109.7927 * em - 214.6334 * emsq + 146.5816 * eoc;\n        g410 = -41.122 + 242.6940 * em - 471.0940 * emsq + 313.9530 * eoc;\n        g422 = -146.407 + 841.8800 * em - 1629.014 * emsq + 1083.4350 * eoc;\n        g520 = -532.114 + 3017.977 * em - 5740.032 * emsq + 3708.2760 * eoc;\n      } else {\n        g211 = -72.099 + 331.819 * em - 508.738 * emsq + 266.724 * eoc;\n        g310 = -346.844 + 1582.851 * em - 2415.925 * emsq + 1246.113 * eoc;\n        g322 = -342.585 + 1554.908 * em - 2366.899 * emsq + 1215.972 * eoc;\n        g410 = -1052.797 + 4758.686 * em - 7193.992 * emsq + 3651.957 * eoc;\n        g422 = -3581.690 + 16178.110 * em - 24462.770 * emsq + 12422.520 * eoc;\n        if (em > 0.715) {\n          g520 = -5149.66 + 29936.92 * em - 54087.36 * emsq + 31324.56 * eoc;\n        } else {\n          g520 = 1464.74 - 4664.75 * em + 3763.64 * emsq;\n        }\n      }\n      if (em < 0.7) {\n        g533 = -919.22770 + 4988.6100 * em - 9064.7700 * emsq + 5542.21 * eoc;\n        g521 = -822.71072 + 4568.6173 * em - 8491.4146 * emsq + 5337.524 * eoc;\n        g532 = -853.66600 + 4690.2500 * em - 8624.7700 * emsq + 5341.4 * eoc;\n      } else {\n        g533 = -37995.780 + 161616.52 * em - 229838.20 * emsq + 109377.94 * eoc;\n        g521 = -51752.104 + 218913.95 * em - 309468.16 * emsq + 146349.42 * eoc;\n        g532 = -40023.880 + 170470.89 * em - 242699.48 * emsq + 115605.82 * eoc;\n      }\n      sini2 = sinim * sinim;\n      f220 = 0.75 * (1.0 + 2.0 * cosim + cosisq);\n      f221 = 1.5 * sini2;\n      f321 = 1.875 * sinim * (1.0 - 2.0 * cosim - 3.0 * cosisq);\n      f322 = -1.875 * sinim * (1.0 + 2.0 * cosim - 3.0 * cosisq);\n      f441 = 35.0 * sini2 * f220;\n      f442 = 39.3750 * sini2 * sini2;\n      f522 = 9.84375 * sinim * (sini2 * (1.0 - 2.0 * cosim - 5.0 * cosisq) + 0.33333333 * (-2.0 + 4.0 * cosim + 6.0 * cosisq));\n      f523 = sinim * (4.92187512 * sini2 * (-2.0 - 4.0 * cosim + 10.0 * cosisq) + 6.56250012 * (1.0 + 2.0 * cosim - 3.0 * cosisq));\n      f542 = 29.53125 * sinim * (2.0 - 8.0 * cosim + cosisq * (-12.0 + 8.0 * cosim + 10.0 * cosisq));\n      f543 = 29.53125 * sinim * (-2.0 - 8.0 * cosim + cosisq * (12.0 + 8.0 * cosim - 10.0 * cosisq));\n      xno2 = nm * nm;\n      ainv2 = aonv * aonv;\n      temp1 = 3.0 * xno2 * ainv2;\n      temp = temp1 * root22;\n      d2201 = temp * f220 * g201;\n      d2211 = temp * f221 * g211;\n      temp1 *= aonv;\n      temp = temp1 * root32;\n      d3210 = temp * f321 * g310;\n      d3222 = temp * f322 * g322;\n      temp1 *= aonv;\n      temp = 2.0 * temp1 * root44;\n      d4410 = temp * f441 * g410;\n      d4422 = temp * f442 * g422;\n      temp1 *= aonv;\n      temp = temp1 * root52;\n      d5220 = temp * f522 * g520;\n      d5232 = temp * f523 * g532;\n      temp = 2.0 * temp1 * root54;\n      d5421 = temp * f542 * g521;\n      d5433 = temp * f543 * g533;\n      xlamo = (mo + nodeo + nodeo - (theta + theta)) % twoPi;\n      xfact = mdot + dmdt + 2.0 * (nodedot + dnodt - rptim) - no;\n      em = emo;\n      emsq = emsqo;\n    }\n\n    //  ---------------- synchronous resonance terms --------------\n    if (irez === 1) {\n      g200 = 1.0 + emsq * (-2.5 + 0.8125 * emsq);\n      g310 = 1.0 + 2.0 * emsq;\n      g300 = 1.0 + emsq * (-6.0 + 6.60937 * emsq);\n      f220 = 0.75 * (1.0 + cosim) * (1.0 + cosim);\n      f311 = 0.9375 * sinim * sinim * (1.0 + 3.0 * cosim) - 0.75 * (1.0 + cosim);\n      f330 = 1.0 + cosim;\n      f330 *= 1.875 * f330 * f330;\n      del1 = 3.0 * nm * nm * aonv * aonv;\n      del2 = 2.0 * del1 * f220 * g200 * q22;\n      del3 = 3.0 * del1 * f330 * g300 * q33 * aonv;\n      del1 = del1 * f311 * g310 * q31 * aonv;\n      xlamo = (mo + nodeo + argpo - theta) % twoPi;\n      xfact = mdot + xpidot + dmdt + domdt + dnodt - (no + rptim);\n    }\n\n    //  ------------ for sgp4, initialize the integrator ----------\n    xli = xlamo;\n    xni = no;\n    atime = 0.0;\n    nm = no + dndt;\n  }\n  return {\n    em: em,\n    argpm: argpm,\n    inclm: inclm,\n    mm: mm,\n    nm: nm,\n    nodem: nodem,\n    irez: irez,\n    atime: atime,\n    d2201: d2201,\n    d2211: d2211,\n    d3210: d3210,\n    d3222: d3222,\n    d4410: d4410,\n    d4422: d4422,\n    d5220: d5220,\n    d5232: d5232,\n    d5421: d5421,\n    d5433: d5433,\n    dedt: dedt,\n    didt: didt,\n    dmdt: dmdt,\n    dndt: dndt,\n    dnodt: dnodt,\n    domdt: domdt,\n    del1: del1,\n    del2: del2,\n    del3: del3,\n    xfact: xfact,\n    xlamo: xlamo,\n    xli: xli,\n    xni: xni\n  };\n}\n\n/* -----------------------------------------------------------------------------\n *\n *                           function gstime\n *\n *  this function finds the greenwich sidereal time.\n *\n *  author        : david vallado                  719-573-2600    1 mar 2001\n *\n *  inputs          description                    range / units\n *    jdut1       - julian date in ut1             days from 4713 bc\n *\n *  outputs       :\n *    gstime      - greenwich sidereal time        0 to 2pi rad\n *\n *  locals        :\n *    temp        - temporary variable for doubles   rad\n *    tut1        - julian centuries from the\n *                  jan 1, 2000 12 h epoch (ut1)\n *\n *  coupling      :\n *    none\n *\n *  references    :\n *    vallado       2004, 191, eq 3-45\n * --------------------------------------------------------------------------- */\nfunction gstimeInternal(jdut1) {\n  var tut1 = (jdut1 - 2451545.0) / 36525.0;\n  var temp = -6.2e-6 * tut1 * tut1 * tut1 + 0.093104 * tut1 * tut1 + (876600.0 * 3600 + 8640184.812866) * tut1 + 67310.54841; // # sec\n  temp = temp * deg2rad / 240.0 % twoPi; // 360/86400 = 1/240, to deg, to rad\n\n  //  ------------------------ check quadrants ---------------------\n  if (temp < 0.0) {\n    temp += twoPi;\n  }\n  return temp;\n}\nfunction gstime() {\n  if ((arguments.length <= 0 ? undefined : arguments[0]) instanceof Date || arguments.length > 1) {\n    return gstimeInternal(jday.apply(void 0, arguments));\n  }\n  return gstimeInternal.apply(void 0, arguments);\n}\n\n/*-----------------------------------------------------------------------------\n *\n *                           procedure initl\n *\n *  this procedure initializes the sgp4 propagator. all the initialization is\n *    consolidated here instead of having multiple loops inside other routines.\n *\n *  author        : david vallado                  719-573-2600   28 jun 2005\n *\n *  inputs        :\n *    ecco        - eccentricity                           0.0 - 1.0\n *    epoch       - epoch time in days from jan 0, 1950. 0 hr\n *    inclo       - inclination of satellite\n *    no          - mean motion of satellite\n *    satn        - satellite number\n *\n *  outputs       :\n *    ainv        - 1.0 / a\n *    ao          - semi major axis\n *    con41       -\n *    con42       - 1.0 - 5.0 cos(i)\n *    cosio       - cosine of inclination\n *    cosio2      - cosio squared\n *    eccsq       - eccentricity squared\n *    method      - flag for deep space                    'd', 'n'\n *    omeosq      - 1.0 - ecco * ecco\n *    posq        - semi-parameter squared\n *    rp          - radius of perigee\n *    rteosq      - square root of (1.0 - ecco*ecco)\n *    sinio       - sine of inclination\n *    gsto        - gst at time of observation               rad\n *    no          - mean motion of satellite\n *\n *  locals        :\n *    ak          -\n *    d1          -\n *    del         -\n *    adel        -\n *    po          -\n *\n *  coupling      :\n *    getgravconst\n *    gstime      - find greenwich sidereal time from the julian date\n *\n *  references    :\n *    hoots, roehrich, norad spacetrack report #3 1980\n *    hoots, norad spacetrack report #6 1986\n *    hoots, schumacher and glover 2004\n *    vallado, crawford, hujsak, kelso  2006\n ----------------------------------------------------------------------------*/\nfunction initl(options) {\n  var ecco = options.ecco,\n    epoch = options.epoch,\n    inclo = options.inclo,\n    opsmode = options.opsmode;\n  var no = options.no;\n\n  // sgp4fix use old way of finding gst\n  // ----------------------- earth constants ---------------------\n  // sgp4fix identify constants and allow alternate values\n\n  // ------------- calculate auxillary epoch quantities ----------\n  var eccsq = ecco * ecco;\n  var omeosq = 1.0 - eccsq;\n  var rteosq = Math.sqrt(omeosq);\n  var cosio = Math.cos(inclo);\n  var cosio2 = cosio * cosio;\n\n  // ------------------ un-kozai the mean motion -----------------\n  var ak = Math.pow(xke / no, x2o3);\n  var d1 = 0.75 * j2 * (3.0 * cosio2 - 1.0) / (rteosq * omeosq);\n  var delPrime = d1 / (ak * ak);\n  var adel = ak * (1.0 - delPrime * delPrime - delPrime * (1.0 / 3.0 + 134.0 * delPrime * delPrime / 81.0));\n  delPrime = d1 / (adel * adel);\n  no /= 1.0 + delPrime;\n  var ao = Math.pow(xke / no, x2o3);\n  var sinio = Math.sin(inclo);\n  var po = ao * omeosq;\n  var con42 = 1.0 - 5.0 * cosio2;\n  var con41 = -con42 - cosio2 - cosio2;\n  var ainv = 1.0 / ao;\n  var posq = po * po;\n  var rp = ao * (1.0 - ecco);\n  var method = 'n';\n\n  //  sgp4fix modern approach to finding sidereal time\n  var gsto;\n  if (opsmode === 'a') {\n    //  sgp4fix use old way of finding gst\n    //  count integer number of days from 0 jan 1970\n    var ts70 = epoch - 7305.0;\n    var ds70 = Math.floor(ts70 + 1.0e-8);\n    var tfrac = ts70 - ds70;\n\n    //  find greenwich location at epoch\n    var c1 = 1.72027916940703639e-2; // eslint-disable-line no-loss-of-precision\n    var thgr70 = 1.7321343856509374; // eslint-disable-line no-loss-of-precision\n    var fk5r = 5.07551419432269442e-15; // eslint-disable-line no-loss-of-precision\n    var c1p2p = c1 + twoPi;\n    gsto = (thgr70 + c1 * ds70 + c1p2p * tfrac + ts70 * ts70 * fk5r) % twoPi;\n    if (gsto < 0.0) {\n      gsto += twoPi;\n    }\n  } else {\n    gsto = gstime(epoch + 2433281.5);\n  }\n  return {\n    no: no,\n    method: method,\n    ainv: ainv,\n    ao: ao,\n    con41: con41,\n    con42: con42,\n    cosio: cosio,\n    cosio2: cosio2,\n    eccsq: eccsq,\n    omeosq: omeosq,\n    posq: posq,\n    rp: rp,\n    rteosq: rteosq,\n    sinio: sinio,\n    gsto: gsto\n  };\n}\n\n/*-----------------------------------------------------------------------------\n *\n *                           procedure dspace\n *\n *  this procedure provides deep space contributions to mean elements for\n *    perturbing third body.  these effects have been averaged over one\n *    revolution of the sun and moon.  for earth resonance effects, the\n *    effects have been averaged over no revolutions of the satellite.\n *    (mean motion)\n *\n *  author        : david vallado                  719-573-2600   28 jun 2005\n *\n *  inputs        :\n *    d2201, d2211, d3210, d3222, d4410, d4422, d5220, d5232, d5421, d5433 -\n *    dedt        -\n *    del1, del2, del3  -\n *    didt        -\n *    dmdt        -\n *    dnodt       -\n *    domdt       -\n *    irez        - flag for resonance           0-none, 1-one day, 2-half day\n *    argpo       - argument of perigee\n *    argpdot     - argument of perigee dot (rate)\n *    t           - time\n *    tc          -\n *    gsto        - gst\n *    xfact       -\n *    xlamo       -\n *    no          - mean motion\n *    atime       -\n *    em          - eccentricity\n *    ft          -\n *    argpm       - argument of perigee\n *    inclm       - inclination\n *    xli         -\n *    mm          - mean anomaly\n *    xni         - mean motion\n *    nodem       - right ascension of ascending node\n *\n *  outputs       :\n *    atime       -\n *    em          - eccentricity\n *    argpm       - argument of perigee\n *    inclm       - inclination\n *    xli         -\n *    mm          - mean anomaly\n *    xni         -\n *    nodem       - right ascension of ascending node\n *    dndt        -\n *    nm          - mean motion\n *\n *  locals        :\n *    delt        -\n *    ft          -\n *    theta       -\n *    x2li        -\n *    x2omi       -\n *    xl          -\n *    xldot       -\n *    xnddt       -\n *    xndt        -\n *    xomi        -\n *\n *  coupling      :\n *    none        -\n *\n *  references    :\n *    hoots, roehrich, norad spacetrack report #3 1980\n *    hoots, norad spacetrack report #6 1986\n *    hoots, schumacher and glover 2004\n *    vallado, crawford, hujsak, kelso  2006\n ----------------------------------------------------------------------------*/\nfunction dspace(options) {\n  var irez = options.irez,\n    d2201 = options.d2201,\n    d2211 = options.d2211,\n    d3210 = options.d3210,\n    d3222 = options.d3222,\n    d4410 = options.d4410,\n    d4422 = options.d4422,\n    d5220 = options.d5220,\n    d5232 = options.d5232,\n    d5421 = options.d5421,\n    d5433 = options.d5433,\n    dedt = options.dedt,\n    del1 = options.del1,\n    del2 = options.del2,\n    del3 = options.del3,\n    didt = options.didt,\n    dmdt = options.dmdt,\n    dnodt = options.dnodt,\n    domdt = options.domdt,\n    argpo = options.argpo,\n    argpdot = options.argpdot,\n    t = options.t,\n    tc = options.tc,\n    gsto = options.gsto,\n    xfact = options.xfact,\n    xlamo = options.xlamo,\n    no = options.no;\n  var atime = options.atime,\n    em = options.em,\n    argpm = options.argpm,\n    inclm = options.inclm,\n    xli = options.xli,\n    mm = options.mm,\n    xni = options.xni,\n    nodem = options.nodem,\n    nm = options.nm;\n  var fasx2 = 0.13130908;\n  var fasx4 = 2.8843198;\n  var fasx6 = 0.37448087;\n  var g22 = 5.7686396;\n  var g32 = 0.95240898;\n  var g44 = 1.8014998;\n  var g52 = 1.0508330;\n  var g54 = 4.4108898;\n  // eslint-disable-next-line no-loss-of-precision\n  var rptim = 4.37526908801129966e-3; // equates to 7.29211514668855e-5 rad/sec\n  var stepp = 720.0;\n  var stepn = -720.0;\n  var step2 = 259200.0;\n  var delt;\n  var x2li;\n  var x2omi;\n  var xl;\n  var xldot;\n  var xnddt;\n  var xndt;\n  var xomi;\n  var dndt = 0.0;\n  var ft = 0.0;\n\n  //  ----------- calculate deep space resonance effects -----------\n  var theta = (gsto + tc * rptim) % twoPi;\n  em += dedt * t;\n  inclm += didt * t;\n  argpm += domdt * t;\n  nodem += dnodt * t;\n  mm += dmdt * t;\n\n  // sgp4fix for negative inclinations\n  // the following if statement should be commented out\n  // if (inclm < 0.0)\n  // {\n  //   inclm = -inclm;\n  //   argpm = argpm - pi;\n  //   nodem = nodem + pi;\n  // }\n\n  /* - update resonances : numerical (euler-maclaurin) integration - */\n  /* ------------------------- epoch restart ----------------------  */\n  //   sgp4fix for propagator problems\n  //   the following integration works for negative time steps and periods\n  //   the specific changes are unknown because the original code was so convoluted\n\n  // sgp4fix take out atime = 0.0 and fix for faster operation\n\n  if (irez !== 0) {\n    //  sgp4fix streamline check\n    if (atime === 0.0 || t * atime <= 0.0 || Math.abs(t) < Math.abs(atime)) {\n      atime = 0.0;\n      xni = no;\n      xli = xlamo;\n    }\n\n    // sgp4fix move check outside loop\n    if (t > 0.0) {\n      delt = stepp;\n    } else {\n      delt = stepn;\n    }\n    var iretn = 381; // added for do loop\n    while (iretn === 381) {\n      //  ------------------- dot terms calculated -------------\n      //  ----------- near - synchronous resonance terms -------\n      if (irez !== 2) {\n        xndt = del1 * Math.sin(xli - fasx2) + del2 * Math.sin(2.0 * (xli - fasx4)) + del3 * Math.sin(3.0 * (xli - fasx6));\n        xldot = xni + xfact;\n        xnddt = del1 * Math.cos(xli - fasx2) + 2.0 * del2 * Math.cos(2.0 * (xli - fasx4)) + 3.0 * del3 * Math.cos(3.0 * (xli - fasx6));\n        xnddt *= xldot;\n      } else {\n        // --------- near - half-day resonance terms --------\n        xomi = argpo + argpdot * atime;\n        x2omi = xomi + xomi;\n        x2li = xli + xli;\n        xndt = d2201 * Math.sin(x2omi + xli - g22) + d2211 * Math.sin(xli - g22) + d3210 * Math.sin(xomi + xli - g32) + d3222 * Math.sin(-xomi + xli - g32) + d4410 * Math.sin(x2omi + x2li - g44) + d4422 * Math.sin(x2li - g44) + d5220 * Math.sin(xomi + xli - g52) + d5232 * Math.sin(-xomi + xli - g52) + d5421 * Math.sin(xomi + x2li - g54) + d5433 * Math.sin(-xomi + x2li - g54);\n        xldot = xni + xfact;\n        xnddt = d2201 * Math.cos(x2omi + xli - g22) + d2211 * Math.cos(xli - g22) + d3210 * Math.cos(xomi + xli - g32) + d3222 * Math.cos(-xomi + xli - g32) + d5220 * Math.cos(xomi + xli - g52) + d5232 * Math.cos(-xomi + xli - g52) + 2.0 * (d4410 * Math.cos(x2omi + x2li - g44) + d4422 * Math.cos(x2li - g44) + d5421 * Math.cos(xomi + x2li - g54) + d5433 * Math.cos(-xomi + x2li - g54));\n        xnddt *= xldot;\n      }\n\n      //  ----------------------- integrator -------------------\n      //  sgp4fix move end checks to end of routine\n      if (Math.abs(t - atime) >= stepp) {\n        iretn = 381;\n      } else {\n        ft = t - atime;\n        iretn = 0;\n      }\n      if (iretn === 381) {\n        xli += xldot * delt + xndt * step2;\n        xni += xndt * delt + xnddt * step2;\n        atime += delt;\n      }\n    }\n    nm = xni + xndt * ft + xnddt * ft * ft * 0.5;\n    xl = xli + xldot * ft + xndt * ft * ft * 0.5;\n    if (irez !== 1) {\n      mm = xl - 2.0 * nodem + 2.0 * theta;\n      dndt = nm - no;\n    } else {\n      mm = xl - nodem - argpm + theta;\n      dndt = nm - no;\n    }\n    nm = no + dndt;\n  }\n  return {\n    atime: atime,\n    em: em,\n    argpm: argpm,\n    inclm: inclm,\n    xli: xli,\n    mm: mm,\n    xni: xni,\n    nodem: nodem,\n    dndt: dndt,\n    nm: nm\n  };\n}\n\n/*----------------------------------------------------------------------------\n *\n *                             procedure sgp4\n *\n *  this procedure is the sgp4 prediction model from space command. this is an\n *    updated and combined version of sgp4 and sdp4, which were originally\n *    published separately in spacetrack report //3. this version follows the\n *    methodology from the aiaa paper (2006) describing the history and\n *    development of the code.\n *\n *  author        : david vallado                  719-573-2600   28 jun 2005\n *\n *  inputs        :\n *    satrec  - initialised structure from sgp4init() call.\n *    tsince  - time since epoch (minutes)\n *\n *  outputs       :\n *    r           - position vector                     km\n *    v           - velocity                            km/sec\n *  return code - non-zero on error.\n *                   1 - mean elements, ecc >= 1.0 or ecc < -0.001 or a < 0.95 er\n *                   2 - mean motion less than 0.0\n *                   3 - pert elements, ecc < 0.0  or  ecc > 1.0\n *                   4 - semi-latus rectum < 0.0\n *                   5 - epoch elements are sub-orbital\n *                   6 - satellite has decayed\n *\n *  locals        :\n *    am          -\n *    axnl, aynl        -\n *    betal       -\n *    cosim   , sinim   , cosomm  , sinomm  , cnod    , snod    , cos2u   ,\n *    sin2u   , coseo1  , sineo1  , cosi    , sini    , cosip   , sinip   ,\n *    cosisq  , cossu   , sinsu   , cosu    , sinu\n *    delm        -\n *    delomg      -\n *    dndt        -\n *    eccm        -\n *    emsq        -\n *    ecose       -\n *    el2         -\n *    eo1         -\n *    eccp        -\n *    esine       -\n *    argpm       -\n *    argpp       -\n *    omgadf      -\n *    pl          -\n *    r           -\n *    rtemsq      -\n *    rdotl       -\n *    rl          -\n *    rvdot       -\n *    rvdotl      -\n *    su          -\n *    t2  , t3   , t4    , tc\n *    tem5, temp , temp1 , temp2  , tempa  , tempe  , templ\n *    u   , ux   , uy    , uz     , vx     , vy     , vz\n *    inclm       - inclination\n *    mm          - mean anomaly\n *    nm          - mean motion\n *    nodem       - right asc of ascending node\n *    xinc        -\n *    xincp       -\n *    xl          -\n *    xlm         -\n *    mp          -\n *    xmdf        -\n *    xmx         -\n *    xmy         -\n *    nodedf      -\n *    xnode       -\n *    nodep       -\n *    np          -\n *\n *  coupling      :\n *    getgravconst-\n *    dpper\n *    dspace\n *\n *  references    :\n *    hoots, roehrich, norad spacetrack report //3 1980\n *    hoots, norad spacetrack report //6 1986\n *    hoots, schumacher and glover 2004\n *    vallado, crawford, hujsak, kelso  2006\n ----------------------------------------------------------------------------*/\nfunction sgp4(satrec, tsince) {\n  /* eslint-disable no-param-reassign */\n\n  var coseo1;\n  var sineo1;\n  var cosip;\n  var sinip;\n  var cosisq;\n  var delm;\n  var delomg;\n  var eo1;\n  var argpm;\n  var argpp;\n  var su;\n  var t3;\n  var t4;\n  var tc;\n  var tem5;\n  var temp;\n  var tempa;\n  var tempe;\n  var templ;\n  var inclm;\n  var mm;\n  var nm;\n  var nodem;\n  var xincp;\n  var xlm;\n  var mp;\n  var nodep;\n\n  /* ------------------ set mathematical constants --------------- */\n  // sgp4fix divisor for divide by zero check on inclination\n  // the old check used 1.0 + cos(pi-1.0e-9), but then compared it to\n  // 1.5 e-12, so the threshold was changed to 1.5e-12 for consistency\n\n  var temp4 = 1.5e-12;\n\n  // --------------------- clear sgp4 error flag -----------------\n  satrec.t = tsince;\n  satrec.error = 0;\n\n  //  ------- update for secular gravity and atmospheric drag -----\n  var xmdf = satrec.mo + satrec.mdot * satrec.t;\n  var argpdf = satrec.argpo + satrec.argpdot * satrec.t;\n  var nodedf = satrec.nodeo + satrec.nodedot * satrec.t;\n  argpm = argpdf;\n  mm = xmdf;\n  var t2 = satrec.t * satrec.t;\n  nodem = nodedf + satrec.nodecf * t2;\n  tempa = 1.0 - satrec.cc1 * satrec.t;\n  tempe = satrec.bstar * satrec.cc4 * satrec.t;\n  templ = satrec.t2cof * t2;\n  if (satrec.isimp !== 1) {\n    delomg = satrec.omgcof * satrec.t;\n    //  sgp4fix use mutliply for speed instead of pow\n    var delmtemp = 1.0 + satrec.eta * Math.cos(xmdf);\n    delm = satrec.xmcof * (delmtemp * delmtemp * delmtemp - satrec.delmo);\n    temp = delomg + delm;\n    mm = xmdf + temp;\n    argpm = argpdf - temp;\n    t3 = t2 * satrec.t;\n    t4 = t3 * satrec.t;\n    tempa = tempa - satrec.d2 * t2 - satrec.d3 * t3 - satrec.d4 * t4;\n    tempe += satrec.bstar * satrec.cc5 * (Math.sin(mm) - satrec.sinmao);\n    templ = templ + satrec.t3cof * t3 + t4 * (satrec.t4cof + satrec.t * satrec.t5cof);\n  }\n  nm = satrec.no;\n  var em = satrec.ecco;\n  inclm = satrec.inclo;\n  if (satrec.method === 'd') {\n    tc = satrec.t;\n    var dspaceOptions = {\n      irez: satrec.irez,\n      d2201: satrec.d2201,\n      d2211: satrec.d2211,\n      d3210: satrec.d3210,\n      d3222: satrec.d3222,\n      d4410: satrec.d4410,\n      d4422: satrec.d4422,\n      d5220: satrec.d5220,\n      d5232: satrec.d5232,\n      d5421: satrec.d5421,\n      d5433: satrec.d5433,\n      dedt: satrec.dedt,\n      del1: satrec.del1,\n      del2: satrec.del2,\n      del3: satrec.del3,\n      didt: satrec.didt,\n      dmdt: satrec.dmdt,\n      dnodt: satrec.dnodt,\n      domdt: satrec.domdt,\n      argpo: satrec.argpo,\n      argpdot: satrec.argpdot,\n      t: satrec.t,\n      tc: tc,\n      gsto: satrec.gsto,\n      xfact: satrec.xfact,\n      xlamo: satrec.xlamo,\n      no: satrec.no,\n      atime: satrec.atime,\n      em: em,\n      argpm: argpm,\n      inclm: inclm,\n      xli: satrec.xli,\n      mm: mm,\n      xni: satrec.xni,\n      nodem: nodem,\n      nm: nm\n    };\n    var dspaceResult = dspace(dspaceOptions);\n    em = dspaceResult.em;\n    argpm = dspaceResult.argpm;\n    inclm = dspaceResult.inclm;\n    mm = dspaceResult.mm;\n    nodem = dspaceResult.nodem;\n    nm = dspaceResult.nm;\n  }\n  if (nm <= 0.0) {\n    // printf(\"// error nm %f\\n\", nm);\n    satrec.error = 2;\n    // sgp4fix add return\n    return [false, false];\n  }\n  var am = Math.pow(xke / nm, x2o3) * tempa * tempa;\n  nm = xke / Math.pow(am, 1.5);\n  em -= tempe;\n\n  // fix tolerance for error recognition\n  // sgp4fix am is fixed from the previous nm check\n  if (em >= 1.0 || em < -0.001) {\n    // || (am < 0.95)\n    // printf(\"// error em %f\\n\", em);\n    satrec.error = 1;\n    // sgp4fix to return if there is an error in eccentricity\n    return [false, false];\n  }\n\n  //  sgp4fix fix tolerance to avoid a divide by zero\n  if (em < 1.0e-6) {\n    em = 1.0e-6;\n  }\n  mm += satrec.no * templ;\n  xlm = mm + argpm + nodem;\n  nodem %= twoPi;\n  argpm %= twoPi;\n  xlm %= twoPi;\n  mm = (xlm - argpm - nodem) % twoPi;\n\n  // ----------------- compute extra mean quantities -------------\n  var sinim = Math.sin(inclm);\n  var cosim = Math.cos(inclm);\n\n  // -------------------- add lunar-solar periodics --------------\n  var ep = em;\n  xincp = inclm;\n  argpp = argpm;\n  nodep = nodem;\n  mp = mm;\n  sinip = sinim;\n  cosip = cosim;\n  if (satrec.method === 'd') {\n    var dpperParameters = {\n      inclo: satrec.inclo,\n      init: 'n',\n      ep: ep,\n      inclp: xincp,\n      nodep: nodep,\n      argpp: argpp,\n      mp: mp,\n      opsmode: satrec.operationmode\n    };\n    var dpperResult = dpper(satrec, dpperParameters);\n    ep = dpperResult.ep;\n    nodep = dpperResult.nodep;\n    argpp = dpperResult.argpp;\n    mp = dpperResult.mp;\n    xincp = dpperResult.inclp;\n    if (xincp < 0.0) {\n      xincp = -xincp;\n      nodep += pi;\n      argpp -= pi;\n    }\n    if (ep < 0.0 || ep > 1.0) {\n      //  printf(\"// error ep %f\\n\", ep);\n      satrec.error = 3;\n      //  sgp4fix add return\n      return [false, false];\n    }\n  }\n\n  //  -------------------- long period periodics ------------------\n  if (satrec.method === 'd') {\n    sinip = Math.sin(xincp);\n    cosip = Math.cos(xincp);\n    satrec.aycof = -0.5 * j3oj2 * sinip;\n\n    //  sgp4fix for divide by zero for xincp = 180 deg\n    if (Math.abs(cosip + 1.0) > 1.5e-12) {\n      satrec.xlcof = -0.25 * j3oj2 * sinip * (3.0 + 5.0 * cosip) / (1.0 + cosip);\n    } else {\n      satrec.xlcof = -0.25 * j3oj2 * sinip * (3.0 + 5.0 * cosip) / temp4;\n    }\n  }\n  var axnl = ep * Math.cos(argpp);\n  temp = 1.0 / (am * (1.0 - ep * ep));\n  var aynl = ep * Math.sin(argpp) + temp * satrec.aycof;\n  var xl = mp + argpp + nodep + temp * satrec.xlcof * axnl;\n\n  // --------------------- solve kepler's equation ---------------\n  var u = (xl - nodep) % twoPi;\n  eo1 = u;\n  tem5 = 9999.9;\n  var ktr = 1;\n\n  //    sgp4fix for kepler iteration\n  //    the following iteration needs better limits on corrections\n  while (Math.abs(tem5) >= 1.0e-12 && ktr <= 10) {\n    sineo1 = Math.sin(eo1);\n    coseo1 = Math.cos(eo1);\n    tem5 = 1.0 - coseo1 * axnl - sineo1 * aynl;\n    tem5 = (u - aynl * coseo1 + axnl * sineo1 - eo1) / tem5;\n    if (Math.abs(tem5) >= 0.95) {\n      if (tem5 > 0.0) {\n        tem5 = 0.95;\n      } else {\n        tem5 = -0.95;\n      }\n    }\n    eo1 += tem5;\n    ktr += 1;\n  }\n\n  //  ------------- short period preliminary quantities -----------\n  var ecose = axnl * coseo1 + aynl * sineo1;\n  var esine = axnl * sineo1 - aynl * coseo1;\n  var el2 = axnl * axnl + aynl * aynl;\n  var pl = am * (1.0 - el2);\n  if (pl < 0.0) {\n    //  printf(\"// error pl %f\\n\", pl);\n    satrec.error = 4;\n    //  sgp4fix add return\n    return [false, false];\n  }\n  var rl = am * (1.0 - ecose);\n  var rdotl = Math.sqrt(am) * esine / rl;\n  var rvdotl = Math.sqrt(pl) / rl;\n  var betal = Math.sqrt(1.0 - el2);\n  temp = esine / (1.0 + betal);\n  var sinu = am / rl * (sineo1 - aynl - axnl * temp);\n  var cosu = am / rl * (coseo1 - axnl + aynl * temp);\n  su = Math.atan2(sinu, cosu);\n  var sin2u = (cosu + cosu) * sinu;\n  var cos2u = 1.0 - 2.0 * sinu * sinu;\n  temp = 1.0 / pl;\n  var temp1 = 0.5 * j2 * temp;\n  var temp2 = temp1 * temp;\n\n  // -------------- update for short period periodics ------------\n  if (satrec.method === 'd') {\n    cosisq = cosip * cosip;\n    satrec.con41 = 3.0 * cosisq - 1.0;\n    satrec.x1mth2 = 1.0 - cosisq;\n    satrec.x7thm1 = 7.0 * cosisq - 1.0;\n  }\n  var mrt = rl * (1.0 - 1.5 * temp2 * betal * satrec.con41) + 0.5 * temp1 * satrec.x1mth2 * cos2u;\n\n  // sgp4fix for decaying satellites\n  if (mrt < 1.0) {\n    // printf(\"// decay condition %11.6f \\n\",mrt);\n    satrec.error = 6;\n    return {\n      position: false,\n      velocity: false\n    };\n  }\n  su -= 0.25 * temp2 * satrec.x7thm1 * sin2u;\n  var xnode = nodep + 1.5 * temp2 * cosip * sin2u;\n  var xinc = xincp + 1.5 * temp2 * cosip * sinip * cos2u;\n  var mvt = rdotl - nm * temp1 * satrec.x1mth2 * sin2u / xke;\n  var rvdot = rvdotl + nm * temp1 * (satrec.x1mth2 * cos2u + 1.5 * satrec.con41) / xke;\n\n  // --------------------- orientation vectors -------------------\n  var sinsu = Math.sin(su);\n  var cossu = Math.cos(su);\n  var snod = Math.sin(xnode);\n  var cnod = Math.cos(xnode);\n  var sini = Math.sin(xinc);\n  var cosi = Math.cos(xinc);\n  var xmx = -snod * cosi;\n  var xmy = cnod * cosi;\n  var ux = xmx * sinsu + cnod * cossu;\n  var uy = xmy * sinsu + snod * cossu;\n  var uz = sini * sinsu;\n  var vx = xmx * cossu - cnod * sinsu;\n  var vy = xmy * cossu - snod * sinsu;\n  var vz = sini * cossu;\n\n  // --------- position and velocity (in km and km/sec) ----------\n  var r = {\n    x: mrt * ux * earthRadius,\n    y: mrt * uy * earthRadius,\n    z: mrt * uz * earthRadius\n  };\n  var v = {\n    x: (mvt * ux + rvdot * vx) * vkmpersec,\n    y: (mvt * uy + rvdot * vy) * vkmpersec,\n    z: (mvt * uz + rvdot * vz) * vkmpersec\n  };\n  return {\n    position: r,\n    velocity: v\n  };\n\n  /* eslint-enable no-param-reassign */\n}\n\n/*-----------------------------------------------------------------------------\n *\n *                             procedure sgp4init\n *\n *  this procedure initializes variables for sgp4.\n *\n *  author        : david vallado                  719-573-2600   28 jun 2005\n *  author        : david vallado                  719-573-2600   28 jun 2005\n *\n *  inputs        :\n *    opsmode     - mode of operation afspc or improved 'a', 'i'\n *    satn        - satellite number\n *    bstar       - sgp4 type drag coefficient              kg/m2er\n *    ecco        - eccentricity\n *    epoch       - epoch time in days from jan 0, 1950. 0 hr\n *    argpo       - argument of perigee (output if ds)\n *    inclo       - inclination\n *    mo          - mean anomaly (output if ds)\n *    no          - mean motion\n *    nodeo       - right ascension of ascending node\n *\n *  outputs       :\n *    rec      - common values for subsequent calls\n *    return code - non-zero on error.\n *                   1 - mean elements, ecc >= 1.0 or ecc < -0.001 or a < 0.95 er\n *                   2 - mean motion less than 0.0\n *                   3 - pert elements, ecc < 0.0  or  ecc > 1.0\n *                   4 - semi-latus rectum < 0.0\n *                   5 - epoch elements are sub-orbital\n *                   6 - satellite has decayed\n *\n *  locals        :\n *    cnodm  , snodm  , cosim  , sinim  , cosomm , sinomm\n *    cc1sq  , cc2    , cc3\n *    coef   , coef1\n *    cosio4      -\n *    day         -\n *    dndt        -\n *    em          - eccentricity\n *    emsq        - eccentricity squared\n *    eeta        -\n *    etasq       -\n *    gam         -\n *    argpm       - argument of perigee\n *    nodem       -\n *    inclm       - inclination\n *    mm          - mean anomaly\n *    nm          - mean motion\n *    perige      - perigee\n *    pinvsq      -\n *    psisq       -\n *    qzms24      -\n *    rtemsq      -\n *    s1, s2, s3, s4, s5, s6, s7          -\n *    sfour       -\n *    ss1, ss2, ss3, ss4, ss5, ss6, ss7         -\n *    sz1, sz2, sz3\n *    sz11, sz12, sz13, sz21, sz22, sz23, sz31, sz32, sz33        -\n *    tc          -\n *    temp        -\n *    temp1, temp2, temp3       -\n *    tsi         -\n *    xpidot      -\n *    xhdot1      -\n *    z1, z2, z3          -\n *    z11, z12, z13, z21, z22, z23, z31, z32, z33         -\n *\n *  coupling      :\n *    getgravconst-\n *    initl       -\n *    dscom       -\n *    dpper       -\n *    dsinit      -\n *    sgp4        -\n *\n *  references    :\n *    hoots, roehrich, norad spacetrack report #3 1980\n *    hoots, norad spacetrack report #6 1986\n *    hoots, schumacher and glover 2004\n *    vallado, crawford, hujsak, kelso  2006\n ----------------------------------------------------------------------------*/\nfunction sgp4init(satrec, options) {\n  /* eslint-disable no-param-reassign */\n\n  var opsmode = options.opsmode,\n    satn = options.satn,\n    epoch = options.epoch,\n    xbstar = options.xbstar,\n    xecco = options.xecco,\n    xargpo = options.xargpo,\n    xinclo = options.xinclo,\n    xmo = options.xmo,\n    xno = options.xno,\n    xnodeo = options.xnodeo;\n  var cosim;\n  var sinim;\n  var cc1sq;\n  var cc2;\n  var cc3;\n  var coef;\n  var coef1;\n  var cosio4;\n  var em;\n  var emsq;\n  var eeta;\n  var etasq;\n  var argpm;\n  var nodem;\n  var inclm;\n  var mm;\n  var nm;\n  var perige;\n  var pinvsq;\n  var psisq;\n  var qzms24;\n  var s1;\n  var s2;\n  var s3;\n  var s4;\n  var s5;\n  var sfour;\n  var ss1;\n  var ss2;\n  var ss3;\n  var ss4;\n  var ss5;\n  var sz1;\n  var sz3;\n  var sz11;\n  var sz13;\n  var sz21;\n  var sz23;\n  var sz31;\n  var sz33;\n  var tc;\n  var temp;\n  var temp1;\n  var temp2;\n  var temp3;\n  var tsi;\n  var xpidot;\n  var xhdot1;\n  var z1;\n  var z3;\n  var z11;\n  var z13;\n  var z21;\n  var z23;\n  var z31;\n  var z33;\n\n  /* ------------------------ initialization --------------------- */\n  // sgp4fix divisor for divide by zero check on inclination\n  // the old check used 1.0 + Math.cos(pi-1.0e-9), but then compared it to\n  // 1.5 e-12, so the threshold was changed to 1.5e-12 for consistency\n  var temp4 = 1.5e-12;\n\n  // ----------- set all near earth variables to zero ------------\n  satrec.isimp = 0;\n  satrec.method = 'n';\n  satrec.aycof = 0.0;\n  satrec.con41 = 0.0;\n  satrec.cc1 = 0.0;\n  satrec.cc4 = 0.0;\n  satrec.cc5 = 0.0;\n  satrec.d2 = 0.0;\n  satrec.d3 = 0.0;\n  satrec.d4 = 0.0;\n  satrec.delmo = 0.0;\n  satrec.eta = 0.0;\n  satrec.argpdot = 0.0;\n  satrec.omgcof = 0.0;\n  satrec.sinmao = 0.0;\n  satrec.t = 0.0;\n  satrec.t2cof = 0.0;\n  satrec.t3cof = 0.0;\n  satrec.t4cof = 0.0;\n  satrec.t5cof = 0.0;\n  satrec.x1mth2 = 0.0;\n  satrec.x7thm1 = 0.0;\n  satrec.mdot = 0.0;\n  satrec.nodedot = 0.0;\n  satrec.xlcof = 0.0;\n  satrec.xmcof = 0.0;\n  satrec.nodecf = 0.0;\n\n  // ----------- set all deep space variables to zero ------------\n  satrec.irez = 0;\n  satrec.d2201 = 0.0;\n  satrec.d2211 = 0.0;\n  satrec.d3210 = 0.0;\n  satrec.d3222 = 0.0;\n  satrec.d4410 = 0.0;\n  satrec.d4422 = 0.0;\n  satrec.d5220 = 0.0;\n  satrec.d5232 = 0.0;\n  satrec.d5421 = 0.0;\n  satrec.d5433 = 0.0;\n  satrec.dedt = 0.0;\n  satrec.del1 = 0.0;\n  satrec.del2 = 0.0;\n  satrec.del3 = 0.0;\n  satrec.didt = 0.0;\n  satrec.dmdt = 0.0;\n  satrec.dnodt = 0.0;\n  satrec.domdt = 0.0;\n  satrec.e3 = 0.0;\n  satrec.ee2 = 0.0;\n  satrec.peo = 0.0;\n  satrec.pgho = 0.0;\n  satrec.pho = 0.0;\n  satrec.pinco = 0.0;\n  satrec.plo = 0.0;\n  satrec.se2 = 0.0;\n  satrec.se3 = 0.0;\n  satrec.sgh2 = 0.0;\n  satrec.sgh3 = 0.0;\n  satrec.sgh4 = 0.0;\n  satrec.sh2 = 0.0;\n  satrec.sh3 = 0.0;\n  satrec.si2 = 0.0;\n  satrec.si3 = 0.0;\n  satrec.sl2 = 0.0;\n  satrec.sl3 = 0.0;\n  satrec.sl4 = 0.0;\n  satrec.gsto = 0.0;\n  satrec.xfact = 0.0;\n  satrec.xgh2 = 0.0;\n  satrec.xgh3 = 0.0;\n  satrec.xgh4 = 0.0;\n  satrec.xh2 = 0.0;\n  satrec.xh3 = 0.0;\n  satrec.xi2 = 0.0;\n  satrec.xi3 = 0.0;\n  satrec.xl2 = 0.0;\n  satrec.xl3 = 0.0;\n  satrec.xl4 = 0.0;\n  satrec.xlamo = 0.0;\n  satrec.zmol = 0.0;\n  satrec.zmos = 0.0;\n  satrec.atime = 0.0;\n  satrec.xli = 0.0;\n  satrec.xni = 0.0;\n\n  // sgp4fix - note the following variables are also passed directly via satrec.\n  // it is possible to streamline the sgp4init call by deleting the \"x\"\n  // variables, but the user would need to set the satrec.* values first. we\n  // include the additional assignments in case twoline2rv is not used.\n\n  satrec.bstar = xbstar;\n  satrec.ecco = xecco;\n  satrec.argpo = xargpo;\n  satrec.inclo = xinclo;\n  satrec.mo = xmo;\n  satrec.no = xno;\n  satrec.nodeo = xnodeo;\n\n  //  sgp4fix add opsmode\n  satrec.operationmode = opsmode;\n\n  // ------------------------ earth constants -----------------------\n  // sgp4fix identify constants and allow alternate values\n\n  var ss = 78.0 / earthRadius + 1.0;\n  // sgp4fix use multiply for speed instead of pow\n  var qzms2ttemp = (120.0 - 78.0) / earthRadius;\n  var qzms2t = qzms2ttemp * qzms2ttemp * qzms2ttemp * qzms2ttemp;\n  satrec.init = 'y';\n  satrec.t = 0.0;\n  var initlOptions = {\n    satn: satn,\n    ecco: satrec.ecco,\n    epoch: epoch,\n    inclo: satrec.inclo,\n    no: satrec.no,\n    method: satrec.method,\n    opsmode: satrec.operationmode\n  };\n  var initlResult = initl(initlOptions);\n  var ao = initlResult.ao,\n    con42 = initlResult.con42,\n    cosio = initlResult.cosio,\n    cosio2 = initlResult.cosio2,\n    eccsq = initlResult.eccsq,\n    omeosq = initlResult.omeosq,\n    posq = initlResult.posq,\n    rp = initlResult.rp,\n    rteosq = initlResult.rteosq,\n    sinio = initlResult.sinio;\n  satrec.no = initlResult.no;\n  satrec.con41 = initlResult.con41;\n  satrec.gsto = initlResult.gsto;\n  satrec.a = Math.pow(satrec.no * tumin, -2.0 / 3.0);\n  satrec.alta = satrec.a * (1.0 + satrec.ecco) - 1.0;\n  satrec.altp = satrec.a * (1.0 - satrec.ecco) - 1.0;\n  satrec.error = 0;\n\n  // sgp4fix remove this check as it is unnecessary\n  // the mrt check in sgp4 handles decaying satellite cases even if the starting\n  // condition is below the surface of te earth\n  // if (rp < 1.0)\n  // {\n  //   printf(\"// *** satn%d epoch elts sub-orbital ***\\n\", satn);\n  //   satrec.error = 5;\n  // }\n\n  if (omeosq >= 0.0 || satrec.no >= 0.0) {\n    satrec.isimp = 0;\n    if (rp < 220.0 / earthRadius + 1.0) {\n      satrec.isimp = 1;\n    }\n    sfour = ss;\n    qzms24 = qzms2t;\n    perige = (rp - 1.0) * earthRadius;\n\n    // - for perigees below 156 km, s and qoms2t are altered -\n    if (perige < 156.0) {\n      sfour = perige - 78.0;\n      if (perige < 98.0) {\n        sfour = 20.0;\n      }\n\n      // sgp4fix use multiply for speed instead of pow\n      var qzms24temp = (120.0 - sfour) / earthRadius;\n      qzms24 = qzms24temp * qzms24temp * qzms24temp * qzms24temp;\n      sfour = sfour / earthRadius + 1.0;\n    }\n    pinvsq = 1.0 / posq;\n    tsi = 1.0 / (ao - sfour);\n    satrec.eta = ao * satrec.ecco * tsi;\n    etasq = satrec.eta * satrec.eta;\n    eeta = satrec.ecco * satrec.eta;\n    psisq = Math.abs(1.0 - etasq);\n    coef = qzms24 * Math.pow(tsi, 4.0);\n    coef1 = coef / Math.pow(psisq, 3.5);\n    cc2 = coef1 * satrec.no * (ao * (1.0 + 1.5 * etasq + eeta * (4.0 + etasq)) + 0.375 * j2 * tsi / psisq * satrec.con41 * (8.0 + 3.0 * etasq * (8.0 + etasq)));\n    satrec.cc1 = satrec.bstar * cc2;\n    cc3 = 0.0;\n    if (satrec.ecco > 1.0e-4) {\n      cc3 = -2.0 * coef * tsi * j3oj2 * satrec.no * sinio / satrec.ecco;\n    }\n    satrec.x1mth2 = 1.0 - cosio2;\n    satrec.cc4 = 2.0 * satrec.no * coef1 * ao * omeosq * (satrec.eta * (2.0 + 0.5 * etasq) + satrec.ecco * (0.5 + 2.0 * etasq) - j2 * tsi / (ao * psisq) * (-3.0 * satrec.con41 * (1.0 - 2.0 * eeta + etasq * (1.5 - 0.5 * eeta)) + 0.75 * satrec.x1mth2 * (2.0 * etasq - eeta * (1.0 + etasq)) * Math.cos(2.0 * satrec.argpo)));\n    satrec.cc5 = 2.0 * coef1 * ao * omeosq * (1.0 + 2.75 * (etasq + eeta) + eeta * etasq);\n    cosio4 = cosio2 * cosio2;\n    temp1 = 1.5 * j2 * pinvsq * satrec.no;\n    temp2 = 0.5 * temp1 * j2 * pinvsq;\n    temp3 = -0.46875 * j4 * pinvsq * pinvsq * satrec.no;\n    satrec.mdot = satrec.no + 0.5 * temp1 * rteosq * satrec.con41 + 0.0625 * temp2 * rteosq * (13.0 - 78.0 * cosio2 + 137.0 * cosio4);\n    satrec.argpdot = -0.5 * temp1 * con42 + 0.0625 * temp2 * (7.0 - 114.0 * cosio2 + 395.0 * cosio4) + temp3 * (3.0 - 36.0 * cosio2 + 49.0 * cosio4);\n    xhdot1 = -temp1 * cosio;\n    satrec.nodedot = xhdot1 + (0.5 * temp2 * (4.0 - 19.0 * cosio2) + 2.0 * temp3 * (3.0 - 7.0 * cosio2)) * cosio;\n    xpidot = satrec.argpdot + satrec.nodedot;\n    satrec.omgcof = satrec.bstar * cc3 * Math.cos(satrec.argpo);\n    satrec.xmcof = 0.0;\n    if (satrec.ecco > 1.0e-4) {\n      satrec.xmcof = -x2o3 * coef * satrec.bstar / eeta;\n    }\n    satrec.nodecf = 3.5 * omeosq * xhdot1 * satrec.cc1;\n    satrec.t2cof = 1.5 * satrec.cc1;\n\n    // sgp4fix for divide by zero with xinco = 180 deg\n    if (Math.abs(cosio + 1.0) > 1.5e-12) {\n      satrec.xlcof = -0.25 * j3oj2 * sinio * (3.0 + 5.0 * cosio) / (1.0 + cosio);\n    } else {\n      satrec.xlcof = -0.25 * j3oj2 * sinio * (3.0 + 5.0 * cosio) / temp4;\n    }\n    satrec.aycof = -0.5 * j3oj2 * sinio;\n\n    // sgp4fix use multiply for speed instead of pow\n    var delmotemp = 1.0 + satrec.eta * Math.cos(satrec.mo);\n    satrec.delmo = delmotemp * delmotemp * delmotemp;\n    satrec.sinmao = Math.sin(satrec.mo);\n    satrec.x7thm1 = 7.0 * cosio2 - 1.0;\n\n    // --------------- deep space initialization -------------\n    if (2 * pi / satrec.no >= 225.0) {\n      satrec.method = 'd';\n      satrec.isimp = 1;\n      tc = 0.0;\n      inclm = satrec.inclo;\n      var dscomOptions = {\n        epoch: epoch,\n        ep: satrec.ecco,\n        argpp: satrec.argpo,\n        tc: tc,\n        inclp: satrec.inclo,\n        nodep: satrec.nodeo,\n        np: satrec.no,\n        e3: satrec.e3,\n        ee2: satrec.ee2,\n        peo: satrec.peo,\n        pgho: satrec.pgho,\n        pho: satrec.pho,\n        pinco: satrec.pinco,\n        plo: satrec.plo,\n        se2: satrec.se2,\n        se3: satrec.se3,\n        sgh2: satrec.sgh2,\n        sgh3: satrec.sgh3,\n        sgh4: satrec.sgh4,\n        sh2: satrec.sh2,\n        sh3: satrec.sh3,\n        si2: satrec.si2,\n        si3: satrec.si3,\n        sl2: satrec.sl2,\n        sl3: satrec.sl3,\n        sl4: satrec.sl4,\n        xgh2: satrec.xgh2,\n        xgh3: satrec.xgh3,\n        xgh4: satrec.xgh4,\n        xh2: satrec.xh2,\n        xh3: satrec.xh3,\n        xi2: satrec.xi2,\n        xi3: satrec.xi3,\n        xl2: satrec.xl2,\n        xl3: satrec.xl3,\n        xl4: satrec.xl4,\n        zmol: satrec.zmol,\n        zmos: satrec.zmos\n      };\n      var dscomResult = dscom(dscomOptions);\n      satrec.e3 = dscomResult.e3;\n      satrec.ee2 = dscomResult.ee2;\n      satrec.peo = dscomResult.peo;\n      satrec.pgho = dscomResult.pgho;\n      satrec.pho = dscomResult.pho;\n      satrec.pinco = dscomResult.pinco;\n      satrec.plo = dscomResult.plo;\n      satrec.se2 = dscomResult.se2;\n      satrec.se3 = dscomResult.se3;\n      satrec.sgh2 = dscomResult.sgh2;\n      satrec.sgh3 = dscomResult.sgh3;\n      satrec.sgh4 = dscomResult.sgh4;\n      satrec.sh2 = dscomResult.sh2;\n      satrec.sh3 = dscomResult.sh3;\n      satrec.si2 = dscomResult.si2;\n      satrec.si3 = dscomResult.si3;\n      satrec.sl2 = dscomResult.sl2;\n      satrec.sl3 = dscomResult.sl3;\n      satrec.sl4 = dscomResult.sl4;\n      sinim = dscomResult.sinim;\n      cosim = dscomResult.cosim;\n      em = dscomResult.em;\n      emsq = dscomResult.emsq;\n      s1 = dscomResult.s1;\n      s2 = dscomResult.s2;\n      s3 = dscomResult.s3;\n      s4 = dscomResult.s4;\n      s5 = dscomResult.s5;\n      ss1 = dscomResult.ss1;\n      ss2 = dscomResult.ss2;\n      ss3 = dscomResult.ss3;\n      ss4 = dscomResult.ss4;\n      ss5 = dscomResult.ss5;\n      sz1 = dscomResult.sz1;\n      sz3 = dscomResult.sz3;\n      sz11 = dscomResult.sz11;\n      sz13 = dscomResult.sz13;\n      sz21 = dscomResult.sz21;\n      sz23 = dscomResult.sz23;\n      sz31 = dscomResult.sz31;\n      sz33 = dscomResult.sz33;\n      satrec.xgh2 = dscomResult.xgh2;\n      satrec.xgh3 = dscomResult.xgh3;\n      satrec.xgh4 = dscomResult.xgh4;\n      satrec.xh2 = dscomResult.xh2;\n      satrec.xh3 = dscomResult.xh3;\n      satrec.xi2 = dscomResult.xi2;\n      satrec.xi3 = dscomResult.xi3;\n      satrec.xl2 = dscomResult.xl2;\n      satrec.xl3 = dscomResult.xl3;\n      satrec.xl4 = dscomResult.xl4;\n      satrec.zmol = dscomResult.zmol;\n      satrec.zmos = dscomResult.zmos;\n      nm = dscomResult.nm;\n      z1 = dscomResult.z1;\n      z3 = dscomResult.z3;\n      z11 = dscomResult.z11;\n      z13 = dscomResult.z13;\n      z21 = dscomResult.z21;\n      z23 = dscomResult.z23;\n      z31 = dscomResult.z31;\n      z33 = dscomResult.z33;\n      var dpperOptions = {\n        inclo: inclm,\n        init: satrec.init,\n        ep: satrec.ecco,\n        inclp: satrec.inclo,\n        nodep: satrec.nodeo,\n        argpp: satrec.argpo,\n        mp: satrec.mo,\n        opsmode: satrec.operationmode\n      };\n      var dpperResult = dpper(satrec, dpperOptions);\n      satrec.ecco = dpperResult.ep;\n      satrec.inclo = dpperResult.inclp;\n      satrec.nodeo = dpperResult.nodep;\n      satrec.argpo = dpperResult.argpp;\n      satrec.mo = dpperResult.mp;\n      argpm = 0.0;\n      nodem = 0.0;\n      mm = 0.0;\n      var dsinitOptions = {\n        cosim: cosim,\n        emsq: emsq,\n        argpo: satrec.argpo,\n        s1: s1,\n        s2: s2,\n        s3: s3,\n        s4: s4,\n        s5: s5,\n        sinim: sinim,\n        ss1: ss1,\n        ss2: ss2,\n        ss3: ss3,\n        ss4: ss4,\n        ss5: ss5,\n        sz1: sz1,\n        sz3: sz3,\n        sz11: sz11,\n        sz13: sz13,\n        sz21: sz21,\n        sz23: sz23,\n        sz31: sz31,\n        sz33: sz33,\n        t: satrec.t,\n        tc: tc,\n        gsto: satrec.gsto,\n        mo: satrec.mo,\n        mdot: satrec.mdot,\n        no: satrec.no,\n        nodeo: satrec.nodeo,\n        nodedot: satrec.nodedot,\n        xpidot: xpidot,\n        z1: z1,\n        z3: z3,\n        z11: z11,\n        z13: z13,\n        z21: z21,\n        z23: z23,\n        z31: z31,\n        z33: z33,\n        ecco: satrec.ecco,\n        eccsq: eccsq,\n        em: em,\n        argpm: argpm,\n        inclm: inclm,\n        mm: mm,\n        nm: nm,\n        nodem: nodem,\n        irez: satrec.irez,\n        atime: satrec.atime,\n        d2201: satrec.d2201,\n        d2211: satrec.d2211,\n        d3210: satrec.d3210,\n        d3222: satrec.d3222,\n        d4410: satrec.d4410,\n        d4422: satrec.d4422,\n        d5220: satrec.d5220,\n        d5232: satrec.d5232,\n        d5421: satrec.d5421,\n        d5433: satrec.d5433,\n        dedt: satrec.dedt,\n        didt: satrec.didt,\n        dmdt: satrec.dmdt,\n        dnodt: satrec.dnodt,\n        domdt: satrec.domdt,\n        del1: satrec.del1,\n        del2: satrec.del2,\n        del3: satrec.del3,\n        xfact: satrec.xfact,\n        xlamo: satrec.xlamo,\n        xli: satrec.xli,\n        xni: satrec.xni\n      };\n      var dsinitResult = dsinit(dsinitOptions);\n      satrec.irez = dsinitResult.irez;\n      satrec.atime = dsinitResult.atime;\n      satrec.d2201 = dsinitResult.d2201;\n      satrec.d2211 = dsinitResult.d2211;\n      satrec.d3210 = dsinitResult.d3210;\n      satrec.d3222 = dsinitResult.d3222;\n      satrec.d4410 = dsinitResult.d4410;\n      satrec.d4422 = dsinitResult.d4422;\n      satrec.d5220 = dsinitResult.d5220;\n      satrec.d5232 = dsinitResult.d5232;\n      satrec.d5421 = dsinitResult.d5421;\n      satrec.d5433 = dsinitResult.d5433;\n      satrec.dedt = dsinitResult.dedt;\n      satrec.didt = dsinitResult.didt;\n      satrec.dmdt = dsinitResult.dmdt;\n      satrec.dnodt = dsinitResult.dnodt;\n      satrec.domdt = dsinitResult.domdt;\n      satrec.del1 = dsinitResult.del1;\n      satrec.del2 = dsinitResult.del2;\n      satrec.del3 = dsinitResult.del3;\n      satrec.xfact = dsinitResult.xfact;\n      satrec.xlamo = dsinitResult.xlamo;\n      satrec.xli = dsinitResult.xli;\n      satrec.xni = dsinitResult.xni;\n    }\n\n    // ----------- set variables if not deep space -----------\n    if (satrec.isimp !== 1) {\n      cc1sq = satrec.cc1 * satrec.cc1;\n      satrec.d2 = 4.0 * ao * tsi * cc1sq;\n      temp = satrec.d2 * tsi * satrec.cc1 / 3.0;\n      satrec.d3 = (17.0 * ao + sfour) * temp;\n      satrec.d4 = 0.5 * temp * ao * tsi * (221.0 * ao + 31.0 * sfour) * satrec.cc1;\n      satrec.t3cof = satrec.d2 + 2.0 * cc1sq;\n      satrec.t4cof = 0.25 * (3.0 * satrec.d3 + satrec.cc1 * (12.0 * satrec.d2 + 10.0 * cc1sq));\n      satrec.t5cof = 0.2 * (3.0 * satrec.d4 + 12.0 * satrec.cc1 * satrec.d3 + 6.0 * satrec.d2 * satrec.d2 + 15.0 * cc1sq * (2.0 * satrec.d2 + cc1sq));\n    }\n\n    /* finally propogate to zero epoch to initialize all others. */\n    // sgp4fix take out check to let satellites process until they are actually below earth surface\n    // if(satrec.error == 0)\n  }\n\n  sgp4(satrec, 0);\n  satrec.init = 'n';\n\n  /* eslint-enable no-param-reassign */\n}\n\n/* -----------------------------------------------------------------------------\n *\n *                           function twoline2rv\n *\n *  this function converts the two line element set character string data to\n *    variables and initializes the sgp4 variables. several intermediate varaibles\n *    and quantities are determined. note that the result is a structure so multiple\n *    satellites can be processed simultaneously without having to reinitialize. the\n *    verification mode is an important option that permits quick checks of any\n *    changes to the underlying technical theory. this option works using a\n *    modified tle file in which the start, stop, and delta time values are\n *    included at the end of the second line of data. this only works with the\n *    verification mode. the catalog mode simply propagates from -1440 to 1440 min\n *    from epoch and is useful when performing entire catalog runs.\n *\n *  author        : david vallado                  719-573-2600    1 mar 2001\n *\n *  inputs        :\n *    longstr1    - first line of the tle\n *    longstr2    - second line of the tle\n *    typerun     - type of run                    verification 'v', catalog 'c',\n *                                                 manual 'm'\n *    typeinput   - type of manual input           mfe 'm', epoch 'e', dayofyr 'd'\n *    opsmode     - mode of operation afspc or improved 'a', 'i'\n *    whichconst  - which set of constants to use  72, 84\n *\n *  outputs       :\n *    satrec      - structure containing all the sgp4 satellite information\n *\n *  coupling      :\n *    getgravconst-\n *    days2mdhms  - conversion of days to month, day, hour, minute, second\n *    jday        - convert day month year hour minute second into julian date\n *    sgp4init    - initialize the sgp4 variables\n *\n *  references    :\n *    norad spacetrack report #3\n *    vallado, crawford, hujsak, kelso  2006\n --------------------------------------------------------------------------- */\n\n/**\n * Return a Satellite imported from two lines of TLE data.\n *\n * Provide the two TLE lines as strings `longstr1` and `longstr2`,\n * and select which standard set of gravitational constants you want\n * by providing `gravity_constants`:\n *\n * `sgp4.propagation.wgs72` - Standard WGS 72 model\n * `sgp4.propagation.wgs84` - More recent WGS 84 model\n * `sgp4.propagation.wgs72old` - Legacy support for old SGP4 behavior\n *\n * Normally, computations are made using letious recent improvements\n * to the algorithm.  If you want to turn some of these off and go\n * back into \"afspc\" mode, then set `afspc_mode` to `True`.\n */\nfunction twoline2satrec(longstr1, longstr2) {\n  var opsmode = 'i';\n  var xpdotp = 1440.0 / (2.0 * pi); // 229.1831180523293;\n  var year = 0;\n  var satrec = {};\n  satrec.error = 0;\n  satrec.satnum = longstr1.substring(2, 7);\n  satrec.epochyr = parseInt(longstr1.substring(18, 20), 10);\n  satrec.epochdays = parseFloat(longstr1.substring(20, 32));\n  satrec.ndot = parseFloat(longstr1.substring(33, 43));\n  satrec.nddot = parseFloat(\".\".concat(parseInt(longstr1.substring(44, 50), 10), \"E\").concat(longstr1.substring(50, 52)));\n  satrec.bstar = parseFloat(\"\".concat(longstr1.substring(53, 54), \".\").concat(parseInt(longstr1.substring(54, 59), 10), \"E\").concat(longstr1.substring(59, 61)));\n\n  // satrec.satnum = longstr2.substring(2, 7);\n  satrec.inclo = parseFloat(longstr2.substring(8, 16));\n  satrec.nodeo = parseFloat(longstr2.substring(17, 25));\n  satrec.ecco = parseFloat(\".\".concat(longstr2.substring(26, 33)));\n  satrec.argpo = parseFloat(longstr2.substring(34, 42));\n  satrec.mo = parseFloat(longstr2.substring(43, 51));\n  satrec.no = parseFloat(longstr2.substring(52, 63));\n\n  // ---- find no, ndot, nddot ----\n  satrec.no /= xpdotp; //   rad/min\n  // satrec.nddot= satrec.nddot * Math.pow(10.0, nexp);\n  // satrec.bstar= satrec.bstar * Math.pow(10.0, ibexp);\n\n  // ---- convert to sgp4 units ----\n  // satrec.ndot /= (xpdotp * 1440.0); // ? * minperday\n  // satrec.nddot /= (xpdotp * 1440.0 * 1440);\n\n  // ---- find standard orbital elements ----\n  satrec.inclo *= deg2rad;\n  satrec.nodeo *= deg2rad;\n  satrec.argpo *= deg2rad;\n  satrec.mo *= deg2rad;\n\n  // ----------------------------------------------------------------\n  // find sgp4epoch time of element set\n  // remember that sgp4 uses units of days from 0 jan 1950 (sgp4epoch)\n  // and minutes from the epoch (time)\n  // ----------------------------------------------------------------\n\n  // ---------------- temp fix for years from 1957-2056 -------------------\n  // --------- correct fix will occur when year is 4-digit in tle ---------\n\n  if (satrec.epochyr < 57) {\n    year = satrec.epochyr + 2000;\n  } else {\n    year = satrec.epochyr + 1900;\n  }\n  var mdhmsResult = days2mdhms(year, satrec.epochdays);\n  var mon = mdhmsResult.mon,\n    day = mdhmsResult.day,\n    hr = mdhmsResult.hr,\n    minute = mdhmsResult.minute,\n    sec = mdhmsResult.sec;\n  satrec.jdsatepoch = jday(year, mon, day, hr, minute, sec);\n\n  //  ---------------- initialize the orbit at sgp4epoch -------------------\n  sgp4init(satrec, {\n    opsmode: opsmode,\n    satn: satrec.satnum,\n    epoch: satrec.jdsatepoch - 2433281.5,\n    xbstar: satrec.bstar,\n    xecco: satrec.ecco,\n    xargpo: satrec.argpo,\n    xinclo: satrec.inclo,\n    xmo: satrec.mo,\n    xno: satrec.no,\n    xnodeo: satrec.nodeo\n  });\n  return satrec;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction propagate() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  // Return a position and velocity vector for a given date and time.\n  var satrec = args[0];\n  var date = Array.prototype.slice.call(args, 1);\n  var j = jday.apply(void 0, _toConsumableArray(date));\n  var m = (j - satrec.jdsatepoch) * minutesPerDay;\n  return sgp4(satrec, m);\n}\n\nfunction dopplerFactor(location, position, velocity) {\n  var mfactor = 7.292115E-5;\n  var c = 299792.458; // Speed of light in km/s\n\n  var range = {\n    x: position.x - location.x,\n    y: position.y - location.y,\n    z: position.z - location.z\n  };\n  range.w = Math.sqrt(Math.pow(range.x, 2) + Math.pow(range.y, 2) + Math.pow(range.z, 2));\n  var rangeVel = {\n    x: velocity.x + mfactor * location.y,\n    y: velocity.y - mfactor * location.x,\n    z: velocity.z\n  };\n  function sign(value) {\n    return value >= 0 ? 1 : -1;\n  }\n  var rangeRate = (range.x * rangeVel.x + range.y * rangeVel.y + range.z * rangeVel.z) / range.w;\n  return 1 + rangeRate / c * sign(rangeRate);\n}\n\nfunction radiansToDegrees(radians) {\n  return radians * rad2deg;\n}\nfunction degreesToRadians(degrees) {\n  return degrees * deg2rad;\n}\nfunction degreesLat(radians) {\n  if (radians < -pi / 2 || radians > pi / 2) {\n    throw new RangeError('Latitude radians must be in range [-pi/2; pi/2].');\n  }\n  return radiansToDegrees(radians);\n}\nfunction degreesLong(radians) {\n  if (radians < -pi || radians > pi) {\n    throw new RangeError('Longitude radians must be in range [-pi; pi].');\n  }\n  return radiansToDegrees(radians);\n}\nfunction radiansLat(degrees) {\n  if (degrees < -90 || degrees > 90) {\n    throw new RangeError('Latitude degrees must be in range [-90; 90].');\n  }\n  return degreesToRadians(degrees);\n}\nfunction radiansLong(degrees) {\n  if (degrees < -180 || degrees > 180) {\n    throw new RangeError('Longitude degrees must be in range [-180; 180].');\n  }\n  return degreesToRadians(degrees);\n}\nfunction geodeticToEcf(geodetic) {\n  var longitude = geodetic.longitude,\n    latitude = geodetic.latitude,\n    height = geodetic.height;\n  var a = 6378.137;\n  var b = 6356.7523142;\n  var f = (a - b) / a;\n  var e2 = 2 * f - f * f;\n  var normal = a / Math.sqrt(1 - e2 * (Math.sin(latitude) * Math.sin(latitude)));\n  var x = (normal + height) * Math.cos(latitude) * Math.cos(longitude);\n  var y = (normal + height) * Math.cos(latitude) * Math.sin(longitude);\n  var z = (normal * (1 - e2) + height) * Math.sin(latitude);\n  return {\n    x: x,\n    y: y,\n    z: z\n  };\n}\nfunction eciToGeodetic(eci, gmst) {\n  // http://www.celestrak.com/columns/v02n03/\n  var a = 6378.137;\n  var b = 6356.7523142;\n  var R = Math.sqrt(eci.x * eci.x + eci.y * eci.y);\n  var f = (a - b) / a;\n  var e2 = 2 * f - f * f;\n  var longitude = Math.atan2(eci.y, eci.x) - gmst;\n  while (longitude < -pi) {\n    longitude += twoPi;\n  }\n  while (longitude > pi) {\n    longitude -= twoPi;\n  }\n  var kmax = 20;\n  var k = 0;\n  var latitude = Math.atan2(eci.z, Math.sqrt(eci.x * eci.x + eci.y * eci.y));\n  var C;\n  while (k < kmax) {\n    C = 1 / Math.sqrt(1 - e2 * (Math.sin(latitude) * Math.sin(latitude)));\n    latitude = Math.atan2(eci.z + a * C * e2 * Math.sin(latitude), R);\n    k += 1;\n  }\n  var height = R / Math.cos(latitude) - a * C;\n  return {\n    longitude: longitude,\n    latitude: latitude,\n    height: height\n  };\n}\nfunction ecfToEci(ecf, gmst) {\n  // ccar.colorado.edu/ASEN5070/handouts/coordsys.doc\n  //\n  // [X]     [C -S  0][X]\n  // [Y]  =  [S  C  0][Y]\n  // [Z]eci  [0  0  1][Z]ecf\n  //\n  var X = ecf.x * Math.cos(gmst) - ecf.y * Math.sin(gmst);\n  var Y = ecf.x * Math.sin(gmst) + ecf.y * Math.cos(gmst);\n  var Z = ecf.z;\n  return {\n    x: X,\n    y: Y,\n    z: Z\n  };\n}\nfunction eciToEcf(eci, gmst) {\n  // ccar.colorado.edu/ASEN5070/handouts/coordsys.doc\n  //\n  // [X]     [C -S  0][X]\n  // [Y]  =  [S  C  0][Y]\n  // [Z]eci  [0  0  1][Z]ecf\n  //\n  //\n  // Inverse:\n  // [X]     [C  S  0][X]\n  // [Y]  =  [-S C  0][Y]\n  // [Z]ecf  [0  0  1][Z]eci\n\n  var x = eci.x * Math.cos(gmst) + eci.y * Math.sin(gmst);\n  var y = eci.x * -Math.sin(gmst) + eci.y * Math.cos(gmst);\n  var z = eci.z;\n  return {\n    x: x,\n    y: y,\n    z: z\n  };\n}\nfunction topocentric(observerGeodetic, satelliteEcf) {\n  // http://www.celestrak.com/columns/v02n02/\n  // TS Kelso's method, except I'm using ECF frame\n  // and he uses ECI.\n\n  var longitude = observerGeodetic.longitude,\n    latitude = observerGeodetic.latitude;\n  var observerEcf = geodeticToEcf(observerGeodetic);\n  var rx = satelliteEcf.x - observerEcf.x;\n  var ry = satelliteEcf.y - observerEcf.y;\n  var rz = satelliteEcf.z - observerEcf.z;\n  var topS = Math.sin(latitude) * Math.cos(longitude) * rx + Math.sin(latitude) * Math.sin(longitude) * ry - Math.cos(latitude) * rz;\n  var topE = -Math.sin(longitude) * rx + Math.cos(longitude) * ry;\n  var topZ = Math.cos(latitude) * Math.cos(longitude) * rx + Math.cos(latitude) * Math.sin(longitude) * ry + Math.sin(latitude) * rz;\n  return {\n    topS: topS,\n    topE: topE,\n    topZ: topZ\n  };\n}\n\n/**\n * @param {Object} tc\n * @param {Number} tc.topS Positive horizontal vector S due south.\n * @param {Number} tc.topE Positive horizontal vector E due east.\n * @param {Number} tc.topZ Vector Z normal to the surface of the earth (up).\n * @returns {Object}\n */\nfunction topocentricToLookAngles(tc) {\n  var topS = tc.topS,\n    topE = tc.topE,\n    topZ = tc.topZ;\n  var rangeSat = Math.sqrt(topS * topS + topE * topE + topZ * topZ);\n  var El = Math.asin(topZ / rangeSat);\n  var Az = Math.atan2(-topE, topS) + pi;\n  return {\n    azimuth: Az,\n    elevation: El,\n    rangeSat: rangeSat // Range in km\n  };\n}\n\nfunction ecfToLookAngles(observerGeodetic, satelliteEcf) {\n  var topocentricCoords = topocentric(observerGeodetic, satelliteEcf);\n  return topocentricToLookAngles(topocentricCoords);\n}\n\nexport { constants, degreesLat, degreesLong, degreesToRadians, dopplerFactor, ecfToEci, ecfToLookAngles, eciToEcf, eciToGeodetic, geodeticToEcf, gstime, invjday, jday, propagate, radiansLat, radiansLong, radiansToDegrees, sgp4, twoline2satrec };\n"],"names":["isNumber","subject","isObject","Object","prototype","toString","call","isRecord","Array","isArray","mathAbs","n","Math","abs","mathSign","deltaAbs","valueB","valueA","arrayKeys","array","objectKeys","map","Number","arrayLast","arrayLastIndex","max","length","object","keys","objectsMergeDeep","objectA","objectB","reduce","mergedObjects","currentObject","forEach","key","areObjects","objectsAreEqual","objectAKeys","objectBKeys","every","concat","Alignment","align","viewSize","predefined","start","center","end","measure","Limit","min","reachedMin","reachedMax","reachedAny","constrain","removeOffset","ceil","Counter","loop","loopEnd","counter","withinLimit","get","set","self","add","clone","EventStore","listeners","node","type","handler","options","passive","addEventListener","push","removeEventListener","removeAll","filter","remove","Vector1D","value","vector","divide","readNumber","multiply","normalize","subtract","DragHandler","axis","direction","rootNode","target","dragTracker","location","animation","scrollTo","scrollBody","scrollTarget","index","eventHandler","percentOfView","dragFree","skipSnaps","crossAxis","focusNodes","nonPassiveEvent","dragStartPoint","activationEvents","interactionEvents","dragThreshold","snapForceBoost","mouse","touch","freeForceBoost","baseSpeed","baseMass","startScroll","startCross","pointerIsDown","preventScroll","preventClick","isMouse","down","evt","isTouchEvent","button","name","nodeName","indexOf","isFocusNode","isMoving","clearPreventClick","pointerDown","useBaseMass","useSpeed","document","move","up","addInteractionEvents","readPoint","emit","cancelable","lastScroll","lastCross","diffScroll","diffCross","diff","pointerMove","apply","preventDefault","targetChanged","byDistance","rawForce","pointerUp","force","next","isEdge","baseForce","distance","byIndex","allowedForce","forceFactor","factorAbs","isVigorous","isBelowThreshold","speed","mass","useMass","click","stopPropagation","addActivationEvents","clickAllowed","removeAllEvents","ScrollBody","roundToTwoDecimals","decimalPoints","pow","round","roundToDecimals","velocity","acceleration","attraction","attractionDirection","seek","iStart","oStart","magnitude","settle","hasSettled","update","useBaseSpeed","ScrollBounds","limit","pullBackThreshold","edgeOffsetTolerance","maxFriction","disabled","edge","diffToEdge","diffToTarget","friction","toggleActive","active","ScrollContain","contentSize","snapsAligned","containScroll","scrollBounds","snapsBounded","snapsContained","startSnap","endSnap","lastIndexOf","findDuplicates","slice","measureContained","ScrollLooper","vectors","shouldLoop","loopDistance","v","ScrollProgress","scrollLength","ScrollTarget","scrollSnaps","targetVector","minDistance","distances","sort","a","b","shortcut","targets","t","snap","scrollSnap","diffToSnap","i","d1","d2","findTargetSnap","targetSnapDistance","reachedBound","Translate","container","translate","scroll","containerStyle","style","clear","transform","getAttribute","removeAttribute","to","SlideLooper","slideSizesWithGaps","slidesInView","slides","ascItems","descItems","reverse","loopPoints","gap","findLoopPoints","slidesInGap","startPoints","endPoints","removeSlideSizes","indexes","from","isStartEdge","offset","slideBounds","findSlideBounds","initial","altered","point","shift","canLoop","_a","loopPoint","SlidesInView","slideSizes","snaps","inViewThreshold","roundingSafety","cachedOffsets","cachedBounds","offsets","threshold","slideOffsets","slideThresholds","slideThreshold","slideSize","findSlideThresholds","list","bounds","check","limitedLocation","slideBound","SlidesToScroll","slidesToScroll","groupByNumber","groupSlides","groupSize","byNumber","groupSizes","chunkSize","s","bySize","Engine","root","scrollAxis","contentDirection","startIndex","containerRect","getBoundingClientRect","slideRects","slide","sign","Direction","cross","startEdge","endEdge","measureSize","rect","width","height","Axis","PercentOfView","alignment","containSnaps","readEdgeGap","withEdgeGap","startGap","slideRect","measureStartGap","endGap","window","getComputedStyle","parseFloat","getPropertyValue","measureEndGap","rects","isFirst","isLast","SlideSizes","alignments","containedEndSnap","g","groupedSnaps","measureAligned","ScrollSnaps","measureLimit","ScrollLimit","indexPrevious","slideIndexes","callback","animationFrame","ifAnimating","cb","requestAnimationFrame","proceed","stop","cancelAnimationFrame","Animation","engine","dragHandler","settled","scrollLooper","slideLooper","startLocation","indexCurrent","distanceDiff","indexDiff","targetIndex","ScrollTo","startEvent","lastEvent","logInterval","TouchEvent","readTime","timeStamp","evtAxis","property","coord","touches","expired","diffDrag","diffTime","DragTracker","eventStore","scrollProgress","defaultOptions","breakpoints","draggable","OptionsHandler","merge","optionsA","optionsB","areEqual","JSON","stringify","atMedia","optionsAtMedia","matchedMediaOptions","media","matchMedia","matches","mediaOption","EmblaCarousel","nodes","userOptions","userPlugins","pluginApis","resizeHandlers","optionsHandler","pluginsHandler","activePlugins","pluginsChanged","hasChanged","plugin","init","plugins","embla","assign","destroy","haveChanged","some","PluginsHandler","getListeners","e","off","on","EventHandler","reInit","reActivate","destroyed","optionsBase","globalOptions","pluginList","rootSize","activate","withOptions","withPlugins","providedContainer","providedSlides","children","storeElements","deActivate","offsetParent","selectedScrollSnap","jump","canScrollNext","canScrollPrev","containerNode","internalEngine","previousScrollSnap","scrollNext","scrollPrev","scrollSnapList","slideNodes","slidesNotInView","inView","newOptions","optionsChanged","newRootSize","rootSizeChanged","setTimeout","sortAndMapPluginToOptions","useEmblaCarousel","useRef","storedOptions","storedPlugins","useState","setEmbla","viewport","setViewport","useCallback","current","useEffect","createElement","newEmbla_1","undefined","pluginsA","pluginsB","optionA","optionB","arePluginsEqual","pi","PI","twoPi","deg2rad","rad2deg","minutesPerDay","mu","earthRadius","xke","sqrt","vkmpersec","tumin","j2","j3","j4","j3oj2","x2o3","constants","freeze","__proto__","days2mdhms","year","days","lmonth","dayofyr","floor","inttemp","mon","day","temp","hr","minute","sec","jdayInternal","msec","arguments","jday","Date","date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","invjday","jd","asArray","tu","leapyrs","mdhms","UTC","dpper","satrec","alfdp","betdp","cosip","sinip","cosop","sinop","f2","f3","pe","pgh","ph","pinc","pl","sinzf","xls","xnoh","zf","zm","e3","ee2","peo","pgho","pho","pinco","plo","se2","se3","sgh2","sgh3","sgh4","sh2","sh3","si2","si3","sl2","sl3","sl4","xgh2","xgh3","xgh4","xh2","xh3","xi2","xi3","xl2","xl3","xl4","zmol","zmos","opsmode","ep","inclp","nodep","argpp","mp","sin","ses","cos","sis","sls","sghs","shs","atan2","gstimeInternal","jdut1","tut1","gstime","sgp4","tsince","coseo1","sineo1","cosisq","delomg","eo1","argpm","su","t3","t4","tc","tem5","tempa","tempe","templ","inclm","mm","nm","nodem","xincp","xlm","error","xmdf","mo","mdot","argpdf","argpo","argpdot","nodedf","nodeo","nodedot","t2","nodecf","cc1","bstar","cc4","t2cof","isimp","omgcof","delmtemp","eta","xmcof","delmo","d3","d4","cc5","sinmao","t3cof","t4cof","t5cof","no","em","ecco","inclo","method","dspaceResult","delt","x2li","x2omi","xl","xldot","xnddt","xndt","xomi","irez","d2201","d2211","d3210","d3222","d4410","d4422","d5220","d5232","d5421","d5433","dedt","del1","del2","del3","didt","dmdt","dnodt","domdt","gsto","xfact","xlamo","atime","xli","xni","fasx2","fasx4","fasx6","g22","g32","g44","g52","g54","step2","dndt","ft","theta","iretn","dspace","am","dpperResult","operationmode","aycof","xlcof","axnl","aynl","u","ktr","ecose","esine","el2","rl","rdotl","rvdotl","betal","sinu","cosu","sin2u","cos2u","temp1","temp2","con41","x1mth2","x7thm1","mrt","position","xnode","xinc","mvt","rvdot","sinsu","cossu","snod","cnod","sini","cosi","xmx","xmy","ux","uy","uz","x","y","z","sgp4init","cosim","sinim","cc1sq","cc2","cc3","coef","coef1","cosio4","emsq","eeta","etasq","perige","pinvsq","psisq","qzms24","s1","s2","s3","s4","s5","sfour","ss1","ss2","ss3","ss4","ss5","sz1","sz3","sz11","sz13","sz21","sz23","sz31","sz33","temp3","tsi","xpidot","xhdot1","z1","z3","z11","z13","z21","z23","z31","z33","satn","epoch","xbstar","xecco","xargpo","xinclo","xmo","xno","xnodeo","ss","qzms2ttemp","qzms2t","initlResult","eccsq","omeosq","rteosq","cosio","cosio2","ak","delPrime","adel","ao","sinio","po","con42","ainv","posq","rp","ts70","ds70","c1","initl","alta","altp","qzms24temp","delmotemp","dscomResult","a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","cc","x1","x2","x3","x4","x5","x6","x7","x8","zcosg","zsing","zcosh","zsinh","zcosi","zsini","ss6","ss7","sz2","sz12","sz22","sz32","s6","s7","z2","z12","z22","z32","zes","zel","np","snodm","cnodm","sinomm","cosomm","betasq","rtemsq","xnodce","stem","ctem","zcosil","zsinil","zsinhl","zcoshl","gam","zx","zy","zcosgl","zsingl","xnoi","lsflg","dscom","dsinitResult","f220","f330","g211","g310","g322","g410","g422","g520","g521","g532","g533","sini2","aonv","eoc","rptim","znl","zns","shll","emo","emsqo","dsinit","twoline2satrec","longstr1","longstr2","xpdotp","satnum","substring","epochyr","parseInt","epochdays","ndot","nddot","mdhmsResult","jdsatepoch","_toConsumableArray","arr","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","_iterableToArray","o","minLen","constructor","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","arr2","propagate","_len","args","_key","dopplerFactor","mfactor","range","w","rangeVel","rangeRate","radiansToDegrees","radians","degreesToRadians","degrees","degreesLat","RangeError","degreesLong","radiansLat","radiansLong","geodeticToEcf","geodetic","longitude","latitude","f","e2","normal","eciToGeodetic","eci","gmst","R","C","k","ecfToEci","ecf","eciToEcf","ecfToLookAngles","observerGeodetic","satelliteEcf","topocentricCoords","observerEcf","rx","ry","rz","topS","topE","topZ","topocentric","rangeSat","El","asin","azimuth","elevation","topocentricToLookAngles"],"sourceRoot":""}